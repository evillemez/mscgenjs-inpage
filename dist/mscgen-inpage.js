!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){!function(){var t=[r(1),r(2),r(3),r(26),r(27),r(28),r(30),r(29)];(function(t,e,r,n,o,i,a,c){"use strict";function u(){s();var t=document.getElementsByClassName("mscgen_js");l(t,0),l(document.getElementsByTagName("mscgen"),t.length)}function s(){for(var t=document.scripts,e=0;e<t.length;e++)L[t[e].type]&&!t[e].hasAttribute("data-renderedby")&&(t[e].insertAdjacentHTML("afterend",c.applyTemplate(C,{src:t[e].src?c.applyTemplate(_,{src:t[e].src}):"",lang:L[t[e].type]||o.getConfig().defaultLanguage,msc:t[e].textContent.replace(/</g,"&lt;"),mirrorEntities:x(t[e])?"data-mirror-entities='true'":"",namedStyle:y(t[e])})),t[e].setAttribute("data-renderedby","mscgen_js"))}function l(t,e){for(var r=0;r<t.length;r++)f(t[r],e+r)}function f(t,e){t.hasAttribute("data-renderedby")||h(t,e)}function d(t,e){t.innerHTML=c.applyTemplate("<div style='color: #d00'>{string}</div>",{string:e})}function h(t,e){m(t,e),t.setAttribute("data-renderedby","mscgen_js"),o.getConfig().loadFromSrcAttribute&&t.getAttribute("data-src")?a.ajax(t.getAttribute("data-src"),function(e){p(t,e.target.response)},function(){d(t,c.applyTemplate(A,{url:t.getAttribute("data-src")}))}):!o.getConfig().loadFromSrcAttribute&&t.getAttribute("data-src")?d(t,c.applyTemplate(k,{url:t.getAttribute("data-src")})):p(t,t.textContent)}function p(t,e){var r=b(t),n=v(e,r);n.entities?w(n,t.id,e,r,x(t),y(t)):t.innerHTML=i.renderError(e,n.location,n.message)}function g(t,e,r){var i={pathname:"index.html"},a=document.createElement("a");return a.setAttribute("href",o.getConfig().clickURL+n.toLocationString(i,t,e)),a.setAttribute("id",r+"link"),a.setAttribute("style","text-decoration: none;"),a.setAttribute("title","click to edit in the mscgen_js interpreter"),a}function m(t,e){t.id||(t.id=o.getConfig().parentElementPrefix+e.toString())}function b(t){var e=t.getAttribute("data-language");return e||(e=o.getConfig().defaultLanguage),e}function x(t){var e=t.getAttribute("data-mirror-entities");return!(!e||"true"!==e)}function y(t){return t.getAttribute("data-named-style")||"basic"}function v(r,n){var o={};try{o="msgenny"===n?e.parse(r):"json"===n?JSON.parse(r):t.parse(r)}catch(t){return t}return o}function w(t,e,n,i,a,c){var u=document.getElementById(e);u.innerHTML="",!0===o.getConfig().clickable&&(u.appendChild(g(n,i,e)),e+="link"),r.clean(e,window),r.renderASTNew(t,window,e,{source:n,additionalTemplate:c,mirrorEntitiesOnBottom:a})}var C="<span class='mscgen_js' {src} data-language='{lang}' data-named-style='{namedStyle}' {mirrorEntities}>{msc}<span>",_="data-src='{src}' ",A="ERROR: Could not find or open the URL '{url}' specified in the <code>data-src</code> attribute.",k="ERROR: Won't load the chart specified in <code>data-src='{url}'</code>, because loading from separate files is switched off in the mscgen_js configuration. <br><br>See <a href='https://sverweij.github.io/mscgen_js/embed.html#loading-from-separate-files'>Loading charts from separate files</a> in the mscgen_js embedding guide how to enable it.",L={"text/x-mscgen":"mscgen","text/x-msgenny":"msgenny","text/x-xu":"xu"};u()}).apply(null,t)}()},function(t,e,r){var n,o,i;!function(r,a){o=[],n=a,i="function"==typeof n?n.apply(e,o):n,!(void 0!==i&&(t.exports=i))}(this,function(){"use strict";function t(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}function e(t,r,n,o){this.message=t,this.expected=r,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}function r(t,r){function n(){return f(ui,ci)}function o(t,e){throw e=void 0!==e?e:f(ui,ci),h(t,e)}function i(t,e){return{type:"literal",text:t,ignoreCase:e}}function a(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function c(){return{type:"any"}}function u(){return{type:"end"}}function s(t){return{type:"other",description:t}}function l(e){var r,n=si[e];if(n)return n;for(r=e-1;!si[r];)r--;for(n=si[r],n={line:n.line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return si[e]=n,n}function f(t,e){var r=l(t),n=l(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function d(t){ci<li||(ci>li&&(li=ci,fi=[]),fi.push(t))}function h(t,r){return new e(t,null,null,r)}function p(t,r,n){return new e(e.buildMessage(t,r),t,r,n)}function g(){var e,r,n,o,i,a,c,u,s,l;return e=ci,r=et(),r!==Lt?(n=m(),n!==Lt?(o=et(),o!==Lt?(123===t.charCodeAt(ci)?(i=St,ci++):(i=Lt,0===di&&d(It)),i!==Lt?(a=et(),a!==Lt?(c=b(),c!==Lt?(u=et(),u!==Lt?(125===t.charCodeAt(ci)?(s=Ft,ci++):(s=Lt,0===di&&d(Bt)),s!==Lt?(l=et(),l!==Lt?(ui=e,r=Dt(r,c),e=r):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt),e}function m(){var e;return t.substr(ci,3).toLowerCase()===Nt?(e=t.substr(ci,3),ci+=3):(e=Lt,0===di&&d(Pt)),e===Lt&&(t.substr(ci,2).toLowerCase()===jt?(e=t.substr(ci,2),ci+=2):(e=Lt,0===di&&d(Mt))),e}function b(){var t,e,r,n;return t=ci,e=x(),e===Lt&&(e=null),e!==Lt?(r=v(),r===Lt&&(r=null),r!==Lt?(n=C(),n===Lt&&(n=null),n!==Lt?(ui=t,e=Ht(e,r,n),t=e):(ci=t,t=Lt)):(ci=t,t=Lt)):(ci=t,t=Lt),t}function x(){var e,r,n,o,i,a;for(e=ci,r=ci,n=[],o=ci,i=y(),i!==Lt?(44===t.charCodeAt(ci)?(a=Ot,ci++):(a=Lt,0===di&&d(Wt)),a!==Lt?(ui=o,i=Rt(i),o=i):(ci=o,o=Lt)):(ci=o,o=Lt);o!==Lt;)n.push(o),o=ci,i=y(),i!==Lt?(44===t.charCodeAt(ci)?(a=Ot,ci++):(a=Lt,0===di&&d(Wt)),a!==Lt?(ui=o,i=Rt(i),o=i):(ci=o,o=Lt)):(ci=o,o=Lt);return n!==Lt?(o=ci,i=y(),i!==Lt?(59===t.charCodeAt(ci)?(a=zt,ci++):(a=Lt,0===di&&d(Gt)),a!==Lt?(ui=o,i=Rt(i),o=i):(ci=o,o=Lt)):(ci=o,o=Lt),o!==Lt?(n=[n,o],r=n):(ci=r,r=Lt)):(ci=r,r=Lt),r!==Lt&&(ui=e,r=Xt(r)),e=r}function y(){var e,r,n,o,i,a,c,u;return di++,e=ci,r=et(),r!==Lt?(t.substr(ci,6).toLowerCase()===Ut?(n=t.substr(ci,6),ci+=6):(n=Lt,0===di&&d(Vt)),n===Lt&&(t.substr(ci,11).toLowerCase()===Kt?(n=t.substr(ci,11),ci+=11):(n=Lt,0===di&&d(Yt))),n!==Lt?(o=et(),o!==Lt?(61===t.charCodeAt(ci)?(i=$t,ci++):(i=Lt,0===di&&d(Zt)),i!==Lt?(a=et(),a!==Lt?(c=rt(),c!==Lt?(u=et(),u!==Lt?(ui=e,r=Jt(n,c),e=r):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt),e===Lt&&(e=ci,r=et(),r!==Lt?(t.substr(ci,5).toLowerCase()===Qt?(n=t.substr(ci,5),ci+=5):(n=Lt,0===di&&d(te)),n!==Lt?(o=et(),o!==Lt?(61===t.charCodeAt(ci)?(i=$t,ci++):(i=Lt,0===di&&d(Zt)),i!==Lt?(a=et(),a!==Lt?(c=lt(),c!==Lt?(u=et(),u!==Lt?(ui=e,r=Jt(n,c),e=r):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt),e===Lt&&(e=ci,r=et(),r!==Lt?(t.substr(ci,12).toLowerCase()===ee?(n=t.substr(ci,12),ci+=12):(n=Lt,0===di&&d(re)),n!==Lt?(o=et(),o!==Lt?(61===t.charCodeAt(ci)?(i=$t,ci++):(i=Lt,0===di&&d(Zt)),i!==Lt?(a=et(),a!==Lt?(c=ct(),c!==Lt?(u=et(),u!==Lt?(ui=e,r=ne(n,c),e=r):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt),e===Lt&&(e=ci,r=et(),r!==Lt?(t.substr(ci,9).toLowerCase()===oe?(n=t.substr(ci,9),ci+=9):(n=Lt,0===di&&d(ie)),n!==Lt?(o=et(),o!==Lt?(61===t.charCodeAt(ci)?(i=$t,ci++):(i=Lt,0===di&&d(Zt)),i!==Lt?(a=et(),a!==Lt?(c=R(),c!==Lt?(u=et(),u!==Lt?(ui=e,r=Jt(n,c),e=r):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)))),di--,e===Lt&&(r=Lt,0===di&&d(qt)),e}function v(){var e,r,n,o,i,a;for(e=ci,r=ci,n=[],o=ci,i=w(),i!==Lt?(44===t.charCodeAt(ci)?(a=Ot,ci++):(a=Lt,0===di&&d(Wt)),a!==Lt?(ui=o,i=ae(i),o=i):(ci=o,o=Lt)):(ci=o,o=Lt);o!==Lt;)n.push(o),o=ci,i=w(),i!==Lt?(44===t.charCodeAt(ci)?(a=Ot,ci++):(a=Lt,0===di&&d(Wt)),a!==Lt?(ui=o,i=ae(i),o=i):(ci=o,o=Lt)):(ci=o,o=Lt);return n!==Lt?(o=ci,i=w(),i!==Lt?(59===t.charCodeAt(ci)?(a=zt,ci++):(a=Lt,0===di&&d(Gt)),a!==Lt?(ui=o,i=ae(i),o=i):(ci=o,o=Lt)):(ci=o,o=Lt),o!==Lt?(n=[n,o],r=n):(ci=r,r=Lt)):(ci=r,r=Lt),r!==Lt&&(ui=e,r=ce(r)),e=r}function w(){var e,r,n,o,i,a,c,u;return di++,e=ci,r=et(),r!==Lt?(n=R(),n!==Lt?(o=et(),o!==Lt?(i=ci,91===t.charCodeAt(ci)?(a=se,ci++):(a=Lt,0===di&&d(le)),a!==Lt?(c=H(),c!==Lt?(93===t.charCodeAt(ci)?(u=fe,ci++):(u=Lt,0===di&&d(de)),u!==Lt?(ui=i,a=he(n,c),i=a):(ci=i,i=Lt)):(ci=i,i=Lt)):(ci=i,i=Lt),i===Lt&&(i=null),i!==Lt?(a=et(),a!==Lt?(ui=e,r=pe(n,i),e=r):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt),e===Lt&&(e=ci,r=et(),r!==Lt?(n=X(),n!==Lt?(o=et(),o!==Lt?(i=ci,91===t.charCodeAt(ci)?(a=se,ci++):(a=Lt,0===di&&d(le)),a!==Lt?(c=H(),c!==Lt?(93===t.charCodeAt(ci)?(u=fe,ci++):(u=Lt,0===di&&d(de)),u!==Lt?(ui=i,a=he(n,c),i=a):(ci=i,i=Lt)):(ci=i,i=Lt)):(ci=i,i=Lt),i===Lt&&(i=null),i!==Lt?(a=et(),a!==Lt?(ui=e,r=ge(n,i),e=r):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)),di--,e===Lt&&(r=Lt,0===di&&d(ue)),e}function C(){var e,r,n,o,i;if(e=[],r=ci,n=_(),n!==Lt?(o=et(),o!==Lt?(59===t.charCodeAt(ci)?(i=zt,ci++):(i=Lt,0===di&&d(Gt)),i!==Lt?(ui=r,n=me(n),r=n):(ci=r,r=Lt)):(ci=r,r=Lt)):(ci=r,r=Lt),r!==Lt)for(;r!==Lt;)e.push(r),r=ci,n=_(),n!==Lt?(o=et(),o!==Lt?(59===t.charCodeAt(ci)?(i=zt,ci++):(i=Lt,0===di&&d(Gt)),i!==Lt?(ui=r,n=me(n),r=n):(ci=r,r=Lt)):(ci=r,r=Lt)):(ci=r,r=Lt);else e=Lt;return e}function _(){var e,r,n,o,i,a,c;for(e=ci,r=ci,n=[],o=ci,i=A(),i!==Lt?(a=et(),a!==Lt?(44===t.charCodeAt(ci)?(c=Ot,ci++):(c=Lt,0===di&&d(Wt)),c!==Lt?(ui=o,i=me(i),o=i):(ci=o,o=Lt)):(ci=o,o=Lt)):(ci=o,o=Lt);o!==Lt;)n.push(o),o=ci,i=A(),i!==Lt?(a=et(),a!==Lt?(44===t.charCodeAt(ci)?(c=Ot,ci++):(c=Lt,0===di&&d(Wt)),c!==Lt?(ui=o,i=me(i),o=i):(ci=o,o=Lt)):(ci=o,o=Lt)):(ci=o,o=Lt);return n!==Lt?(o=ci,i=A(),i!==Lt&&(ui=o,i=me(i)),o=i,o!==Lt?(n=[n,o],r=n):(ci=r,r=Lt)):(ci=r,r=Lt),r!==Lt&&(ui=e,r=be(r)),e=r}function A(){var t;return t=k(),t===Lt&&(t=S()),t}function k(){var e,r,n,o,i,a;return e=ci,r=ci,n=L(),n!==Lt&&(ui=r,n=me(n)),r=n,r===Lt&&(r=ci,n=T(),n!==Lt&&(ui=r,n=me(n)),r=n,r===Lt&&(r=ci,n=E(),n!==Lt&&(ui=r,n=me(n)),r=n)),r!==Lt?(n=ci,91===t.charCodeAt(ci)?(o=se,ci++):(o=Lt,0===di&&d(le)),o!==Lt?(i=H(),i!==Lt?(93===t.charCodeAt(ci)?(a=fe,ci++):(a=Lt,0===di&&d(de)),a!==Lt?(ui=n,o=xe(r,i),n=o):(ci=n,n=Lt)):(ci=n,n=Lt)):(ci=n,n=Lt),n===Lt&&(n=null),n!==Lt?(ui=e,r=ye(r,n),e=r):(ci=e,e=Lt)):(ci=e,e=Lt),e}function L(){var t,e,r,n;return t=ci,e=et(),e!==Lt?(r=I(),r!==Lt?(n=et(),n!==Lt?(ui=t,e=ve(r),t=e):(ci=t,t=Lt)):(ci=t,t=Lt)):(ci=t,t=Lt),t}function E(){var t,e,r,n;return t=ci,e=et(),e!==Lt?(r=F(),r!==Lt?(n=et(),n!==Lt?(ui=t,e=ve(r),t=e):(ci=t,t=Lt)):(ci=t,t=Lt)):(ci=t,t=Lt),t}function T(){var e,r,n,o,i,a,c,u;return e=ci,r=et(),r!==Lt?(n=G(),n!==Lt?(o=et(),o!==Lt?(i=B(),i!==Lt?(a=et(),a!==Lt?(c=G(),c!==Lt?(u=et(),u!==Lt?(ui=e,r=we(n,i,c),e=r):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt),e===Lt&&(e=ci,r=et(),r!==Lt?(42===t.charCodeAt(ci)?(n=Ce,ci++):(n=Lt,0===di&&d(_e)),n!==Lt?(o=et(),o!==Lt?(i=P(),i!==Lt?(a=et(),a!==Lt?(c=G(),c!==Lt?(u=et(),u!==Lt?(ui=e,r=Ae(i,c),e=r):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt),e===Lt&&(e=ci,r=et(),r!==Lt?(n=G(),n!==Lt?(o=et(),o!==Lt?(i=N(),i!==Lt?(a=et(),a!==Lt?(42===t.charCodeAt(ci)?(c=Ce,ci++):(c=Lt,0===di&&d(_e)),c!==Lt?(u=et(),u!==Lt?(ui=e,r=ke(n,i),e=r):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt),e===Lt&&(e=ci,r=et(),r!==Lt?(n=G(),n!==Lt?(o=et(),o!==Lt?(i=D(),i!==Lt?(a=et(),a!==Lt?(42===t.charCodeAt(ci)?(c=Ce,ci++):(c=Lt,0===di&&d(_e)),c!==Lt?(u=et(),u!==Lt?(ui=e,r=ke(n,i),e=r):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)))),e}function S(){var e,r,n,o,i,a,c,u,s,l,f,h,p,g,m,b;return e=ci,r=et(),r!==Lt?(n=G(),n!==Lt?(o=et(),o!==Lt?(i=M(),i!==Lt?(a=et(),a!==Lt?(c=G(),c!==Lt?(u=et(),u!==Lt?(s=ci,91===t.charCodeAt(ci)?(l=se,ci++):(l=Lt,0===di&&d(le)),l!==Lt?(f=H(),f!==Lt?(93===t.charCodeAt(ci)?(h=fe,ci++):(h=Lt,0===di&&d(de)),h!==Lt?(ui=s,l=Le(n,i,c,f),s=l):(ci=s,s=Lt)):(ci=s,s=Lt)):(ci=s,s=Lt),s===Lt&&(s=null),s!==Lt?(l=et(),l!==Lt?(123===t.charCodeAt(ci)?(f=St,ci++):(f=Lt,0===di&&d(It)),f!==Lt?(h=et(),h!==Lt?(p=C(),p===Lt&&(p=null),p!==Lt?(g=et(),g!==Lt?(125===t.charCodeAt(ci)?(m=Ft,ci++):(m=Lt,0===di&&d(Bt)),m!==Lt?(b=et(),b!==Lt?(ui=e,r=Ee(n,i,c,s,p),e=r):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt),e}function I(){var e,r;return di++,t.substr(ci,3)===Se?(e=Se,ci+=3):(e=Lt,0===di&&d(Ie)),e===Lt&&(t.substr(ci,3)===Fe?(e=Fe,ci+=3):(e=Lt,0===di&&d(Be))),di--,e===Lt&&(r=Lt,0===di&&d(Te)),e}function F(){var e,r;return di++,t.substr(ci,3)===Ne?(e=Ne,ci+=3):(e=Lt,0===di&&d(Pe)),di--,e===Lt&&(r=Lt,0===di&&d(De)),e}function B(){var t,e;return t=ci,e=D(),e===Lt&&(e=N(),e===Lt&&(e=P(),e===Lt&&(e=j()))),e!==Lt&&(ui=t,e=je(e)),t=e}function D(){var e,r;return di++,t.substr(ci,2)===He?(e=He,ci+=2):(e=Lt,0===di&&d(Oe)),e===Lt&&(t.substr(ci,3)===We?(e=We,ci+=3):(e=Lt,0===di&&d(Re)),e===Lt&&(t.substr(ci,2)===ze?(e=ze,ci+=2):(e=Lt,0===di&&d(Ge)),e===Lt&&(t.substr(ci,5)===Xe?(e=Xe,ci+=5):(e=Lt,0===di&&d(qe)),e===Lt&&(t.substr(ci,3)===Ue?(e=Ue,ci+=3):(e=Lt,0===di&&d(Ve)),e===Lt&&(t.substr(ci,2)===Ke?(e=Ke,ci+=2):(e=Lt,0===di&&d(Ye)),e===Lt&&(t.substr(ci,4)===$e?(e=$e,ci+=4):(e=Lt,0===di&&d(Ze)),e===Lt&&(t.substr(ci,2)===Je?(e=Je,ci+=2):(e=Lt,0===di&&d(Qe)),e===Lt&&(t.substr(ci,3)===tr?(e=tr,ci+=3):(e=Lt,0===di&&d(er)))))))))),di--,e===Lt&&(r=Lt,0===di&&d(Me)),e}function N(){var e,r;return di++,t.substr(ci,2)===nr?(e=nr,ci+=2):(e=Lt,0===di&&d(or)),e===Lt&&(t.substr(ci,3)===ir?(e=ir,ci+=3):(e=Lt,0===di&&d(ar)),e===Lt&&(t.substr(ci,2)===cr?(e=cr,ci+=2):(e=Lt,0===di&&d(ur)),e===Lt&&(t.substr(ci,2)===sr?(e=sr,ci+=2):(e=Lt,0===di&&d(lr)),e===Lt&&(t.substr(ci,2)===fr?(e=fr,ci+=2):(e=Lt,0===di&&d(dr)),e===Lt&&(t.substr(ci,2).toLowerCase()===hr?(e=t.substr(ci,2),ci+=2):(e=Lt,0===di&&d(pr))))))),di--,e===Lt&&(r=Lt,0===di&&d(rr)),e}function P(){var e,r;return di++,t.substr(ci,2)===mr?(e=mr,ci+=2):(e=Lt,0===di&&d(br)),e===Lt&&(t.substr(ci,3)===xr?(e=xr,ci+=3):(e=Lt,0===di&&d(yr)),e===Lt&&(t.substr(ci,2)===vr?(e=vr,ci+=2):(e=Lt,0===di&&d(wr)),e===Lt&&(t.substr(ci,2)===Cr?(e=Cr,ci+=2):(e=Lt,0===di&&d(_r)),e===Lt&&(t.substr(ci,2)===Ar?(e=Ar,ci+=2):(e=Lt,0===di&&d(kr)),e===Lt&&(t.substr(ci,2).toLowerCase()===Lr?(e=t.substr(ci,2),ci+=2):(e=Lt,0===di&&d(Er))))))),di--,e===Lt&&(r=Lt,0===di&&d(gr)),e}function j(){var e,r;return di++,t.substr(ci,4).toLowerCase()===Sr?(e=t.substr(ci,4),ci+=4):(e=Lt,0===di&&d(Ir)),e===Lt&&(t.substr(ci,4).toLowerCase()===Fr?(e=t.substr(ci,4),ci+=4):(e=Lt,0===di&&d(Br)),e===Lt&&(t.substr(ci,4).toLowerCase()===Dr?(e=t.substr(ci,4),ci+=4):(e=Lt,0===di&&d(Nr)),e===Lt&&(t.substr(ci,3).toLowerCase()===Pr?(e=t.substr(ci,3),ci+=3):(e=Lt,0===di&&d(jr))))),di--,e===Lt&&(r=Lt,0===di&&d(Tr)),e}function M(){var e,r;return di++,e=ci,t.substr(ci,3).toLowerCase()===Hr?(r=t.substr(ci,3),ci+=3):(r=Lt,0===di&&d(Or)),r===Lt&&(t.substr(ci,4).toLowerCase()===Wr?(r=t.substr(ci,4),ci+=4):(r=Lt,0===di&&d(Rr)),r===Lt&&(t.substr(ci,3).toLowerCase()===zr?(r=t.substr(ci,3),ci+=3):(r=Lt,0===di&&d(Gr)),r===Lt&&(t.substr(ci,5).toLowerCase()===Xr?(r=t.substr(ci,5),ci+=5):(r=Lt,0===di&&d(qr)),r===Lt&&(t.substr(ci,3).toLowerCase()===Ur?(r=t.substr(ci,3),ci+=3):(r=Lt,0===di&&d(Vr)),r===Lt&&(t.substr(ci,3).toLowerCase()===Kr?(r=t.substr(ci,3),ci+=3):(r=Lt,0===di&&d(Yr)),r===Lt&&(t.substr(ci,6).toLowerCase()===$r?(r=t.substr(ci,6),ci+=6):(r=Lt,0===di&&d(Zr)),r===Lt&&(t.substr(ci,3).toLowerCase()===Jr?(r=t.substr(ci,3),ci+=3):(r=Lt,0===di&&d(Qr)),r===Lt&&(t.substr(ci,8).toLowerCase()===tn?(r=t.substr(ci,8),ci+=8):(r=Lt,0===di&&d(en)),r===Lt&&(t.substr(ci,6).toLowerCase()===rn?(r=t.substr(ci,6),ci+=6):(r=Lt,0===di&&d(nn)),r===Lt&&(t.substr(ci,8).toLowerCase()===on?(r=t.substr(ci,8),ci+=8):(r=Lt,0===di&&d(an)),r===Lt&&(t.substr(ci,6).toLowerCase()===cn?(r=t.substr(ci,6),ci+=6):(r=Lt,0===di&&d(un)),r===Lt&&(t.substr(ci,4).toLowerCase()===sn?(r=t.substr(ci,4),ci+=4):(r=Lt,0===di&&d(ln)),r===Lt&&(t.substr(ci,3).toLowerCase()===fn?(r=t.substr(ci,3),ci+=3):(r=Lt,0===di&&d(dn)),r===Lt&&(t.substr(ci,3).toLowerCase()===hn?(r=t.substr(ci,3),ci+=3):(r=Lt,0===di&&d(pn)))))))))))))))),r!==Lt&&(ui=e,r=gn(r)),e=r,di--,e===Lt&&(r=Lt,0===di&&d(Mr)),e}function H(){var e,r,n,o,i,a;for(e=ci,r=ci,n=[],o=ci,i=O(),i!==Lt?(44===t.charCodeAt(ci)?(a=Ot,ci++):(a=Lt,0===di&&d(Wt)),a!==Lt?(ui=o,i=me(i),o=i):(ci=o,o=Lt)):(ci=o,o=Lt);o!==Lt;)n.push(o),o=ci,i=O(),i!==Lt?(44===t.charCodeAt(ci)?(a=Ot,ci++):(a=Lt,0===di&&d(Wt)),a!==Lt?(ui=o,i=me(i),o=i):(ci=o,o=Lt)):(ci=o,o=Lt);return n!==Lt?(o=ci,i=O(),i!==Lt&&(ui=o,i=me(i)),o=i,o!==Lt?(n=[n,o],r=n):(ci=r,r=Lt)):(ci=r,r=Lt),r!==Lt&&(ui=e,r=mn(r)),e=r}function O(){var e,r,n,o,i,a,c,u;return e=ci,r=et(),r!==Lt?(n=W(),n!==Lt?(o=et(),o!==Lt?(61===t.charCodeAt(ci)?(i=$t,ci++):(i=Lt,0===di&&d(Zt)),i!==Lt?(a=et(),a!==Lt?(c=G(),c!==Lt?(u=et(),u!==Lt?(ui=e,r=bn(n,c),e=r):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt),e}function W(){var e,r;return di++,t.substr(ci,5).toLowerCase()===yn?(e=t.substr(ci,5),ci+=5):(e=Lt,0===di&&d(vn)),e===Lt&&(t.substr(ci,5).toLowerCase()===wn?(e=t.substr(ci,5),ci+=5):(e=Lt,0===di&&d(Cn)),e===Lt&&(t.substr(ci,2).toLowerCase()===_n?(e=t.substr(ci,2),ci+=2):(e=Lt,0===di&&d(An)),e===Lt&&(t.substr(ci,3).toLowerCase()===kn?(e=t.substr(ci,3),ci+=3):(e=Lt,0===di&&d(Ln)),e===Lt&&(t.substr(ci,9).toLowerCase()===En?(e=t.substr(ci,9),ci+=9):(e=Lt,0===di&&d(Tn)),e===Lt&&(t.substr(ci,10).toLowerCase()===Sn?(e=t.substr(ci,10),ci+=10):(e=Lt,0===di&&d(In)),e===Lt&&(t.substr(ci,9).toLowerCase()===Fn?(e=t.substr(ci,9),ci+=9):(e=Lt,0===di&&d(Bn)),e===Lt&&(t.substr(ci,10).toLowerCase()===Dn?(e=t.substr(ci,10),ci+=10):(e=Lt,0===di&&d(Nn)),e===Lt&&(t.substr(ci,11).toLowerCase()===Pn?(e=t.substr(ci,11),ci+=11):(e=Lt,0===di&&d(jn)),e===Lt&&(t.substr(ci,12).toLowerCase()===Mn?(e=t.substr(ci,12),ci+=12):(e=Lt,0===di&&d(Hn)),e===Lt&&(t.substr(ci,12).toLowerCase()===On?(e=t.substr(ci,12),ci+=12):(e=Lt,0===di&&d(Wn)),e===Lt&&(t.substr(ci,13).toLowerCase()===Rn?(e=t.substr(ci,13),ci+=13):(e=Lt,0===di&&d(zn)),e===Lt&&(t.substr(ci,12).toLowerCase()===Gn?(e=t.substr(ci,12),ci+=12):(e=Lt,0===di&&d(Xn)),e===Lt&&(t.substr(ci,13).toLowerCase()===qn?(e=t.substr(ci,13),ci+=13):(e=Lt,0===di&&d(Un)),e===Lt&&(t.substr(ci,14).toLowerCase()===Vn?(e=t.substr(ci,14),ci+=14):(e=Lt,0===di&&d(Kn)),e===Lt&&(t.substr(ci,15).toLowerCase()===Yn?(e=t.substr(ci,15),ci+=15):(e=Lt,0===di&&d($n)),e===Lt&&(t.substr(ci,7).toLowerCase()===Zn?(e=t.substr(ci,7),ci+=7):(e=Lt,0===di&&d(Jn)))))))))))))))))),di--,e===Lt&&(r=Lt,0===di&&d(xn)),e}function R(){var e,r,n,o;return di++,e=ci,34===t.charCodeAt(ci)?(r=to,ci++):(r=Lt,0===di&&d(eo)),r!==Lt?(n=z(),n!==Lt?(34===t.charCodeAt(ci)?(o=to,ci++):(o=Lt,0===di&&d(eo)),o!==Lt?(ui=e,r=ro(n),e=r):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt),di--,e===Lt&&(r=Lt,0===di&&d(Qn)),e}function z(){var e,r,n,o;for(e=[],r=ci,n=ci,di++,34===t.charCodeAt(ci)?(o=to,ci++):(o=Lt,0===di&&d(eo)),di--,o===Lt?n=void 0:(ci=n,n=Lt),n!==Lt?(t.substr(ci,2)===no?(o=no,ci+=2):(o=Lt,0===di&&d(oo)),o===Lt&&(t.length>ci?(o=t.charAt(ci),ci++):(o=Lt,0===di&&d(io))),o!==Lt?(ui=r,n=ao(o),r=n):(ci=r,r=Lt)):(ci=r,r=Lt);r!==Lt;)e.push(r),r=ci,n=ci,di++,34===t.charCodeAt(ci)?(o=to,ci++):(o=Lt,0===di&&d(eo)),di--,o===Lt?n=void 0:(ci=n,n=Lt),n!==Lt?(t.substr(ci,2)===no?(o=no,ci+=2):(o=Lt,0===di&&d(oo)),o===Lt&&(t.length>ci?(o=t.charAt(ci),ci++):(o=Lt,0===di&&d(io))),o!==Lt?(ui=r,n=ao(o),r=n):(ci=r,r=Lt)):(ci=r,r=Lt);return e}function G(){var t,e;return di++,t=X(),t===Lt&&(t=R()),di--,t===Lt&&(e=Lt,0===di&&d(co)),t}function X(){var e,r,n;if(e=ci,r=[],uo.test(t.charAt(ci))?(n=t.charAt(ci),ci++):(n=Lt,0===di&&d(so)),n!==Lt)for(;n!==Lt;)r.push(n),uo.test(t.charAt(ci))?(n=t.charAt(ci),ci++):(n=Lt,0===di&&d(so));else r=Lt;return r!==Lt&&(ui=e,r=lo(r)),e=r}function q(){var e,r;return di++,e=ci,ho.test(t.charAt(ci))?(r=t.charAt(ci),ci++):(r=Lt,0===di&&d(po)),r!==Lt&&(ui=e,r=ao(r)),e=r,di--,e===Lt&&(r=Lt,0===di&&d(fo)),e}function U(){var e,r;return di++,e=ci,mo.test(t.charAt(ci))?(r=t.charAt(ci),ci++):(r=Lt,0===di&&d(bo)),r!==Lt&&(ui=e,r=ao(r)),e=r,di--,e===Lt&&(r=Lt,0===di&&d(go)),e}function V(){var e;return t.substr(ci,2)===xo?(e=xo,ci+=2):(e=Lt,0===di&&d(yo)),e}function K(){var e;return t.substr(ci,2)===vo?(e=vo,ci+=2):(e=Lt,0===di&&d(wo)),e}function Y(){var e,r,n;return e=ci,r=ci,di++,t.substr(ci,2)===vo?(n=vo,ci+=2):(n=Lt,0===di&&d(wo)),di--,n===Lt?r=void 0:(ci=r,r=Lt),r!==Lt?(t.length>ci?(n=t.charAt(ci),ci++):(n=Lt,0===di&&d(io)),n!==Lt?(ui=e,r=ao(n),e=r):(ci=e,e=Lt)):(ci=e,e=Lt),e}function $(){var t,e,r,n;if(t=ci,e=V(),e!==Lt){for(r=[],n=Y();n!==Lt;)r.push(n),n=Y();r!==Lt?(n=K(),n!==Lt?(ui=t,e=Co(e,r,n),t=e):(ci=t,t=Lt)):(ci=t,t=Lt)}else ci=t,t=Lt;return t}function Z(){var e;return t.substr(ci,2)===_o?(e=_o,ci+=2):(e=Lt,0===di&&d(Ao)),e===Lt&&(35===t.charCodeAt(ci)?(e=ko,ci++):(e=Lt,0===di&&d(Lo))),e}function J(){var e;return Eo.test(t.charAt(ci))?(e=t.charAt(ci),ci++):(e=Lt,0===di&&d(To)),e}function Q(){var t,e,r,n;if(t=ci,e=Z(),e!==Lt){for(r=[],n=J();n!==Lt;)r.push(n),n=J();r!==Lt?(ui=t,e=So(e,r),t=e):(ci=t,t=Lt)}else ci=t,t=Lt;return t}function tt(){var t,e;return di++,t=Q(),t===Lt&&(t=$()),di--,t===Lt&&(e=Lt,0===di&&d(Io)),t}function et(){var t,e;for(t=[],e=q(),e===Lt&&(e=U(),e===Lt&&(e=tt()));e!==Lt;)t.push(e),e=q(),e===Lt&&(e=U(),e===Lt&&(e=tt()));return t}function rt(){var t,e;return di++,t=ci,e=nt(),e!==Lt&&(ui=t,e=Bo(e)),t=e,t===Lt&&(t=ci,e=ot(),e!==Lt&&(ui=t,e=Do(e)),t=e),di--,t===Lt&&(e=Lt,0===di&&d(Fo)),t}function nt(){var e,r,n,o;return e=ci,34===t.charCodeAt(ci)?(r=to,ci++):(r=Lt,0===di&&d(eo)),r!==Lt?(n=ot(),n!==Lt?(34===t.charCodeAt(ci)?(o=to,ci++):(o=Lt,0===di&&d(eo)),o!==Lt?(ui=e,r=No(n),e=r):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt),e}function ot(){var t;return t=at(),t===Lt&&(t=it()),t}function it(){var e,r,n;if(e=ci,r=[],Po.test(t.charAt(ci))?(n=t.charAt(ci),ci++):(n=Lt,0===di&&d(jo)),n!==Lt)for(;n!==Lt;)r.push(n),Po.test(t.charAt(ci))?(n=t.charAt(ci),ci++):(n=Lt,0===di&&d(jo));else r=Lt;return r!==Lt&&(ui=e,r=Mo(r)),e=r}function at(){var e,r,n,o,i;return e=ci,r=ci,n=it(),n!==Lt?(46===t.charCodeAt(ci)?(o=Ho,ci++):(o=Lt,0===di&&d(Oo)),o!==Lt?(i=it(),i!==Lt?(n=[n,o,i],r=n):(ci=r,r=Lt)):(ci=r,r=Lt)):(ci=r,r=Lt),r!==Lt&&(ui=e,r=Wo(r)),e=r}function ct(){var t,e;return di++,t=ci,e=ut(),e!==Lt&&(ui=t,e=zo(e)),t=e,t===Lt&&(t=ci,e=st(),e!==Lt&&(ui=t,e=Go(e)),t=e),di--,t===Lt&&(e=Lt,0===di&&d(Ro)),t}function ut(){var e,r,n,o;return e=ci,34===t.charCodeAt(ci)?(r=to,ci++):(r=Lt,0===di&&d(eo)),r!==Lt?(n=st(),n!==Lt?(34===t.charCodeAt(ci)?(o=to,ci++):(o=Lt,0===di&&d(eo)),o!==Lt?(ui=e,r=Bo(n),e=r):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt),e}function st(){var e;return t.substr(ci,4).toLowerCase()===Xo?(e=t.substr(ci,4),ci+=4):(e=Lt,0===di&&d(qo)),e===Lt&&(t.substr(ci,5).toLowerCase()===Uo?(e=t.substr(ci,5),ci+=5):(e=Lt,0===di&&d(Vo)),e===Lt&&(t.substr(ci,2).toLowerCase()===Ko?(e=t.substr(ci,2),ci+=2):(e=Lt,0===di&&d(Yo)),e===Lt&&(t.substr(ci,3).toLowerCase()===$o?(e=t.substr(ci,3),ci+=3):(e=Lt,0===di&&d(Zo)),e===Lt&&(48===t.charCodeAt(ci)?(e=Jo,ci++):(e=Lt,0===di&&d(Qo)),e===Lt&&(49===t.charCodeAt(ci)?(e=ti,ci++):(e=Lt,0===di&&d(ei))))))),e}function lt(){var t,e;return di++,t=ft(),t===Lt&&(t=dt()),di--,t===Lt&&(e=Lt,0===di&&d(ri)),t}function ft(){var e,r,n,o;return e=ci,34===t.charCodeAt(ci)?(r=to,ci++):(r=Lt,0===di&&d(eo)),r!==Lt?(n=dt(),n!==Lt?(34===t.charCodeAt(ci)?(o=to,ci++):(o=Lt,0===di&&d(eo)),o!==Lt?(ui=e,r=Bo(n),e=r):(ci=e,e=Lt)):(ci=e,e=Lt)):(ci=e,e=Lt),e}function dt(){var e,r;return e=ci,r=ot(),r!==Lt&&(ui=e,r=ni(r)),e=r,e===Lt&&(e=ci,t.substr(ci,4).toLowerCase()===oi?(r=t.substr(ci,4),ci+=4):(r=Lt,0===di&&d(ii)),r!==Lt&&(ui=e,r=ai(r)),e=r),e}function ht(t,e){return t=t||{},e&&Object.getOwnPropertyNames(e).forEach(function(r){t[r]=e[r]}),t}function pt(t){var e={};return t.forEach(function(t){e=ht(e,t)}),e}function gt(t){return["true","on","1"].indexOf(t.toLowerCase())>-1}function mt(t,e){var r={};return r[t.toLowerCase()]=e,r}function bt(t,e){return void 0===e||"*"===e||t.some(function(t){return t.name===e})}function xt(t){return["box","abox","rbox","note","msc","hscale","width","arcgradient","wordwraparcs","label","color","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"].indexOf(t)>-1}function yt(t,e){return"Entity '"+t+"' in arc '"+e.from+" "+e.kind+" "+e.to+"' is not defined."}function vt(t,e){this.name="EntityNotDefinedError",this.message=yt(t,e),e.location&&(this.location=e.location,this.location.start.line++,this.location.end.line++)}function wt(t,e){return t||(t=[]),e&&e.forEach(function(e){e.forEach(function(e){if(e.from&&!bt(t,e.from))throw new vt(e.from,e);if(e.to&&!bt(t,e.to))throw new vt(e.to,e);e.location&&delete e.location,e.arcs&&wt(t,e.arcs)})}),t}function Ct(t){return!!t&&(!!t.watermark||!!t.width&&"auto"===!!t.width)}function _t(t){return!!t&&t.some(function(t){return t.some(function(t){return["alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"].indexOf(t.kind)>-1})})}function At(t,e){var r=Ct(t),n=_t(e);return{extendedOptions:r,extendedArcTypes:n,extendedFeatures:r||n}}r=void 0!==r?r:{};var kt,Lt={},Et={program:g},Tt=g,St="{",It=i("{",!1),Ft="}",Bt=i("}",!1),Dt=function(t,e){e.entities=wt(e.entities,e.arcs);var r=e;return r=ht({meta:At(e.options,e.arcs)},r),t.length>0&&(r=ht({precomment:t},r)),r},Nt="msc",Pt=i("msc",!0),jt="xu",Mt=i("xu",!0),Ht=function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n},Ot=",",Wt=i(",",!1),Rt=function(t){return t},zt=";",Gt=i(";",!1),Xt=function(t){return pt(t[0].concat(t[1]))},qt=s("option"),Ut="hscale",Vt=i("hscale",!0),Kt="arcgradient",Yt=i("arcgradient",!0),$t="=",Zt=i("=",!1),Jt=function(t,e){return mt(t,e)},Qt="width",te=i("width",!0),ee="wordwraparcs",re=i("wordwraparcs",!0),ne=function(t,e){return mt(t,gt(e))},oe="watermark",ie=i("watermark",!0),ae=function(t){return t},ce=function(t){return t[0].concat(t[1])},ue=s("entity"),se="[",le=i("[",!1),fe="]",de=i("]",!1),he=function(t,e){return e},pe=function(t,e){return ht({name:t},e)},ge=function(t,e){return xt(t)&&o("MscGen keywords aren't allowed as entity names (embed them in quotes if you need them)"),ht({name:t},e)},me=function(t){return t},be=function(t){return t[0].concat(t[1])},xe=function(t,e){return e},ye=function(t,e){return ht(t,e)},ve=function(t){return{kind:t}},we=function(t,e,r){return{kind:e,from:t,to:r,location:n()}},Ce="*",_e=i("*",!1),Ae=function(t,e){return{kind:t,from:"*",to:e,location:n()}},ke=function(t,e){return{kind:e,from:t,to:"*",location:n()}},Le=function(t,e,r,n){return n},Ee=function(t,e,r,o,i){return ht({kind:e,from:t,to:r,location:n(),arcs:i},o)},Te=s("empty row"),Se="|||",Ie=i("|||",!1),Fe="...",Be=i("...",!1),De=s("---"),Ne="---",Pe=i("---",!1),je=function(t){return t.toLowerCase()},Me=s("bi-directional arrow"),He="--",Oe=i("--",!1),We="<->",Re=i("<->",!1),ze="==",Ge=i("==",!1),Xe="<<=>>",qe=i("<<=>>",!1),Ue="<=>",Ve=i("<=>",!1),Ke="..",Ye=i("..",!1),$e="<<>>",Ze=i("<<>>",!1),Je="::",Qe=i("::",!1),tr="<:>",er=i("<:>",!1),rr=s("left to right arrow"),nr="->",or=i("->",!1),ir="=>>",ar=i("=>>",!1),cr="=>",ur=i("=>",!1),sr=">>",lr=i(">>",!1),fr=":>",dr=i(":>",!1),hr="-x",pr=i("-x",!0),gr=s("right to left arrow"),mr="<-",br=i("<-",!1),xr="<<=",yr=i("<<=",!1),vr="<=",wr=i("<=",!1),Cr="<<",_r=i("<<",!1),Ar="<:",kr=i("<:",!1),Lr="x-",Er=i("x-",!0),Tr=s("box"),Sr="note",Ir=i("note",!0),Fr="abox",Br=i("abox",!0),Dr="rbox",Nr=i("rbox",!0),Pr="box",jr=i("box",!0),Mr=s("inline expression"),Hr="alt",Or=i("alt",!0),Wr="else",Rr=i("else",!0),zr="opt",Gr=i("opt",!0),Xr="break",qr=i("break",!0),Ur="par",Vr=i("par",!0),Kr="seq",Yr=i("seq",!0),$r="strict",Zr=i("strict",!0),Jr="neg",Qr=i("neg",!0),tn="critical",en=i("critical",!0),rn="ignore",nn=i("ignore",!0),on="consider",an=i("consider",!0),cn="assert",un=i("assert",!0),sn="loop",ln=i("loop",!0),fn="ref",dn=i("ref",!0),hn="exc",pn=i("exc",!0),gn=function(t){return t.toLowerCase()},mn=function(t){return pt(t[0].concat(t[1]))},bn=function(t,e){var r={};return r[t.toLowerCase().replace("colour","color")]=e,r},xn=s("attribute name"),yn="label",vn=i("label",!0),wn="idurl",Cn=i("idurl",!0),_n="id",An=i("id",!0),kn="url",Ln=i("url",!0),En="linecolor",Tn=i("linecolor",!0),Sn="linecolour",In=i("linecolour",!0),Fn="textcolor",Bn=i("textcolor",!0),Dn="textcolour",Nn=i("textcolour",!0),Pn="textbgcolor",jn=i("textbgcolor",!0),Mn="textbgcolour",Hn=i("textbgcolour",!0),On="arclinecolor",Wn=i("arclinecolor",!0),Rn="arclinecolour",zn=i("arclinecolour",!0),Gn="arctextcolor",Xn=i("arctextcolor",!0),qn="arctextcolour",Un=i("arctextcolour",!0),Vn="arctextbgcolor",Kn=i("arctextbgcolor",!0),Yn="arctextbgcolour",$n=i("arctextbgcolour",!0),Zn="arcskip",Jn=i("arcskip",!0),Qn=s("double quoted string"),to='"',eo=i('"',!1),ro=function(t){return t.join("")},no='\\"',oo=i('\\"',!1),io=c(),ao=function(t){return t},co=s("identifier"),uo=/^[A-Za-z_0-9]/,so=a([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),lo=function(t){return t.join("")},fo=s("whitespace"),ho=/^[ \t]/,po=a([" ","\t"],!1,!1),go=s("lineend"),mo=/^[\r\n]/,bo=a(["\r","\n"],!1,!1),xo="/*",yo=i("/*",!1),vo="*/",wo=i("*/",!1),Co=function(t,e,r){return t+e.join("")+r},_o="//",Ao=i("//",!1),ko="#",Lo=i("#",!1),Eo=/^[^\r\n]/,To=a(["\r","\n"],!0,!1),So=function(t,e){return t+e.join("")},Io=s("comment"),Fo=s("number"),Bo=function(t){return t},Do=function(t){return t.toString()},No=function(t){return t.toString()},Po=/^[0-9]/,jo=a([["0","9"]],!1,!1),Mo=function(t){return parseInt(t.join(""),10)},Ho=".",Oo=i(".",!1),Wo=function(t){return parseFloat(t.join(""))},Ro=s("boolean"),zo=function(t){return t},Go=function(t){return t.toString()},Xo="true",qo=i("true",!0),Uo="false",Vo=i("false",!0),Ko="on",Yo=i("on",!0),$o="off",Zo=i("off",!0),Jo="0",Qo=i("0",!1),ti="1",ei=i("1",!1),ri=s("size"),ni=function(t){return t.toString()},oi="auto",ii=i("auto",!0),ai=function(t){return t.toLowerCase()},ci=0,ui=0,si=[{line:1,column:1}],li=0,fi=[],di=0;if("startRule"in r){if(!(r.startRule in Et))throw new Error("Can't start parsing from rule \""+r.startRule+'".');Tt=Et[r.startRule]}if(kt=Tt(),kt!==Lt&&ci===t.length)return kt;throw kt!==Lt&&ci<t.length&&d(u()),p(fi,li<t.length?t.charAt(li):null,li<t.length?f(li,li+1):f(li,li))}return t(e,Error),e.buildMessage=function(t,e){function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function n(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function i(t){return u[t.type](t)}function a(t){var e,r,n=new Array(t.length);for(e=0;e<t.length;e++)n[e]=i(t[e]);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}function c(t){return t?'"'+n(t)+'"':"end of input"}var u={literal:function(t){return'"'+n(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?o(t.parts[e][0])+"-"+o(t.parts[e][1]):o(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};return"Expected "+a(t)+" but "+c(e)+" found."},{SyntaxError:e,parse:r}})},function(t,e,r){var n,o,i;!function(r,a){
o=[],n=a,i="function"==typeof n?n.apply(e,o):n,!(void 0!==i&&(t.exports=i))}(this,function(){"use strict";function t(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}function e(t,r,n,o){this.message=t,this.expected=r,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}function r(t,r){function n(t,e){return{type:"literal",text:t,ignoreCase:e}}function o(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function i(){return{type:"any"}}function a(){return{type:"end"}}function c(t){return{type:"other",description:t}}function u(e){var r,n=go[e];if(n)return n;for(r=e-1;!go[r];)r--;for(n=go[r],n={line:n.line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return go[e]=n,n}function s(t,e){var r=u(t),n=u(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function l(t){ho<mo||(ho>mo&&(mo=ho,bo=[]),bo.push(t))}function f(t,r,n){return new e(e.buildMessage(t,r),t,r,n)}function d(){var t,e,r,n;return t=ho,e=$(),e!==yt?(r=h(),r!==yt?(n=$(),n!==yt?(po=t,e=Ct(e,r),t=e):(ho=t,t=yt)):(ho=t,t=yt)):(ho=t,t=yt),t}function h(){var t,e,r,n;return t=ho,e=p(),e===yt&&(e=null),e!==yt?(r=m(),r===yt&&(r=null),r!==yt?(n=x(),n===yt&&(n=null),n!==yt?(po=t,e=_t(e,r,n),t=e):(ho=t,t=yt)):(ho=t,t=yt)):(ho=t,t=yt),t}function p(){var e,r,n,o,i,a;for(e=ho,r=ho,n=[],o=ho,i=g(),i!==yt?(44===t.charCodeAt(ho)?(a=At,ho++):(a=yt,0===xo&&l(kt)),a!==yt?(po=o,i=Lt(i),o=i):(ho=o,o=yt)):(ho=o,o=yt);o!==yt;)n.push(o),o=ho,i=g(),i!==yt?(44===t.charCodeAt(ho)?(a=At,ho++):(a=yt,0===xo&&l(kt)),a!==yt?(po=o,i=Lt(i),o=i):(ho=o,o=yt)):(ho=o,o=yt);return n!==yt?(o=ho,i=g(),i!==yt?(59===t.charCodeAt(ho)?(a=Et,ho++):(a=yt,0===xo&&l(Tt)),a!==yt?(po=o,i=Lt(i),o=i):(ho=o,o=yt)):(ho=o,o=yt),o!==yt?(n=[n,o],r=n):(ho=r,r=yt)):(ho=r,r=yt),r!==yt&&(po=e,r=St(r)),e=r}function g(){var e,r,n,o,i,a,c,u;return e=ho,r=$(),r!==yt?(t.substr(ho,6).toLowerCase()===It?(n=t.substr(ho,6),ho+=6):(n=yt,0===xo&&l(Ft)),n===yt&&(t.substr(ho,11).toLowerCase()===Bt?(n=t.substr(ho,11),ho+=11):(n=yt,0===xo&&l(Dt))),n!==yt?(o=$(),o!==yt?(61===t.charCodeAt(ho)?(i=Nt,ho++):(i=yt,0===xo&&l(Pt)),i!==yt?(a=$(),a!==yt?(c=Z(),c!==yt?(u=$(),u!==yt?(po=e,r=jt(n,c),e=r):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt),e===yt&&(e=ho,r=$(),r!==yt?(t.substr(ho,5).toLowerCase()===Mt?(n=t.substr(ho,5),ho+=5):(n=yt,0===xo&&l(Ht)),n!==yt?(o=$(),o!==yt?(61===t.charCodeAt(ho)?(i=Nt,ho++):(i=yt,0===xo&&l(Pt)),i!==yt?(a=$(),a!==yt?(c=it(),c!==yt?(u=$(),u!==yt?(po=e,r=jt(n,c),e=r):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt),e===yt&&(e=ho,r=$(),r!==yt?(t.substr(ho,12).toLowerCase()===Ot?(n=t.substr(ho,12),ho+=12):(n=yt,0===xo&&l(Wt)),n!==yt?(o=$(),o!==yt?(61===t.charCodeAt(ho)?(i=Nt,ho++):(i=yt,0===xo&&l(Pt)),i!==yt?(a=$(),a!==yt?(c=rt(),c!==yt?(u=$(),u!==yt?(po=e,r=Rt(n,c),e=r):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt),e===yt&&(e=ho,r=$(),r!==yt?(t.substr(ho,9).toLowerCase()===zt?(n=t.substr(ho,9),ho+=9):(n=yt,0===xo&&l(Gt)),n!==yt?(o=$(),o!==yt?(61===t.charCodeAt(ho)?(i=Nt,ho++):(i=yt,0===xo&&l(Pt)),i!==yt?(a=$(),a!==yt?(c=P(),c!==yt?(u=$(),u!==yt?(po=e,r=jt(n,c),e=r):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)))),e}function m(){var e,r,n,o,i,a;for(e=ho,r=ho,n=[],o=ho,i=b(),i!==yt?(44===t.charCodeAt(ho)?(a=At,ho++):(a=yt,0===xo&&l(kt)),a!==yt?(po=o,i=Xt(i),o=i):(ho=o,o=yt)):(ho=o,o=yt);o!==yt;)n.push(o),o=ho,i=b(),i!==yt?(44===t.charCodeAt(ho)?(a=At,ho++):(a=yt,0===xo&&l(kt)),a!==yt?(po=o,i=Xt(i),o=i):(ho=o,o=yt)):(ho=o,o=yt);return n!==yt?(o=ho,i=b(),i!==yt?(59===t.charCodeAt(ho)?(a=Et,ho++):(a=yt,0===xo&&l(Tt)),a!==yt?(po=o,i=Xt(i),o=i):(ho=o,o=yt)):(ho=o,o=yt),o!==yt?(n=[n,o],r=n):(ho=r,r=yt)):(ho=r,r=yt),r!==yt&&(po=e,r=qt(r)),e=r}function b(){var e,r,n,o,i,a,c,u,s;return xo++,e=ho,r=$(),r!==yt?(n=O(),n!==yt?(o=$(),o!==yt?(i=ho,58===t.charCodeAt(ho)?(a=Vt,ho++):(a=yt,0===xo&&l(Kt)),a!==yt?(c=$(),c!==yt?(u=N(),u!==yt?(s=$(),s!==yt?(po=i,a=Yt(n,u),i=a):(ho=i,i=yt)):(ho=i,i=yt)):(ho=i,i=yt)):(ho=i,i=yt),i===yt&&(i=null),i!==yt?(po=e,r=$t(n,i),e=r):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt),xo--,e===yt&&(r=yt,0===xo&&l(Ut)),e}function x(){var e,r,n,o,i;if(e=[],r=ho,n=y(),n!==yt?(o=$(),o!==yt?(59===t.charCodeAt(ho)?(i=Et,ho++):(i=yt,0===xo&&l(Tt)),i!==yt?(po=r,n=Zt(n),r=n):(ho=r,r=yt)):(ho=r,r=yt)):(ho=r,r=yt),r!==yt)for(;r!==yt;)e.push(r),r=ho,n=y(),n!==yt?(o=$(),o!==yt?(59===t.charCodeAt(ho)?(i=Et,ho++):(i=yt,0===xo&&l(Tt)),i!==yt?(po=r,n=Zt(n),r=n):(ho=r,r=yt)):(ho=r,r=yt)):(ho=r,r=yt);else e=yt;return e}function y(){var e,r,n,o,i,a;for(e=ho,r=ho,n=[],o=ho,i=v(),i!==yt?(44===t.charCodeAt(ho)?(a=At,ho++):(a=yt,0===xo&&l(kt)),a!==yt?(po=o,i=Zt(i),o=i):(ho=o,o=yt)):(ho=o,o=yt);o!==yt;)n.push(o),o=ho,i=v(),i!==yt?(44===t.charCodeAt(ho)?(a=At,ho++):(a=yt,0===xo&&l(kt)),a!==yt?(po=o,i=Zt(i),o=i):(ho=o,o=yt)):(ho=o,o=yt);return n!==yt?(o=ho,i=v(),i!==yt&&(po=o,i=Zt(i)),o=i,o!==yt?(n=[n,o],r=n):(ho=r,r=yt)):(ho=r,r=yt),r!==yt&&(po=e,r=Jt(r)),e=r}function v(){var t;return t=w(),t===yt&&(t=k()),t}function w(){var e,r,n,o,i,a,c;return e=ho,r=ho,n=C(),n!==yt&&(po=r,n=Qt(n)),r=n,r===yt&&(r=ho,n=A(),n!==yt&&(po=r,n=te(n)),r=n,r===yt&&(r=ho,n=_(),n!==yt&&(po=r,n=ee(n)),r=n)),r!==yt?(n=ho,58===t.charCodeAt(ho)?(o=Vt,ho++):(o=yt,0===xo&&l(Kt)),o!==yt?(i=$(),i!==yt?(a=N(),a!==yt?(c=$(),c!==yt?(po=n,o=re(r,a),n=o):(ho=n,n=yt)):(ho=n,n=yt)):(ho=n,n=yt)):(ho=n,n=yt),n===yt&&(n=null),n!==yt?(po=e,r=ne(r,n),e=r):(ho=e,e=yt)):(ho=e,e=yt),e}function C(){var t,e,r,n;return t=ho,e=$(),e!==yt?(r=L(),r!==yt?(n=$(),n!==yt?(po=t,e=oe(r),t=e):(ho=t,t=yt)):(ho=t,t=yt)):(ho=t,t=yt),t}function _(){var t,e,r,n;return t=ho,e=$(),e!==yt?(r=E(),r!==yt?(n=$(),n!==yt?(po=t,e=oe(r),t=e):(ho=t,t=yt)):(ho=t,t=yt)):(ho=t,t=yt),t}function A(){var e,r,n,o,i,a,c,u;return e=ho,r=$(),r!==yt?(n=O(),n!==yt?(o=$(),o!==yt?(i=T(),i!==yt?(a=$(),a!==yt?(c=O(),c!==yt?(u=$(),u!==yt?(po=e,r=ie(n,i,c),e=r):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt),e===yt&&(e=ho,r=$(),r!==yt?(42===t.charCodeAt(ho)?(n=ae,ho++):(n=yt,0===xo&&l(ce)),n!==yt?(o=$(),o!==yt?(i=F(),i!==yt?(a=$(),a!==yt?(c=O(),c!==yt?(u=$(),u!==yt?(po=e,r=ue(i,c),e=r):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt),e===yt&&(e=ho,r=$(),r!==yt?(n=O(),n!==yt?(o=$(),o!==yt?(i=I(),i!==yt?(a=$(),a!==yt?(42===t.charCodeAt(ho)?(c=ae,ho++):(c=yt,0===xo&&l(ce)),c!==yt?(u=$(),u!==yt?(po=e,r=se(n,i),e=r):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt),e===yt&&(e=ho,r=$(),r!==yt?(n=O(),n!==yt?(o=$(),o!==yt?(i=S(),i!==yt?(a=$(),a!==yt?(42===t.charCodeAt(ho)?(c=ae,ho++):(c=yt,0===xo&&l(ce)),c!==yt?(u=$(),u!==yt?(po=e,r=se(n,i),e=r):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)))),e}function k(){var e,r,n,o,i,a,c,u,s,f,d,h,p,g,m;return e=ho,r=$(),r!==yt?(n=O(),n!==yt?(o=$(),o!==yt?(i=D(),i!==yt?(a=$(),a!==yt?(c=O(),c!==yt?(u=$(),u!==yt?(s=ho,58===t.charCodeAt(ho)?(f=Vt,ho++):(f=yt,0===xo&&l(Kt)),f!==yt?(d=$(),d!==yt?(h=N(),h!==yt?(p=$(),p!==yt?(po=s,f=le(n,i,c,h),s=f):(ho=s,s=yt)):(ho=s,s=yt)):(ho=s,s=yt)):(ho=s,s=yt),s===yt&&(s=null),s!==yt?(123===t.charCodeAt(ho)?(f=fe,ho++):(f=yt,0===xo&&l(de)),f!==yt?(d=$(),d!==yt?(h=x(),h===yt&&(h=null),h!==yt?(p=$(),p!==yt?(125===t.charCodeAt(ho)?(g=he,ho++):(g=yt,0===xo&&l(pe)),g!==yt?(m=$(),m!==yt?(po=e,r=ge(n,i,c,s,h),e=r):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt),e}function L(){var e,r;return xo++,t.substr(ho,3)===be?(e=be,ho+=3):(e=yt,0===xo&&l(xe)),e===yt&&(t.substr(ho,3)===ye?(e=ye,ho+=3):(e=yt,0===xo&&l(ve))),xo--,e===yt&&(r=yt,0===xo&&l(me)),e}function E(){var e,r;return xo++,t.substr(ho,3)===Ce?(e=Ce,ho+=3):(e=yt,0===xo&&l(_e)),xo--,e===yt&&(r=yt,0===xo&&l(we)),e}function T(){var t,e;return t=ho,e=S(),e===yt&&(e=I(),e===yt&&(e=F(),e===yt&&(e=B()))),e!==yt&&(po=t,e=Ae(e)),t=e}function S(){var e,r;return xo++,t.substr(ho,2)===Le?(e=Le,ho+=2):(e=yt,0===xo&&l(Ee)),e===yt&&(t.substr(ho,3)===Te?(e=Te,ho+=3):(e=yt,0===xo&&l(Se)),e===yt&&(t.substr(ho,2)===Ie?(e=Ie,ho+=2):(e=yt,0===xo&&l(Fe)),e===yt&&(t.substr(ho,5)===Be?(e=Be,ho+=5):(e=yt,0===xo&&l(De)),e===yt&&(t.substr(ho,3)===Ne?(e=Ne,ho+=3):(e=yt,0===xo&&l(Pe)),e===yt&&(t.substr(ho,2)===je?(e=je,ho+=2):(e=yt,0===xo&&l(Me)),e===yt&&(t.substr(ho,4)===He?(e=He,ho+=4):(e=yt,0===xo&&l(Oe)),e===yt&&(t.substr(ho,2)===We?(e=We,ho+=2):(e=yt,0===xo&&l(Re)),e===yt&&(t.substr(ho,3)===ze?(e=ze,ho+=3):(e=yt,0===xo&&l(Ge)))))))))),xo--,e===yt&&(r=yt,0===xo&&l(ke)),e}function I(){var e,r;return xo++,t.substr(ho,2)===qe?(e=qe,ho+=2):(e=yt,0===xo&&l(Ue)),e===yt&&(t.substr(ho,3)===Ve?(e=Ve,ho+=3):(e=yt,0===xo&&l(Ke)),e===yt&&(t.substr(ho,2)===Ye?(e=Ye,ho+=2):(e=yt,0===xo&&l($e)),e===yt&&(t.substr(ho,2)===Ze?(e=Ze,ho+=2):(e=yt,0===xo&&l(Je)),e===yt&&(t.substr(ho,2)===Qe?(e=Qe,ho+=2):(e=yt,0===xo&&l(tr)),e===yt&&(t.substr(ho,2).toLowerCase()===er?(e=t.substr(ho,2),ho+=2):(e=yt,0===xo&&l(rr))))))),xo--,e===yt&&(r=yt,0===xo&&l(Xe)),e}function F(){var e,r;return xo++,t.substr(ho,2)===or?(e=or,ho+=2):(e=yt,0===xo&&l(ir)),e===yt&&(t.substr(ho,3)===ar?(e=ar,ho+=3):(e=yt,0===xo&&l(cr)),e===yt&&(t.substr(ho,2)===ur?(e=ur,ho+=2):(e=yt,0===xo&&l(sr)),e===yt&&(t.substr(ho,2)===lr?(e=lr,ho+=2):(e=yt,0===xo&&l(fr)),e===yt&&(t.substr(ho,2)===dr?(e=dr,ho+=2):(e=yt,0===xo&&l(hr)),e===yt&&(t.substr(ho,2).toLowerCase()===pr?(e=t.substr(ho,2),ho+=2):(e=yt,0===xo&&l(gr))))))),xo--,e===yt&&(r=yt,0===xo&&l(nr)),e}function B(){var e,r;return xo++,t.substr(ho,4).toLowerCase()===br?(e=t.substr(ho,4),ho+=4):(e=yt,0===xo&&l(xr)),e===yt&&(t.substr(ho,4).toLowerCase()===yr?(e=t.substr(ho,4),ho+=4):(e=yt,0===xo&&l(vr)),e===yt&&(t.substr(ho,4).toLowerCase()===wr?(e=t.substr(ho,4),ho+=4):(e=yt,0===xo&&l(Cr)),e===yt&&(t.substr(ho,3).toLowerCase()===_r?(e=t.substr(ho,3),ho+=3):(e=yt,0===xo&&l(Ar))))),xo--,e===yt&&(r=yt,0===xo&&l(mr)),e}function D(){var e,r;return xo++,e=ho,t.substr(ho,3).toLowerCase()===Lr?(r=t.substr(ho,3),ho+=3):(r=yt,0===xo&&l(Er)),r===yt&&(t.substr(ho,4).toLowerCase()===Tr?(r=t.substr(ho,4),ho+=4):(r=yt,0===xo&&l(Sr)),r===yt&&(t.substr(ho,3).toLowerCase()===Ir?(r=t.substr(ho,3),ho+=3):(r=yt,0===xo&&l(Fr)),r===yt&&(t.substr(ho,5).toLowerCase()===Br?(r=t.substr(ho,5),ho+=5):(r=yt,0===xo&&l(Dr)),r===yt&&(t.substr(ho,3).toLowerCase()===Nr?(r=t.substr(ho,3),ho+=3):(r=yt,0===xo&&l(Pr)),r===yt&&(t.substr(ho,3).toLowerCase()===jr?(r=t.substr(ho,3),ho+=3):(r=yt,0===xo&&l(Mr)),r===yt&&(t.substr(ho,6).toLowerCase()===Hr?(r=t.substr(ho,6),ho+=6):(r=yt,0===xo&&l(Or)),r===yt&&(t.substr(ho,3).toLowerCase()===Wr?(r=t.substr(ho,3),ho+=3):(r=yt,0===xo&&l(Rr)),r===yt&&(t.substr(ho,8).toLowerCase()===zr?(r=t.substr(ho,8),ho+=8):(r=yt,0===xo&&l(Gr)),r===yt&&(t.substr(ho,6).toLowerCase()===Xr?(r=t.substr(ho,6),ho+=6):(r=yt,0===xo&&l(qr)),r===yt&&(t.substr(ho,8).toLowerCase()===Ur?(r=t.substr(ho,8),ho+=8):(r=yt,0===xo&&l(Vr)),r===yt&&(t.substr(ho,6).toLowerCase()===Kr?(r=t.substr(ho,6),ho+=6):(r=yt,0===xo&&l(Yr)),r===yt&&(t.substr(ho,4).toLowerCase()===$r?(r=t.substr(ho,4),ho+=4):(r=yt,0===xo&&l(Zr)),r===yt&&(t.substr(ho,3).toLowerCase()===Jr?(r=t.substr(ho,3),ho+=3):(r=yt,0===xo&&l(Qr)),r===yt&&(t.substr(ho,3).toLowerCase()===tn?(r=t.substr(ho,3),ho+=3):(r=yt,0===xo&&l(en)))))))))))))))),r!==yt&&(po=e,r=rn(r)),e=r,xo--,e===yt&&(r=yt,0===xo&&l(kr)),e}function N(){var t;return t=P(),t===yt&&(t=M()),t}function P(){var e,r,n,o;return xo++,e=ho,34===t.charCodeAt(ho)?(r=on,ho++):(r=yt,0===xo&&l(an)),r!==yt?(n=j(),n!==yt?(34===t.charCodeAt(ho)?(o=on,ho++):(o=yt,0===xo&&l(an)),o!==yt?(po=e,r=cn(n),e=r):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt),xo--,e===yt&&(r=yt,0===xo&&l(nn)),e}function j(){var e,r,n,o;for(e=[],r=ho,n=ho,xo++,34===t.charCodeAt(ho)?(o=on,ho++):(o=yt,0===xo&&l(an)),xo--,o===yt?n=void 0:(ho=n,n=yt),n!==yt?(t.substr(ho,2)===un?(o=un,ho+=2):(o=yt,0===xo&&l(sn)),o===yt&&(t.length>ho?(o=t.charAt(ho),ho++):(o=yt,0===xo&&l(ln))),o!==yt?(po=r,n=fn(o),r=n):(ho=r,r=yt)):(ho=r,r=yt);r!==yt;)e.push(r),r=ho,n=ho,xo++,34===t.charCodeAt(ho)?(o=on,ho++):(o=yt,0===xo&&l(an)),xo--,o===yt?n=void 0:(ho=n,n=yt),n!==yt?(t.substr(ho,2)===un?(o=un,ho+=2):(o=yt,0===xo&&l(sn)),o===yt&&(t.length>ho?(o=t.charAt(ho),ho++):(o=yt,0===xo&&l(ln))),o!==yt?(po=r,n=fn(o),r=n):(ho=r,r=yt)):(ho=r,r=yt);return e}function M(){var t,e;return t=ho,e=H(),e!==yt&&(po=t,e=dn(e)),t=e}function H(){var e,r,n,o;for(e=[],r=ho,n=ho,xo++,44===t.charCodeAt(ho)?(o=At,ho++):(o=yt,0===xo&&l(kt)),o===yt&&(59===t.charCodeAt(ho)?(o=Et,ho++):(o=yt,0===xo&&l(Tt)),o===yt&&(123===t.charCodeAt(ho)?(o=fe,ho++):(o=yt,0===xo&&l(de)))),xo--,o===yt?n=void 0:(ho=n,n=yt),n!==yt?(t.length>ho?(o=t.charAt(ho),ho++):(o=yt,0===xo&&l(ln)),o!==yt?(po=r,n=fn(o),r=n):(ho=r,r=yt)):(ho=r,r=yt);r!==yt;)e.push(r),r=ho,n=ho,xo++,44===t.charCodeAt(ho)?(o=At,ho++):(o=yt,0===xo&&l(kt)),o===yt&&(59===t.charCodeAt(ho)?(o=Et,ho++):(o=yt,0===xo&&l(Tt)),o===yt&&(123===t.charCodeAt(ho)?(o=fe,ho++):(o=yt,0===xo&&l(de)))),xo--,o===yt?n=void 0:(ho=n,n=yt),n!==yt?(t.length>ho?(o=t.charAt(ho),ho++):(o=yt,0===xo&&l(ln)),o!==yt?(po=r,n=fn(o),r=n):(ho=r,r=yt)):(ho=r,r=yt);return e}function O(){var e,r,n;if(xo++,e=ho,r=[],pn.test(t.charAt(ho))?(n=t.charAt(ho),ho++):(n=yt,0===xo&&l(gn)),n!==yt)for(;n!==yt;)r.push(n),pn.test(t.charAt(ho))?(n=t.charAt(ho),ho++):(n=yt,0===xo&&l(gn));else r=yt;return r!==yt&&(po=e,r=mn(r)),e=r,e===yt&&(e=P()),xo--,e===yt&&(r=yt,0===xo&&l(hn)),e}function W(){var e,r;return xo++,e=ho,xn.test(t.charAt(ho))?(r=t.charAt(ho),ho++):(r=yt,0===xo&&l(yn)),r!==yt&&(po=e,r=fn(r)),e=r,xo--,e===yt&&(r=yt,0===xo&&l(bn)),e}function R(){var e,r;return xo++,e=ho,wn.test(t.charAt(ho))?(r=t.charAt(ho),ho++):(r=yt,0===xo&&l(Cn)),r!==yt&&(po=e,r=fn(r)),e=r,xo--,e===yt&&(r=yt,0===xo&&l(vn)),e}function z(){var e;return t.substr(ho,2)===_n?(e=_n,ho+=2):(e=yt,0===xo&&l(An)),e}function G(){var e;return t.substr(ho,2)===kn?(e=kn,ho+=2):(e=yt,0===xo&&l(Ln)),e}function X(){var e,r,n;return e=ho,r=ho,xo++,t.substr(ho,2)===kn?(n=kn,ho+=2):(n=yt,0===xo&&l(Ln)),xo--,n===yt?r=void 0:(ho=r,r=yt),r!==yt?(t.length>ho?(n=t.charAt(ho),ho++):(n=yt,0===xo&&l(ln)),n!==yt?(po=e,r=fn(n),e=r):(ho=e,e=yt)):(ho=e,e=yt),e}function q(){var t,e,r,n;if(t=ho,e=z(),e!==yt){for(r=[],n=X();n!==yt;)r.push(n),n=X();r!==yt?(n=G(),n!==yt?(po=t,e=En(e,r,n),t=e):(ho=t,t=yt)):(ho=t,t=yt)}else ho=t,t=yt;return t}function U(){var e;return t.substr(ho,2)===Tn?(e=Tn,ho+=2):(e=yt,0===xo&&l(Sn)),e===yt&&(35===t.charCodeAt(ho)?(e=In,ho++):(e=yt,0===xo&&l(Fn))),e}function V(){var e;return Bn.test(t.charAt(ho))?(e=t.charAt(ho),ho++):(e=yt,0===xo&&l(Dn)),e}function K(){var t,e,r,n;if(t=ho,e=U(),e!==yt){for(r=[],n=V();n!==yt;)r.push(n),n=V();r!==yt?(po=t,e=Nn(e,r),t=e):(ho=t,t=yt)}else ho=t,t=yt;return t}function Y(){var t,e;return xo++,t=K(),t===yt&&(t=q()),xo--,t===yt&&(e=yt,0===xo&&l(Pn)),t}function $(){var t,e;for(t=[],e=W(),e===yt&&(e=R(),e===yt&&(e=Y()));e!==yt;)t.push(e),e=W(),e===yt&&(e=R(),e===yt&&(e=Y()));return t}function Z(){var t,e;return xo++,t=ho,e=J(),e!==yt&&(po=t,e=Mn(e)),t=e,t===yt&&(t=ho,e=Q(),e!==yt&&(po=t,e=Hn(e)),t=e),xo--,t===yt&&(e=yt,0===xo&&l(jn)),t}function J(){var e,r,n,o;return e=ho,34===t.charCodeAt(ho)?(r=on,ho++):(r=yt,0===xo&&l(an)),r!==yt?(n=Q(),n!==yt?(34===t.charCodeAt(ho)?(o=on,ho++):(o=yt,0===xo&&l(an)),o!==yt?(po=e,r=On(n),e=r):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt),e}function Q(){var t;return t=et(),t===yt&&(t=tt()),t}function tt(){var e,r,n;if(e=ho,r=[],Wn.test(t.charAt(ho))?(n=t.charAt(ho),ho++):(n=yt,0===xo&&l(Rn)),n!==yt)for(;n!==yt;)r.push(n),Wn.test(t.charAt(ho))?(n=t.charAt(ho),ho++):(n=yt,0===xo&&l(Rn));else r=yt;return r!==yt&&(po=e,r=zn(r)),e=r}function et(){var e,r,n,o,i;return e=ho,r=ho,n=tt(),n!==yt?(46===t.charCodeAt(ho)?(o=Gn,ho++):(o=yt,0===xo&&l(Xn)),o!==yt?(i=tt(),i!==yt?(n=[n,o,i],r=n):(ho=r,r=yt)):(ho=r,r=yt)):(ho=r,r=yt),r!==yt&&(po=e,r=qn(r)),e=r}function rt(){var t,e;return xo++,t=ho,e=nt(),e!==yt&&(po=t,e=Vn(e)),t=e,t===yt&&(t=ho,e=ot(),e!==yt&&(po=t,e=Kn(e)),t=e),xo--,t===yt&&(e=yt,0===xo&&l(Un)),t}function nt(){var e,r,n,o;return e=ho,34===t.charCodeAt(ho)?(r=on,ho++):(r=yt,0===xo&&l(an)),r!==yt?(n=ot(),n!==yt?(34===t.charCodeAt(ho)?(o=on,ho++):(o=yt,0===xo&&l(an)),o!==yt?(po=e,r=Mn(n),e=r):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt),e}function ot(){var e;return t.substr(ho,4).toLowerCase()===Yn?(e=t.substr(ho,4),ho+=4):(e=yt,0===xo&&l($n)),e===yt&&(t.substr(ho,5).toLowerCase()===Zn?(e=t.substr(ho,5),ho+=5):(e=yt,0===xo&&l(Jn)),e===yt&&(t.substr(ho,2).toLowerCase()===Qn?(e=t.substr(ho,2),ho+=2):(e=yt,0===xo&&l(to)),e===yt&&(t.substr(ho,3).toLowerCase()===eo?(e=t.substr(ho,3),ho+=3):(e=yt,0===xo&&l(ro)),e===yt&&(48===t.charCodeAt(ho)?(e=no,ho++):(e=yt,0===xo&&l(oo)),e===yt&&(49===t.charCodeAt(ho)?(e=io,ho++):(e=yt,0===xo&&l(ao))))))),e}function it(){var t,e;return xo++,t=at(),t===yt&&(t=ct()),xo--,t===yt&&(e=yt,0===xo&&l(co)),t}function at(){var e,r,n,o;return e=ho,34===t.charCodeAt(ho)?(r=on,ho++):(r=yt,0===xo&&l(an)),r!==yt?(n=ct(),n!==yt?(34===t.charCodeAt(ho)?(o=on,ho++):(o=yt,0===xo&&l(an)),o!==yt?(po=e,r=Mn(n),e=r):(ho=e,e=yt)):(ho=e,e=yt)):(ho=e,e=yt),e}function ct(){var e,r;return e=ho,r=Q(),r!==yt&&(po=e,r=uo(r)),e=r,e===yt&&(e=ho,t.substr(ho,4).toLowerCase()===so?(r=t.substr(ho,4),ho+=4):(r=yt,0===xo&&l(lo)),r!==yt&&(po=e,r=fo(r)),e=r),e}function ut(t,e){return t=t||{},e&&Object.getOwnPropertyNames(e).forEach(function(r){t[r]=e[r]}),t}function st(t){var e={};return t.forEach(function(t){e=ut(e,t)}),e}function lt(t){return["true","on","1"].indexOf(t.toLowerCase())>-1}function ft(t,e){var r={};return r[t.toLowerCase()]=e,r}function dt(t,e,r){return void 0===e||"*"===e||(!!t.some(function(t){return t.name===e})||r[e]===!0)}function ht(t){var e={};return e.name=t,e}function pt(t,e,r){return t||(t=[]),r||(r={}),e&&e.forEach(function(e){e.forEach(function(e){dt(t,e.from,r)||t.push(ht(e.from)),e.arcs&&(r[e.to]=!0,ut(t,pt(t,e.arcs,r)),delete r[e.to]),dt(t,e.to,r)||t.push(ht(e.to))})}),t}function gt(t){return!!t&&(!!t.watermark||!!t.width&&"auto"===!!t.width)}function mt(t){return!!t&&t.some(function(t){return t.some(function(t){return["alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"].indexOf(t.kind)>-1})})}function bt(t,e){var r=gt(t),n=mt(e);return{extendedOptions:r,extendedArcTypes:n,extendedFeatures:r||n}}r=void 0!==r?r:{};var xt,yt={},vt={program:d},wt=d,Ct=function(t,e){e.entities=pt(e.entities,e.arcs);var r=e;return r=ut({meta:bt(e.options,e.arcs)},r),t.length>0&&(r=ut({precomment:t},r)),r},_t=function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n},At=",",kt=n(",",!1),Lt=function(t){return t},Et=";",Tt=n(";",!1),St=function(t){return st(t[0].concat(t[1]))},It="hscale",Ft=n("hscale",!0),Bt="arcgradient",Dt=n("arcgradient",!0),Nt="=",Pt=n("=",!1),jt=function(t,e){return ft(t,e)},Mt="width",Ht=n("width",!0),Ot="wordwraparcs",Wt=n("wordwraparcs",!0),Rt=function(t,e){return ft(t,lt(e))},zt="watermark",Gt=n("watermark",!0),Xt=function(t){return t},qt=function(t){return t[0].concat(t[1])},Ut=c("entity"),Vt=":",Kt=n(":",!1),Yt=function(t,e){return e},$t=function(t,e){var r={};return r.name=t,e&&(r.label=e),r},Zt=function(t){return t},Jt=function(t){return t[0].concat(t[1])},Qt=function(t){return t},te=function(t){return t},ee=function(t){return t},re=function(t,e){return e},ne=function(t,e){return e&&(t.label=e),t},oe=function(t){return{kind:t}},ie=function(t,e,r){return{kind:e,from:t,to:r}},ae="*",ce=n("*",!1),ue=function(t,e){return{kind:t,from:"*",to:e}},se=function(t,e){return{kind:e,from:t,to:"*"}},le=function(t,e,r,n){return n},fe="{",de=n("{",!1),he="}",pe=n("}",!1),ge=function(t,e,r,n,o){var i={kind:e,from:t,to:r,arcs:o};return n&&(i.label=n),i},me=c("empty row"),be="|||",xe=n("|||",!1),ye="...",ve=n("...",!1),we=c("---"),Ce="---",_e=n("---",!1),Ae=function(t){return t.toLowerCase()},ke=c("bi-directional arrow"),Le="--",Ee=n("--",!1),Te="<->",Se=n("<->",!1),Ie="==",Fe=n("==",!1),Be="<<=>>",De=n("<<=>>",!1),Ne="<=>",Pe=n("<=>",!1),je="..",Me=n("..",!1),He="<<>>",Oe=n("<<>>",!1),We="::",Re=n("::",!1),ze="<:>",Ge=n("<:>",!1),Xe=c("left to right arrow"),qe="->",Ue=n("->",!1),Ve="=>>",Ke=n("=>>",!1),Ye="=>",$e=n("=>",!1),Ze=">>",Je=n(">>",!1),Qe=":>",tr=n(":>",!1),er="-x",rr=n("-x",!0),nr=c("right to left arrow"),or="<-",ir=n("<-",!1),ar="<<=",cr=n("<<=",!1),ur="<=",sr=n("<=",!1),lr="<<",fr=n("<<",!1),dr="<:",hr=n("<:",!1),pr="x-",gr=n("x-",!0),mr=c("box"),br="note",xr=n("note",!0),yr="abox",vr=n("abox",!0),wr="rbox",Cr=n("rbox",!0),_r="box",Ar=n("box",!0),kr=c("inline expression"),Lr="alt",Er=n("alt",!0),Tr="else",Sr=n("else",!0),Ir="opt",Fr=n("opt",!0),Br="break",Dr=n("break",!0),Nr="par",Pr=n("par",!0),jr="seq",Mr=n("seq",!0),Hr="strict",Or=n("strict",!0),Wr="neg",Rr=n("neg",!0),zr="critical",Gr=n("critical",!0),Xr="ignore",qr=n("ignore",!0),Ur="consider",Vr=n("consider",!0),Kr="assert",Yr=n("assert",!0),$r="loop",Zr=n("loop",!0),Jr="ref",Qr=n("ref",!0),tn="exc",en=n("exc",!0),rn=function(t){return t.toLowerCase()},nn=c("double quoted string"),on='"',an=n('"',!1),cn=function(t){return t.join("")},un='\\"',sn=n('\\"',!1),ln=i(),fn=function(t){return t},dn=function(t){return t.join("").trim()},hn=c("identifier"),pn=/^[^;, "\t\n\r=\-><:{*]/,gn=o([";",","," ",'"',"\t","\n","\r","=","-",">","<",":","{","*"],!0,!1),mn=function(t){return t.join("")},bn=c("whitespace"),xn=/^[ \t]/,yn=o([" ","\t"],!1,!1),vn=c("lineend"),wn=/^[\r\n]/,Cn=o(["\r","\n"],!1,!1),_n="/*",An=n("/*",!1),kn="*/",Ln=n("*/",!1),En=function(t,e,r){return t+e.join("")+r},Tn="//",Sn=n("//",!1),In="#",Fn=n("#",!1),Bn=/^[^\r\n]/,Dn=o(["\r","\n"],!0,!1),Nn=function(t,e){return t+e.join("")},Pn=c("comment"),jn=c("number"),Mn=function(t){return t},Hn=function(t){return t.toString()},On=function(t){return t.toString()},Wn=/^[0-9]/,Rn=o([["0","9"]],!1,!1),zn=function(t){return parseInt(t.join(""),10)},Gn=".",Xn=n(".",!1),qn=function(t){return parseFloat(t.join(""))},Un=c("boolean"),Vn=function(t){return t},Kn=function(t){return t.toString()},Yn="true",$n=n("true",!0),Zn="false",Jn=n("false",!0),Qn="on",to=n("on",!0),eo="off",ro=n("off",!0),no="0",oo=n("0",!1),io="1",ao=n("1",!1),co=c("size"),uo=function(t){return t.toString()},so="auto",lo=n("auto",!0),fo=function(t){return t.toLowerCase()},ho=0,po=0,go=[{line:1,column:1}],mo=0,bo=[],xo=0;if("startRule"in r){if(!(r.startRule in vt))throw new Error("Can't start parsing from rule \""+r.startRule+'".');wt=vt[r.startRule]}if(xt=wt(),xt!==yt&&ho===t.length)return xt;throw xt!==yt&&ho<t.length&&l(a()),f(bo,mo<t.length?t.charAt(mo):null,mo<t.length?s(mo,mo+1):s(mo,mo))}return t(e,Error),e.buildMessage=function(t,e){function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function n(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function i(t){return u[t.type](t)}function a(t){var e,r,n=new Array(t.length);for(e=0;e<t.length;e++)n[e]=i(t[e]);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}function c(t){return t?'"'+n(t)+'"':"end of input"}var u={literal:function(t){return'"'+n(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?o(t.parts[e][0])+"-"+o(t.parts[e][1]):o(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};return"Expected "+a(t)+" but "+c(e)+" found."},{SyntaxError:e,parse:r}})},function(t,e,r){var n,o;n=[r(8),r(4),r(6),r(15),r(16),r(18),r(20),r(25),r(7),r(22),r(23),r(24),r(5),r(10)],o=function(t,e,r,n,o,i,a,c,u,s,l,f,d,h){"use strict";function p(t,e,n,o){var a=Object.seal(i.flatten(t)),c=o||{};c=h.defaults(c,{source:null,styleAdditions:null,mirrorEntitiesOnBottom:!1}),g(a,e,n,c),m(a),b(a);var u=e.document.getElementById(n);return u?r.webkitNamespaceBugWorkaround(u.innerHTML):r.webkitNamespaceBugWorkaround(e.document.body.innerHTML)}function g(t,e,n,i){u.setPrefix(n),$.document=o.bootstrap(e,n,u.get(),s.getMarkerDefs(u.get(),t),i),$.mirrorEntitiesOnBottom=Boolean(i.mirrorEntitiesOnBottom),r.init($.document),$.layer=x($.document),$.maxDepth=t.depth,v($,t.options)}function m(t){S(t.entities),c.clear(l.getDims().height,$.arcRowHeight),D(t.arcs,t.entities),$.mirrorEntitiesOnBottom&&T()}function b(t){var e=w(t);C(e),A(t.options,e),k(e)}function x(t){return{defs:t.getElementById(u.get("__defs")),lifeline:t.getElementById(u.get("__lifelinelayer")),sequence:t.getElementById(u.get("__sequencelayer")),notes:t.getElementById(u.get("__notelayer")),inline:t.getElementById(u.get("__arcspanlayer")),watermark:t.getElementById(u.get("__watermark"))}}function y(t,e){t.arcRowHeight=K,t.arcGradient=Y,t.wordWrapArcs=!1,e&&(e.arcgradient&&(t.arcRowHeight=parseInt(e.arcgradient,10)+K,t.arcGradient=parseInt(e.arcgradient,10)+Y),t.wordWrapArcs=Boolean(e.wordwraparcs))}function v(t,e){l.init(e&&e.hscale),y(t,e)}function w(t){var e=n.determineDepthCorrection(t.depth,d.LINE_WIDTH),r=c.getLast(),o={width:t.entities.length*l.getDims().interEntitySpacing+e,height:Boolean($.mirrorEntitiesOnBottom)?2*l.getDims().height+r.y+r.height+2*V:r.y+r.height/2+2*V,horizontaltransform:(l.getDims().interEntitySpacing+e-l.getDims().width)/2,autoscale:!!t.options&&!!t.options.width&&"auto"===t.options.width,verticaltransform:V,scale:1};return o.x=0-o.horizontaltransform,o.y=0-o.verticaltransform,o}function C(e){$.document.getElementById(u.get("__background")).appendChild(t.createRect(e,"bglayer"))}function _(e,r){$.layer.watermark.appendChild(t.createDiagonalText(e,r,"watermark"))}function A(t,e){t&&(t.watermark&&_(t.watermark,e),t.width&&"auto"!==t.width&&n.scaleCanvasToWidth(t.width,e))}function k(t){var r=$.document.getElementById(u.get()),n=$.document.getElementById(u.get("__body"));n.setAttribute("transform","translate("+t.horizontaltransform+","+t.verticaltransform+") scale("+t.scale+","+t.scale+")"),t.autoscale&&t.autoscale===!0?e.setAttributes(r,{width:"100%",height:"100%",viewBox:"0 0 "+t.width.toString()+" "+t.height.toString()}):e.setAttributes(r,{width:t.width.toString(),height:t.height.toString(),viewBox:"0 0 "+t.width.toString()+" "+t.height.toString()})}function L(t){var e=t[0],n=2;return t.forEach(function(t){var r=l.getNoEntityLines(t.label);r>n&&(n=r,e=t)}),n>2?Math.max(l.getDims().height,r.getBBox(E(e)).height):l.getDims().height}function E(e,r){var n=t.createGroup(u.get(e.name)),o=l.getDims();return o.x=r?r:0,n.appendChild(t.createRect(o,"entity",e.linecolor,e.textbgcolor)),n.appendChild(f.createLabel(e,{x:o.x,y:o.height/2,width:o.width},{kind:"entity"})),n}function T(){var e=c.getLast().y+(c.getLast().height+$.arcRowHeight)/2;$.layer.lifeline.appendChild(t.createUse({x:0,y:e},u.get("arcrow"))),$.layer.sequence.appendChild(t.createUse({x:0,y:e+$.arcRowHeight/2},u.get("entities")))}function S(e){var r=0,n=t.createGroup(u.get("entities"));e&&(l.setHeight(L(e)+2*d.LINE_WIDTH),e.forEach(function(t){n.appendChild(E(t,r)),l.setX(t,r),r+=l.getDims().interEntitySpacing}),$.layer.defs.appendChild(n),$.layer.sequence.appendChild(t.createUse({x:0,y:0},u.get("entities")))),$.arcEndX=r-l.getDims().interEntitySpacing+l.getDims().width}function I(t,e,r,n){var o=0,i=t.label,a=l.getX(t.from);t.label="",e.forEach(function(e,i){e.name!==t.from&&(o=l.getX(e.name),$.layer.defs.appendChild(z(r+"bc"+i,t,a,o)),n.push({id:r+"bc"+i,layer:$.layer.sequence}))}),t.label=i}function F(t,e,r,n){var o={};return t.from&&t.to&&("*"===t.to?(I(t,e,r,n),o=f.createLabel(t,{x:0,y:0,width:$.arcEndX},{alignAround:!0,ownBackground:!0,wordWrapArcs:$.wordWrapArcs},r+"_lbl"),n.push({id:r+"_lbl",layer:$.layer.sequence})):(o=z(r,t,l.getX(t.from),l.getX(t.to)),n.push({id:r,layer:$.layer.sequence}))),o}function B(e,n,o){var i="arcrow",s=[];e.forEach(function(t,e){var f=u.get(n.toString()+"_"+e.toString()),h={};switch(a.getAggregate(t.kind)){case"emptyarc":h=O(t,f),"..."===t.kind&&(i="arcrowomit"),s.push({id:f,layer:$.layer.sequence});break;case"box":h=U(f,l.getOAndD(t.from,t.to),t),s.push({id:f,layer:$.layer.notes});break;case"inline_expression":h=N(f+"_label",t),s.push({id:f+"_label",layer:$.layer.notes}),Z.push({id:f,arc:t,rownum:n});break;default:h=F(t,o,f,s)}c.set(n,Math.max(c.get(n).height,r.getBBox(h).height+2*d.LINE_WIDTH)),$.layer.defs.appendChild(h)});var f="arcrow_"+n.toString();$.layer.defs.appendChild(M(o,i,c.get(n).height,u.get(f))),$.layer.lifeline.appendChild(t.createUse({x:0,y:c.get(n).y},u.get(f))),s.forEach(function(e){e.layer.appendChild(t.createUse({x:0,y:c.get(n).y},e.id))})}function D(e,r){if(Z=[],$.layer.defs.appendChild(M(r,"arcrow",null,u.get("arcrow"))),$.layer.lifeline.appendChild(t.createUse({x:0,y:c.get(-1).y},u.get("arcrow"))),e){for(var n=0;n<e.length;n++)B(e[n],n,r);P(Z)}}function N(e,n){var o=l.getOAndD(n.from,n.to),i=7,a=2*$.maxDepth*d.LINE_WIDTH,c=o.to-o.from+(l.getDims().interEntitySpacing-2*d.LINE_WIDTH)-i-d.LINE_WIDTH,u=o.from-(l.getDims().interEntitySpacing-3*d.LINE_WIDTH-a)/2-2*($.maxDepth-n.depth)*d.LINE_WIDTH,s=t.createGroup(e);n.label=n.kind+(n.label?": "+n.label:"");var h=f.createLabel(n,{x:u+d.LINE_WIDTH-c/2,y:$.arcRowHeight/4,width:c},{alignLeft:!0,ownBackground:!1,wordWrapArcs:$.wordWrapArcs}),p=r.getBBox(h),g=Math.max(p.height+2*d.LINE_WIDTH,$.arcRowHeight/2-2*d.LINE_WIDTH),m=Math.min(p.width+2*d.LINE_WIDTH,c),b=t.createEdgeRemark({width:m-d.LINE_WIDTH+i,height:g,x:u,y:0},"box inline_expression_label",n.linecolor,n.textbgcolor,i);return s.appendChild(b),s.appendChild(h),s}function P(e){e.forEach(function(e){$.layer.defs.appendChild(j(e)),$.layer.inline.appendChild(t.createUse({x:0,y:c.get(e.rownum).y},e.id))})}function j(t){var e=c.get(t.rownum).y,r=c.get(t.rownum+t.arc.numberofrows+1).y,n=r-e;return t.arc.label="",q(t.id,l.getOAndD(t.arc.from,t.arc.to),t.arc,n)}function M(e,r,n,o){o||(o=r),(!n||n<$.arcRowHeight)&&(n=$.arcRowHeight);var i=t.createGroup(o);return e.forEach(function(e){var o=t.createLine({xFrom:l.getX(e.name),yFrom:0-n/2,xTo:l.getX(e.name),yTo:n/2},{class:r});e.linecolor&&o.setAttribute("style","stroke:"+e.linecolor+";"),i.appendChild(o)}),i}function H(e,r,n,o,i){var c=2*($.arcRowHeight/5),f=l.getDims().interEntitySpacing/2,h={},p="arc "+a.getAggregateClass(e)+" "+a.getClass(e);if(o){h=t.createGroup();var g=t.createUTurn({x:r,y:c/2},n+c-2*d.LINE_WIDTH,f-2*d.LINE_WIDTH,p,"::"!==e),m=t.createUTurn({x:r,y:c/2},n+c-d.LINE_WIDTH,f),b=t.createUTurn({x:r,y:c/2},n+c,f,p,"::"!==e);Boolean(i)&&g.setAttribute("style","stroke:"+i),s.getAttributes(u.get(),e,i,r,r).forEach(function(t){m.setAttribute(t.name,t.value)}),m.setAttribute("style","stroke:transparent;"),Boolean(i)&&b.setAttribute("style","stroke:"+i),h.appendChild(g),h.appendChild(b),h.appendChild(m),h.setAttribute("class",p)}else h=t.createUTurn({x:r,y:c/2},n+c,f,p,"-x"===e),s.getAttributes(u.get(),e,i,r,r).forEach(function(t){h.setAttribute(t.name,t.value)});return h}function O(t,e){return"---"===t.kind?X(e,t,l.getOAndD(t.from,t.to)):G(e,t,l.getOAndD(t.from,t.to))}function W(t){return t.arcskip?t.arcskip*$.arcRowHeight:0}function R(t){return"<:>"===t?"bidi ":"::"===t?"nodi ":""}
function z(e,r,o,i){var c=t.createGroup(e),h="arc ";h+=R(r.kind),h+=a.getAggregateClass(r.kind)+" "+a.getClass(r.kind);var p=[":>","::","<:>"].indexOf(r.kind)>-1,g=W(r),m=0===g?$.arcGradient:g;if(i=n.determineArcXTo(r.kind,o,i),o===i){c.appendChild(H(r.kind,o,g,p,r.linecolor));var b=2*l.getDims().interEntitySpacing/3;c.appendChild(f.createLabel(r,{x:o+1.5*d.LINE_WIDTH-b/2,y:0-$.arcRowHeight/5-d.LINE_WIDTH/2,width:b},{alignLeft:!0,alignAbove:!0,ownBackground:!0,wordWrapArcs:$.wordWrapArcs}))}else{var x=t.createLine({xFrom:o,yFrom:0,xTo:i,yTo:m},{class:h,doubleLine:p});s.getAttributes(u.get(),r.kind,r.linecolor,o,i).forEach(function(t){x.setAttribute(t.name,t.value)}),c.appendChild(x),c.appendChild(f.createLabel(r,{x:o,y:0,width:i-o},{alignAround:!0,ownBackground:!0,wordWrapArcs:$.wordWrapArcs}))}return c}function G(e,r,n){var o=0,i=$.arcEndX,a=t.createGroup(e);return r.from&&r.to&&(o=n.from,i=n.to-n.from),a.appendChild(f.createLabel(r,{x:o,y:0,width:i},{ownBackground:!0,wordWrapArcs:$.wordWrapArcs},e+"_lbl")),a}function X(e,r,n){var o=0,i=$.arcEndX,a="comment",c=t.createGroup(e);if(r.from&&r.to){var u=1*$.maxDepth*d.LINE_WIDTH,s=2*($.maxDepth-r.depth)*d.LINE_WIDTH;o=n.from-(l.getDims().interEntitySpacing+2*d.LINE_WIDTH)/2-(s-u),i=n.to+(l.getDims().interEntitySpacing+2*d.LINE_WIDTH)/2+(s-u),a="inline_expression_divider"}var f=t.createLine({xFrom:o,yFrom:0,xTo:i,yTo:0},{class:a});return c.appendChild(f),c.appendChild(G(e+"_txt",r,n)),r.linecolor&&f.setAttribute("style","stroke:"+r.linecolor+";"),c}function q(e,r,n,o){var i=2*$.maxDepth*d.LINE_WIDTH,a=r.to-r.from+l.getDims().interEntitySpacing-2*d.LINE_WIDTH-i,c=r.from-(l.getDims().interEntitySpacing-2*d.LINE_WIDTH-i)/2,u=t.createGroup(e),s=2*($.maxDepth-n.depth)*d.LINE_WIDTH;return u.appendChild(t.createRect({width:a+2*s,height:o?o:$.arcRowHeight-2*d.LINE_WIDTH,x:c-s,y:0},"box inline_expression "+n.kind,n.linecolor,n.textbgcolor)),u}function U(e,n,o){var i=2*$.maxDepth*d.LINE_WIDTH,a=n.to-n.from+l.getDims().interEntitySpacing-2*d.LINE_WIDTH-i,c=n.from-(l.getDims().interEntitySpacing-2*d.LINE_WIDTH-i)/2,u=t.createGroup(e),s={},h=f.createLabel(o,{x:c,y:0,width:a}),p=r.getBBox(h),g=Math.max(p.height+2*d.LINE_WIDTH,$.arcRowHeight-2*d.LINE_WIDTH),m={width:a,height:g,x:c,y:0-g/2};switch(o.kind){case"rbox":s=t.createRBox(m,"box rbox",o.linecolor,o.textbgcolor);break;case"abox":s=t.createABox(m,"box abox",o.linecolor,o.textbgcolor);break;case"note":s=t.createNote(m,"box note",o.linecolor,o.textbgcolor);break;default:s=t.createRect(m,"box",o.linecolor,o.textbgcolor)}return u.appendChild(s),u.appendChild(h),u}var V=3,K=38,Y=0,$=Object.seal({arcRowHeight:K,arcGradient:Y,arcEndX:0,wordWrapArcs:!1,mirrorEntitiesOnBottom:!1,maxDepth:0,document:{},layer:{defs:{},lifeline:{},sequence:{},notes:{},inline:{},watermark:{}}}),Z=[];return{clean:function(t,e){$.document=o.init(e),r.init($.document),r.removeRenderedSVGFromElement(t)},renderAST:function(t,e,r,n,o){return p(t,n,r,{source:e,styleAdditions:o})},renderASTNew:p}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(5)],o=function(t){"use strict";function e(t,e,r){return r&&t.setAttribute(e,r),t}function r(t,r){return r&&Object.keys(r).forEach(function(n){e(t,n,r[n])}),t}function n(e,n){return r(o.createElementNS(t.SVGNS,e),n)}var o={};return{init:function(t){o=t},setAttribute:e,setAttributes:r,createElement:n}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";return{SVGNS:"http://www.w3.org/2000/svg",XLINKNS:"http://www.w3.org/1999/xlink",LINE_WIDTH:2,FONT_SIZE:12}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(5),r(7),r(8),r(4),r(10)],o=function(t,e,r,n,o){"use strict";function i(t){var n=r.createSVG(t,e.get());return h.body.appendChild(n),n}function a(t){var e=h.getElementById(p);e=e?e:i(p),e.appendChild(t);var r=t.getBBox();return e.removeChild(t),r}function c(t){var e=1e5;return Math.abs(t.height)>e||Math.abs(t.width)>e?{height:0,width:0,x:0,y:0}:t}function u(t){return"function"==typeof t.getBBox?c(a(t)):{height:15,width:15,x:2,y:2}}function s(e){var r=h.createElementNS(t.SVGNS,"tspan");return r.appendChild(h.createTextNode(e)),r}function l(t){var e=n.createElement("text",{x:"0",y:"0"});return e.appendChild(s(t)),e}function f(){return u(l("ÁjyÎ9ƒ@💩")).height}function d(t){e.setPrefix(t);var r=h.getElementById(e.get());if(r){var n=h.getElementById(t);n?n.removeChild(r):h.body.removeChild(r)}}var h={},p=e.get("bboxer");return{init:function(t){h=t},removeRenderedSVGFromElement:d,getBBox:u,calculateTextHeight:o.memoize(f),webkitNamespaceBugWorkaround:function(t){return t.replace(/ xlink=/g," xmlns:xlink=","g").replace(/ href=/g," xlink:href=","g")}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";var t="mscgen_js-svg-",e=t;return{setPrefix:function(r){e=t+r},get:function(t){return e+(t||"")}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n;n=function(t){"use strict";function e(t,e){var r=p.createElementNS(c.SVGNS,"a");return r.setAttributeNS(c.XLINKNS,"xlink:href",t),r.setAttributeNS(c.XLINKNS,"xlink:title",t),r.setAttributeNS(c.XLINKNS,"xlink:show","new"),r.appendChild(e),r}function n(t,r){var n=p.createElementNS(c.SVGNS,"tspan"),o=p.createTextNode(t);return n.appendChild(o),r?e(r,n):n}function o(t,e,r){var o=h.defaults(r,{class:null,url:null,id:null,idurl:null}),i=u.createElement("text",{x:e.x.toString(),y:e.y.toString(),class:o.class});if(i.appendChild(n(t,o.url)),o.id){var a=n(" ["+o.id+"]",o.idurl);a.setAttribute("style",m),i.appendChild(a)}return i}function i(t,e,r,n){return u.createElement("marker",{orient:r,id:t,class:e,viewBox:Boolean(n)?n:"0 0 10 10",refX:"9",refY:"3",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10"})}function a(t){return Boolean(t)?"wobbly"===t?d:f:g}var c=r(5),u=r(4),s=r(9),l=r(12),f=r(13),d=r(14),h=r(10),p={},g=f,m="vertical-align:text-top;";return m+="font-size:0.7em;text-anchor:start;",{init:function(t){p=t,u.init(t)},createSVG:function(t,e,r){return g=a(r),u.createElement("svg",{version:"1.1",id:t,class:e,xmlns:c.SVGNS,"xmlns:xlink":c.XLINKNS,width:"0",height:"0"})},createDesc:function(t){return u.createElement("desc",{id:t})},createDefs:function(){return u.createElement("defs")},createRect:function(t,e,r,n){return g.createRect(t,{class:e,color:r,bgColor:n})},createRBox:function(t,e,r,n){return g.createRBox(t,{class:e,color:r,bgColor:n})},createABox:function(t,e,r,n){return g.createABox(t,{class:e,color:r,bgColor:n})},createNote:function(t,e,r,n){return g.createNote(t,{class:e,color:r,bgColor:n})},createEdgeRemark:function(t,e,r,n,o){return g.createEdgeRemark(t,{class:e,color:r,bgColor:n,foldSize:o})},createText:o,createDiagonalText:function(t,e,r){return u.setAttributes(o(t,{x:e.width/2,y:e.height/2},{class:r}),{transform:"rotate("+l.getDiagonalAngle(e).toString()+" "+(e.width/2).toString()+" "+(e.height/2).toString()+")"})},createLine:function(t,e){return Boolean(e)&&Boolean(e.doubleLine)?g.createDoubleLine(t,e):g.createSingleLine(t,e)},createUTurn:function(t,e,r,n,o){var i=o?t.x+7.5*c.LINE_WIDTH:t.x;return s.createPath(s.pathPoint2String("M",t.x,-t.y)+s.pathPoint2String("C",t.x+r,t.y-7.5*c.LINE_WIDTH)+s.point2String(t.x+r,e+0)+s.point2String(i,e),{class:n})},createGroup:function(t,e){return u.createElement("g",{id:t,class:e})},createUse:function(t,e){var r=u.createElement("use",{x:t.x.toString(),y:t.y.toString()});return r.setAttributeNS(c.XLINKNS,"xlink:href","#"+e),r},createMarkerPath:function(t,e,r){var n=i(t,"arrow-marker","auto");return n.appendChild(u.setAttributes(s.createPath(e,{class:"arrow-style"}),{style:"stroke-dasharray:100,1;stroke:"+r||"black"})),n},createMarkerPolygon:function(t,e,r){var n=i(t,"arrow-marker","auto");return n.appendChild(u.setAttributes(s.createPolygon(e,"arrow-style"),{stroke:r||"black",fill:r||"black"})),n}}}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,r){var n,o;n=[r(4),r(10)],o=function(t,e){function r(t,e){return t.toString()+","+e.toString()+" "}function n(t,e,n){return t+r(e,n)}function o(r,n){var o=e.defaults(n,{class:null,color:null,bgColor:null});return a(t.createElement("path",{d:r,class:o.class}),o.color,o.bgColor)}function i(e,r){return t.createElement("polygon",{points:e,class:r})}function a(e,r,n){var o="";return n&&(o+="fill:"+n+";"),r&&(o+="stroke:"+r+";"),t.setAttribute(e,"style",o)}function c(e,r){return t.createElement("line",{x1:e.xFrom.toString(),y1:e.yFrom.toString(),x2:e.xTo.toString(),y2:e.yTo.toString(),class:r?r.class:null})}function u(r,n){var o=e.defaults(n,{class:null,color:null,bgColor:null});return a(t.createElement("rect",{width:r.width,height:r.height,x:r.x,y:r.y,class:o.class}),o.color,o.bgColor)}function s(r,n){var o=6,i=e.defaults(n,{class:null,color:null,bgColor:null});return a(t.createElement("rect",{width:r.width,height:r.height,x:r.x,y:r.y,rx:o,ry:o,class:i.class}),i.color,i.bgColor)}return{createPath:o,createPolygon:i,createSingleLine:c,createRect:u,createRBox:s,point2String:r,pathPoint2String:n}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n;(function(t,o){(function(){function i(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function c(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function u(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}function s(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function l(t,e,r,n){var o=-1,i=null==t?0:t.length;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}function f(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function d(t){return function(e){return t(e)}}function h(t,e){return null==t?Jt:t[e]}function p(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function g(t,e){return function(r){return t(e(r))}}function m(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function b(){}function x(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function y(){this.__data__=Fr?Fr(null):{},this.size=0}function v(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function w(t){var e=this.__data__;if(Fr){var r=e[t];return r===re?Jt:r}return ar.call(e,t)?e[t]:Jt}function C(t){var e=this.__data__;return Fr?e[t]!==Jt:ar.call(e,t)}function _(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Fr&&e===Jt?re:e,this}function A(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function k(){this.__data__=[],this.size=0}function L(t){var e=this.__data__,r=q(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():br.call(e,r,1),--this.size,!0}function E(t){var e=this.__data__,r=q(e,t);return r<0?Jt:e[r][1]}function T(t){return q(this.__data__,t)>-1}function S(t,e){var r=this.__data__,n=q(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function I(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function F(){this.size=0,this.__data__={hash:new x,map:new(Er||A),string:new x}}function B(t){var e=vt(this,t).delete(t);return this.size-=e?1:0,e}function D(t){return vt(this,t).get(t)}function N(t){return vt(this,t).has(t)}function P(t,e){var r=vt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function j(t){var e=this.__data__=new A(t);this.size=e.size}function M(){this.__data__=new A,this.size=0}function H(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function O(t){return this.__data__.get(t)}function W(t){return this.__data__.has(t)}function R(t,e){var r=this.__data__;if(r instanceof A){var n=r.__data__;if(!Er||n.length<te-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new I(n)}return r.set(t,e),this.size=r.size,this}function z(t,e){var r=Ur(t),n=!r&&qr(t),o=!r&&!n&&Vr(t),i=!r&&!n&&!o&&Kr(t),a=r||n||o||i,c=a?f(t.length,String):[],u=c.length;for(var s in t)!e&&!ar.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Et(s,u))||c.push(s);return c}function G(t,e,r,n){return t===Jt||Wt(t,nr[r])&&!ar.call(n,r)?e:t}function X(t,e,r){var n=t[e];ar.call(t,e)&&Wt(n,r)&&(r!==Jt||e in t)||K(t,e,r)}function q(t,e){for(var r=t.length;r--;)if(Wt(t[r][0],e))return r;return-1}function U(t,e){return t&&pt(e,Ut(e),t)}function V(t,e){return t&&pt(e,Vt(e),t)}function K(t,e,r){"__proto__"==e&&vr?vr(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Y(t,e,r,n,o,i){var a,c=e&ne,s=e&oe,l=e&ie;if(r&&(a=o?r(t,n,o,i):r(t)),a!==Jt)return a;if(!Xt(t))return t;var f=Ur(t);if(f){if(a=_t(t),!c)return ht(t,a)}else{var d=Gr(t),h=d==ge||d==me;if(Vr(t))return it(t,c);if(d==ve||d==se||h&&!o){if(a=s||h?{}:At(t),!c)return s?mt(t,V(a,t)):gt(t,U(a,t))}else{if(!qe[d])return o?t:{};a=kt(t,d,Y,c)}}i||(i=new j);var p=i.get(t);if(p)return p;i.set(t,a);var g=l?s?yt:xt:s?Vt:Ut,m=f?Jt:g(t);return u(m||t,function(n,o){m&&(o=n,n=t[o]),X(a,o,Y(n,e,r,o,t,i))}),a}function $(t,e,r,n,o){var i=-1,a=t.length;for(r||(r=Lt),o||(o=[]);++i<a;){var c=t[i];e>0&&r(c)?e>1?$(c,e-1,r,n,o):s(o,c):n||(o[o.length]=c)}return o}function Z(t,e,r){var n=e(t);return Ur(t)?n:s(n,r(t))}function J(t){return null==t?t===Jt?Ee:ye:(t=Object(t),yr&&yr in t?Ct(t):Dt(t))}function Q(t){return qt(t)&&J(t)==se}function tt(t){if(!Xt(t)||It(t))return!1;var e=zt(t)?sr:ze;return e.test(jt(t))}function et(t){return qt(t)&&Gt(t.length)&&!!Xe[J(t)]}function rt(t){if(!Ft(t))return _r(t);var e=[];for(var r in Object(t))ar.call(t,r)&&"constructor"!=r&&e.push(r);return e}function nt(t){if(!Xt(t))return Bt(t);var e=Ft(t),r=[];for(var n in t)("constructor"!=n||!e&&ar.call(t,n))&&r.push(n);return r}function ot(t,e){return Xr(Nt(t,e,Yt),t+"")}function it(t,e){if(e)return t.slice();var r=t.length,n=hr?hr(r):new t.constructor(r);return t.copy(n),n}function at(t){var e=new t.constructor(t.byteLength);return new dr(e).set(new dr(t)),e}function ct(t,e){var r=e?at(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function ut(t,e,r){var n=e?r(p(t),ne):p(t);return l(n,i,new t.constructor)}function st(t){var e=new t.constructor(t.source,Re.exec(t));return e.lastIndex=t.lastIndex,e}function lt(t,e,r){var n=e?r(m(t),ne):m(t);return l(n,a,new t.constructor)}function ft(t){return Hr?Object(Hr.call(t)):{}}function dt(t,e){var r=e?at(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function ht(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function pt(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var c=e[i],u=n?n(r[c],t[c],c,r,t):Jt;u===Jt&&(u=t[c]),o?K(r,c,u):X(r,c,u)}return r}function gt(t,e){return pt(t,Rr(t),e)}function mt(t,e){return pt(t,zr(t),e)}function bt(t){return ot(function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:Jt,a=o>2?r[2]:Jt;for(i=t.length>3&&"function"==typeof i?(o--,i):Jt,a&&Tt(r[0],r[1],a)&&(i=o<3?Jt:i,o=1),e=Object(e);++n<o;){var c=r[n];c&&t(e,c,n,i)}return e})}function xt(t){return Z(t,Ut,Rr)}function yt(t){return Z(t,Vt,zr)}function vt(t,e){var r=t.__data__;return St(e)?r["string"==typeof e?"string":"hash"]:r.map}function wt(t,e){var r=h(t,e);return tt(r)?r:Jt}function Ct(t){var e=ar.call(t,yr),r=t[yr];try{t[yr]=Jt;var n=!0}catch(t){}var o=ur.call(t);return n&&(e?t[yr]=r:delete t[yr]),o}function _t(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&ar.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function At(t){return"function"!=typeof t.constructor||Ft(t)?{}:Or(pr(t))}function kt(t,e,r,n){var o=t.constructor;switch(e){case Se:return at(t);case de:case he:return new o(+t);case Ie:return ct(t,n);case Fe:case Be:case De:case Ne:case Pe:case je:case Me:case He:case Oe:return dt(t,n);case be:return ut(t,n,r);case xe:case ke:return new o(t);case _e:return st(t);case Ae:return lt(t,n,r);case Le:return ft(t)}}function Lt(t){return Ur(t)||qr(t)||!!(xr&&t&&t[xr])}function Et(t,e){return e=null==e?ue:e,!!e&&("number"==typeof t||Ge.test(t))&&t>-1&&t%1==0&&t<e}function Tt(t,e,r){if(!Xt(r))return!1;var n=typeof e;return!!("number"==n?Rt(r)&&Et(e,r.length):"string"==n&&e in r)&&Wt(r[e],t)}function St(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function It(t){return!!cr&&cr in t}function Ft(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||nr;return t===r}function Bt(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}function Dt(t){return ur.call(t)}function Nt(t,e,r){return e=Ar(e===Jt?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=Ar(n.length-e,0),a=Array(i);++o<i;)a[o]=n[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=n[o];return u[e]=r(a),c(t,this,u)}}function Pt(t){var e=0,r=0;return function(){var n=kr(),o=ce-(n-r);if(r=n,o>0){if(++e>=ae)return arguments[0]}else e=0;return t.apply(Jt,arguments)}}function jt(t){if(null!=t){try{return ir.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Mt(t){var e=null==t?0:t.length;return e?$(t,1):[]}function Ht(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(ee);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(Ht.Cache||I),r}function Ot(t){return Y(t,ne|ie)}function Wt(t,e){return t===e||t!==t&&e!==e}function Rt(t){return null!=t&&Gt(t.length)&&!zt(t)}function zt(t){if(!Xt(t))return!1;var e=J(t);return e==ge||e==me||e==fe||e==Ce}function Gt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=ue}function Xt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function qt(t){return null!=t&&"object"==typeof t}function Ut(t){return Rt(t)?z(t):rt(t)}function Vt(t){return Rt(t)?z(t,!0):nt(t)}function Kt(t){return function(){return t}}function Yt(t){return t}function $t(){return[]}function Zt(){return!1}var Jt,Qt="4.17.1",te=200,ee="Expected a function",re="__lodash_hash_undefined__",ne=1,oe=2,ie=4,ae=800,ce=16,ue=9007199254740991,se="[object Arguments]",le="[object Array]",fe="[object AsyncFunction]",de="[object Boolean]",he="[object Date]",pe="[object Error]",ge="[object Function]",me="[object GeneratorFunction]",be="[object Map]",xe="[object Number]",ye="[object Null]",ve="[object Object]",we="[object Promise]",Ce="[object Proxy]",_e="[object RegExp]",Ae="[object Set]",ke="[object String]",Le="[object Symbol]",Ee="[object Undefined]",Te="[object WeakMap]",Se="[object ArrayBuffer]",Ie="[object DataView]",Fe="[object Float32Array]",Be="[object Float64Array]",De="[object Int8Array]",Ne="[object Int16Array]",Pe="[object Int32Array]",je="[object Uint8Array]",Me="[object Uint8ClampedArray]",He="[object Uint16Array]",Oe="[object Uint32Array]",We=/[\\^$.*+?()[\]{}|]/g,Re=/\w*$/,ze=/^\[object .+?Constructor\]$/,Ge=/^(?:0|[1-9]\d*)$/,Xe={};Xe[Fe]=Xe[Be]=Xe[De]=Xe[Ne]=Xe[Pe]=Xe[je]=Xe[Me]=Xe[He]=Xe[Oe]=!0,Xe[se]=Xe[le]=Xe[Se]=Xe[de]=Xe[Ie]=Xe[he]=Xe[pe]=Xe[ge]=Xe[be]=Xe[xe]=Xe[ve]=Xe[_e]=Xe[Ae]=Xe[ke]=Xe[Te]=!1;var qe={};qe[se]=qe[le]=qe[Se]=qe[Ie]=qe[de]=qe[he]=qe[Fe]=qe[Be]=qe[De]=qe[Ne]=qe[Pe]=qe[be]=qe[xe]=qe[ve]=qe[_e]=qe[Ae]=qe[ke]=qe[Le]=qe[je]=qe[Me]=qe[He]=qe[Oe]=!0,qe[pe]=qe[ge]=qe[Te]=!1;var Ue="object"==typeof t&&t&&t.Object===Object&&t,Ve="object"==typeof self&&self&&self.Object===Object&&self,Ke=Ue||Ve||Function("return this")(),Ye="object"==typeof e&&e&&!e.nodeType&&e,$e=Ye&&"object"==typeof o&&o&&!o.nodeType&&o,Ze=$e&&$e.exports===Ye,Je=Ze&&Ue.process,Qe=function(){try{return Je&&Je.binding&&Je.binding("util")}catch(t){}}(),tr=Qe&&Qe.isTypedArray,er=Array.prototype,rr=Function.prototype,nr=Object.prototype,or=Ke["__core-js_shared__"],ir=rr.toString,ar=nr.hasOwnProperty,cr=function(){var t=/[^.]+$/.exec(or&&or.keys&&or.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ur=nr.toString,sr=RegExp("^"+ir.call(ar).replace(We,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lr=Ze?Ke.Buffer:Jt,fr=Ke.Symbol,dr=Ke.Uint8Array,hr=lr?lr.allocUnsafe:Jt,pr=g(Object.getPrototypeOf,Object),gr=Object.create,mr=nr.propertyIsEnumerable,br=er.splice,xr=fr?fr.isConcatSpreadable:Jt,yr=fr?fr.toStringTag:Jt,vr=function(){try{var t=wt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),wr=Object.getOwnPropertySymbols,Cr=lr?lr.isBuffer:Jt,_r=g(Object.keys,Object),Ar=Math.max,kr=Date.now,Lr=wt(Ke,"DataView"),Er=wt(Ke,"Map"),Tr=wt(Ke,"Promise"),Sr=wt(Ke,"Set"),Ir=wt(Ke,"WeakMap"),Fr=wt(Object,"create"),Br=jt(Lr),Dr=jt(Er),Nr=jt(Tr),Pr=jt(Sr),jr=jt(Ir),Mr=fr?fr.prototype:Jt,Hr=Mr?Mr.valueOf:Jt,Or=function(){function t(){}return function(e){if(!Xt(e))return{};if(gr)return gr(e);t.prototype=e;var r=new t;return t.prototype=Jt,r}}();x.prototype.clear=y,x.prototype.delete=v,x.prototype.get=w,x.prototype.has=C,x.prototype.set=_,A.prototype.clear=k,A.prototype.delete=L,A.prototype.get=E,A.prototype.has=T,A.prototype.set=S,I.prototype.clear=F,I.prototype.delete=B,I.prototype.get=D,I.prototype.has=N,I.prototype.set=P,j.prototype.clear=M,j.prototype.delete=H,j.prototype.get=O,j.prototype.has=W,j.prototype.set=R;var Wr=vr?function(t,e){return vr(t,"toString",{configurable:!0,enumerable:!1,value:Kt(e),writable:!0})}:Yt,Rr=wr?g(wr,Object):$t,zr=wr?function(t){for(var e=[];t;)s(e,Rr(t)),t=pr(t);return e}:$t,Gr=J;(Lr&&Gr(new Lr(new ArrayBuffer(1)))!=Ie||Er&&Gr(new Er)!=be||Tr&&Gr(Tr.resolve())!=we||Sr&&Gr(new Sr)!=Ae||Ir&&Gr(new Ir)!=Te)&&(Gr=function(t){var e=J(t),r=e==ve?t.constructor:Jt,n=r?jt(r):"";if(n)switch(n){case Br:return Ie;case Dr:return be;case Nr:return we;case Pr:return Ae;case jr:return Te}return e});var Xr=Pt(Wr);Ht.Cache=I;var qr=Q(function(){return arguments}())?Q:function(t){return qt(t)&&ar.call(t,"callee")&&!mr.call(t,"callee")},Ur=Array.isArray,Vr=Cr||Zt,Kr=tr?d(tr):et,Yr=bt(function(t,e,r,n){pt(e,Vt(e),t,n)}),$r=ot(function(t){return t.push(Jt,G),c(Yr,Jt,t)});b.assignInWith=Yr,b.constant=Kt,b.defaults=$r,b.flatten=Mt,b.keys=Ut,b.keysIn=Vt,b.memoize=Ht,b.extendWith=Yr,b.cloneDeep=Ot,b.eq=Wt,b.identity=Yt,b.isArguments=qr,b.isArray=Ur,b.isArrayLike=Rt,b.isBuffer=Vr,b.isFunction=zt,b.isLength=Gt,b.isObject=Xt,b.isObjectLike=qt,b.isTypedArray=Kr,b.stubArray=$t,b.stubFalse=Zt,b.VERSION=Qt,Ke._=b,n=function(){return b}.call(e,r,e,o),!(n!==Jt&&(o.exports=n))}).call(this)}).call(e,function(){return this}(),r(11)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,r){var n,o;n=[],o=function(){"use strict";function t(t){return 360*t/(2*Math.PI)}function e(t){var e=Math.abs(t.xTo-t.xFrom),r=Math.abs(t.yTo-t.yFrom);return Math.sqrt(e*e+r*r)}function r(t,r){var n=e(t);return n>0?Math.floor(n/r):0}function n(t){var e=t.xTo>t.xFrom?1:-1;return{signX:e,signY:t.yTo>t.yFrom?1:-1,dy:e*(t.yTo-t.yFrom)/(t.xTo-t.xFrom)}}function o(t){return Math.round(2*Math.random()*t)-t}function i(t){return Math.round(1e3*t)/1e3}function a(t,a,c){if(a<=0)throw new Error("pInterval must be > 0");a=Math.min(e(t),a);for(var u=[],s=r(t,a),l=n(t),f=l.signX*Math.sqrt(Math.pow(a,2)/(1+Math.pow(l.dy,2))),d=l.signY*(Math.abs(l.dy)===1/0?a:Math.sqrt(Math.pow(l.dy,2)*Math.pow(a,2)/(1+Math.pow(l.dy,2)))),h={},p=1;p<=s;p++)h={controlX:i(t.xFrom+(p-.5)*f+o(c)),controlY:i(t.yFrom+(p-.5)*d+o(c)),x:i(t.xFrom+p*f),y:i(t.yFrom+p*d)},a>e({xFrom:h.x,yFrom:h.y,xTo:t.xTo,yTo:t.yTo})&&(h.x=t.xTo,h.y=t.yTo),u.push(h);return u}return{round:i,getDiagonalAngle:function(e){return 0-t(Math.atan(e.height/e.width))},getDirection:n,getLineLength:e,getNumberOfSegments:r,getBetweenPoints:a}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(5),r(4),r(9),r(12),r(10)],o=function(t,e,r,n,o){function i(e,r){var n=0;return r.indexOf("nodi")<0&&(n=e.xTo>e.xFrom?-7.5*t.LINE_WIDTH:7.5*t.LINE_WIDTH),n}function a(e,r){var n=0;return r.indexOf("nodi")<0&&r.indexOf("bidi")>-1&&(n=e.xTo>e.xFrom?7.5*t.LINE_WIDTH:-7.5*t.LINE_WIDTH),n}function c(e,o){var c=t.LINE_WIDTH,u=o?o.class:null,s=n.getDirection(e),l=i(e,u),f=a(e,u),d=(e.xTo-e.xFrom+l-f).toString(),h=(e.yTo-e.yFrom).toString(),p=r.pathPoint2String("l",s.signX,s.dy),g=r.pathPoint2String("l",d,h);return r.createPath(r.pathPoint2String("M",e.xFrom,e.yFrom-7.5*t.LINE_WIDTH*s.dy)+p+r.pathPoint2String("M",e.xFrom+f,e.yFrom-c)+g+r.pathPoint2String("M",e.xFrom+f,e.yFrom+c)+g+r.pathPoint2String("M",e.xTo-s.signX,e.yTo+7.5*t.LINE_WIDTH*s.dy)+p,o)}function u(e,n){var o=Math.max(9,Math.min(4.5*t.LINE_WIDTH,e.height/2)),i=o.toString(10);return r.createPath("M"+e.x+","+e.y+"l"+(e.width-o)+",0 l0,"+i+" l"+i+",0 m-"+i+",-"+i+" l"+i+","+i+" l0,"+(e.height-o)+" l-"+e.width+",0 l0,-"+e.height+" z",n)}function s(t,e){var n=3;return r.createPath("M"+t.x+","+(t.y+t.height/2)+"l"+n+", -"+t.height/2+"l"+(t.width-2*n)+",0l"+n+","+t.height/2+"l-"+n+","+t.height/2+"l-"+(t.width-2*n)+",0 z",e)}function l(t,e){var n=e&&e.foldSize?e.foldSize:7,i=o.defaults(e,{class:null,color:null,bgColor:null});return r.createPath("M"+t.x+","+t.y+" l"+t.width+",0  l0,"+(t.height-n)+" l-"+n.toString(10)+","+n.toString(10)+" l-"+(t.width-n)+",0 ",i)}return{createSingleLine:r.createSingleLine,createDoubleLine:c,createNote:u,createRect:r.createRect,createABox:s,createRBox:r.createRBox,createEdgeRemark:l}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(5),r(4),r(9),r(12)],o=function(t,e,r,n){function o(t){return t.map(function(t){return r.pathPoint2String("S",t.controlX,t.controlY)+" "+r.point2String(t.x,t.y)}).join(" ")}function i(t,i){var a=n.getDirection(t);return e.createElement("path",{d:r.pathPoint2String("M",t.xFrom,t.yFrom)+r.pathPoint2String("L",n.round(t.xFrom+a.signX*Math.sqrt(1/(1+Math.pow(a.dy,2)))),t.yFrom+a.signY*(Math.abs(a.dy)===1/0?1:n.round(Math.sqrt(Math.pow(a.dy,2)/(1+Math.pow(a.dy,2))))))+o(n.getBetweenPoints(t,b,x)),class:i?i.class:null})}function a(t,e){return r.pathPoint2String("M",t.x,t.y)+o(n.getBetweenPoints({xFrom:t.x,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y},b,x))+r.pathPoint2String("L",t.x+t.width-e,t.y)+o(n.getBetweenPoints({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+e},b,x))+r.pathPoint2String("L",t.x+t.width,t.y+e)+o(n.getBetweenPoints({xFrom:t.x+t.width,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+t.height},b,x))+r.pathPoint2String("L",t.x+t.width,t.y+t.height)+o(n.getBetweenPoints({xFrom:t.x+t.width,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height},b,x))+r.pathPoint2String("L",t.x,t.y+t.height)+o(n.getBetweenPoints({xFrom:t.x,yFrom:t.y+t.height,xTo:t.x,yTo:t.y},b,x))+r.pathPoint2String("L",t.x,t.y)+"z"}function c(t,e){return r.pathPoint2String("M",t.x+t.width-e,t.y)+o(n.getBetweenPoints({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y+e},b,x))+r.pathPoint2String("L",t.x+t.width-e,t.y+e)+o(n.getBetweenPoints({xFrom:t.x+t.width-e,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+e},b,x))+r.pathPoint2String("L",t.x+t.width,t.y+e)}function u(n,o){var i=Math.max(9,Math.min(4.5*t.LINE_WIDTH,n.height/2)),u=e.createElement("g");return u.appendChild(r.createPath(a(n,i),o)),o.bgColor="transparent",u.appendChild(r.createPath(c(n,i),o)),u}function s(t){return Boolean(t.y)||(t.y=0),r.pathPoint2String("M",t.x,t.y)+o(n.getBetweenPoints({xFrom:t.x,yFrom:t.y,xTo:t.x+t.width,yTo:t.y},b,x))+r.pathPoint2String("L",t.x+t.width,t.y)+o(n.getBetweenPoints({xFrom:t.x+t.width,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height},b,x))+r.pathPoint2String("L",t.x+t.width,t.y+t.height)+o(n.getBetweenPoints({xFrom:t.x+t.width,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height},b,x))+r.pathPoint2String("L",t.x,t.y+t.height)+o(n.getBetweenPoints({xFrom:t.x,yFrom:t.y+t.height,xTo:t.x,yTo:t.y},b,x))+"z"}function l(t,e){return r.createPath(s(t,e),e)}function f(t,e){var i=3;return r.createPath(r.pathPoint2String("M",t.x,t.y+t.height/2)+o(n.getBetweenPoints({xFrom:t.x,yFrom:t.y+t.height/2,xTo:t.x+i,yTo:t.y},b,x))+r.pathPoint2String("L",t.x+i,t.y)+o(n.getBetweenPoints({xFrom:t.x+i,yFrom:t.y,xTo:t.x+t.width-i,yTo:t.y},b,x))+r.pathPoint2String("L",t.x+t.width-i,t.y)+o(n.getBetweenPoints({xFrom:t.x+t.width-i,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height/2},b,x))+r.pathPoint2String("L",t.x+t.width,t.y+t.height/2)+o(n.getBetweenPoints({xFrom:t.x+t.width,yFrom:t.y+t.height/2,xTo:t.x+t.width-i,yTo:t.y+t.height},b,x))+r.pathPoint2String("L",t.x+t.width-i,t.y+t.height)+o(n.getBetweenPoints({xFrom:t.x+t.width-i,yFrom:t.y+t.height,xTo:t.x+i,yTo:t.y+t.height},b,x))+r.pathPoint2String("L",t.x+i,t.y+t.height)+o(n.getBetweenPoints({xFrom:t.x+i,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height/2},b,x))+"z",e)}function d(t,e){var i=6;return r.createPath(r.pathPoint2String("M",t.x,t.y+i)+o([{controlX:t.x,controlY:t.y,x:t.x+i,y:t.y}])+o(n.getBetweenPoints({xFrom:t.x+i,yFrom:t.y,xTo:t.x+t.width-i,yTo:t.y},b,x))+r.pathPoint2String("L",t.x+t.width-i,t.y)+o([{controlX:t.x+t.width,controlY:t.y,x:t.x+t.width,y:t.y+i}])+o(n.getBetweenPoints({xFrom:t.x+t.width,yFrom:t.y+i,xTo:t.x+t.width,yTo:t.y+t.height-i},b,x))+r.pathPoint2String("L",t.x+t.width,t.y+t.height-i)+o([{controlX:t.x+t.width,controlY:t.y+t.height,x:t.x+t.width-i,y:t.y+t.height}])+o(n.getBetweenPoints({xFrom:t.x+t.width-i,yFrom:t.y+t.height,xTo:t.x+i,yTo:t.y+t.height},b,x))+r.pathPoint2String("L",t.x+i,t.y+t.height)+o([{controlX:t.x,controlY:t.y+t.height,x:t.x,y:t.y+t.height-i}])+o(n.getBetweenPoints({xFrom:t.x,yFrom:t.y+t.height-i,xTo:t.x,yTo:t.y+i},b,x))+"z",e)}function h(i,a){var c=e.createElement("g"),u=a&&a.foldSize?a.foldSize:7,s=a&&a.color?a.color:"black";a.color="transparent!important";var l=r.createPath(r.pathPoint2String("M",i.x,i.y+t.LINE_WIDTH/2)+r.pathPoint2String("L",i.x+i.width,i.y+t.LINE_WIDTH/2)+r.pathPoint2String("L",i.x+i.width,i.y+i.height-u)+r.pathPoint2String("L",i.x+i.width-u,i.y+i.height)+r.pathPoint2String("L",i.x,i.y+i.height)+"z",a);a.bgColor="transparent",a.color=s;var f=r.createPath(r.pathPoint2String("M",i.x+i.width,i.y)+o(n.getBetweenPoints({xFrom:i.x+i.width,yFrom:i.y,xTo:i.x+i.width,yTo:i.y+i.height-u},b,x))+r.pathPoint2String("L",i.x+i.width,i.y+i.height-u)+o(n.getBetweenPoints({xFrom:i.x+i.width,yFrom:i.y+i.height-u,xTo:i.x+i.width-u,yTo:i.y+i.height},b,x))+r.pathPoint2String("L",i.x+i.width-u,i.y+i.height)+o(n.getBetweenPoints({xFrom:i.x+i.width-u,yFrom:i.y+i.height,xTo:i.x-1,yTo:i.y+i.height},b,x))+r.pathPoint2String("L",i.x-1,i.y+i.height),a);return c.appendChild(l),c.appendChild(f),c}function p(e,r){var n=0;return r.indexOf("nodi")<0&&(n=e.xTo>e.xFrom?-7.5*t.LINE_WIDTH:7.5*t.LINE_WIDTH),n}function g(e,r){var n=0;return r.indexOf("nodi")<0&&r.indexOf("bidi")>-1&&(n=e.xTo>e.xFrom?7.5*t.LINE_WIDTH:-7.5*t.LINE_WIDTH),n}function m(e,i){var a=t.LINE_WIDTH,c=i?i.class:null,u=n.getDirection(e),s=p(e,c),l=g(e,c);return r.createPath(r.pathPoint2String("M",e.xFrom,e.yFrom-7.5*t.LINE_WIDTH*u.dy)+r.pathPoint2String("l",u.signX,u.dy)+r.pathPoint2String("M",e.xFrom+l,e.yFrom-a)+o(n.getBetweenPoints({xFrom:e.xFrom+l,yFrom:e.yFrom-a,xTo:e.xTo+s,yTo:e.yTo-a},b,x))+r.pathPoint2String("M",e.xFrom+l,e.yFrom+a)+o(n.getBetweenPoints({xFrom:e.xFrom+l,yFrom:e.yFrom+a,xTo:e.xTo+s,yTo:e.yTo+a},b,x))+r.pathPoint2String("M",e.xTo-u.signX,e.yTo+7.5*t.LINE_WIDTH*u.dy)+r.pathPoint2String("l",u.signX,u.dy),c)}var b=70,x=3;return{createSingleLine:i,createDoubleLine:m,createNote:u,createRect:l,createABox:f,createRBox:d,createEdgeRemark:h}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";return{scaleCanvasToWidth:function(t,e){e.scale=t/e.width,e.width*=e.scale,e.height*=e.scale,e.horizontaltransform*=e.scale,e.verticaltransform*=e.scale,e.x=0-e.horizontaltransform,e.y=0-e.verticaltransform},determineDepthCorrection:function(t,e){return t?2*(2*(t+1)*e):0},determineArcXTo:function(t,e,r){return"-x"===t?e+.75*(r-e):r}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(8),r(5),r(17)],o=function(t,e,r){"use strict";function n(e,r){return r.forEach(function(r){"method"===r.type?e.appendChild(t.createMarkerPolygon(r.name,r.path,r.color)):e.appendChild(t.createMarkerPath(r.name,r.path,r.color))}),e}function o(t,e){
var r=m.createElement("style");return r.setAttribute("type","text/css"),r.appendChild(m.createTextNode(g(t,e))),r}function i(e,r,i){var a=t.createDefs();return a.appendChild(o(i,e)),a=n(a,r),a.appendChild(t.createGroup(e+"__defs")),a}function a(e){var r=t.createGroup(e+"__body");return r.appendChild(t.createGroup(e+"__background")),r.appendChild(t.createGroup(e+"__arcspanlayer")),r.appendChild(t.createGroup(e+"__lifelinelayer")),r.appendChild(t.createGroup(e+"__sequencelayer")),r.appendChild(t.createGroup(e+"__notelayer")),r.appendChild(t.createGroup(e+"__watermark")),r}function c(e){return t.init(e.document),e.document}function u(e,r,n,o,u){m=c(e);var l=m.getElementById(r);null===l&&(l=m.body);var d=t.createSVG(n,n,f(u));return d.appendChild(s(e,n,u.source)),d.appendChild(i(n,o,u)),d.appendChild(a(n)),l.appendChild(d),m}function s(e,r,n){var o=t.createDesc(r+"__msc_source");return Boolean(n)&&o.appendChild(e.document.createTextNode("\n\n# Generated by mscgen_js - https://sverweij.github.io/mscgen_js\n"+n)),o}function l(t){var e=null,n=r.namedStyles.filter(function(e){return e.name===t});return n.length>0&&(e=n[0]),e}function f(t){var e="",r={};return Boolean(t)?(Boolean(t.additionalTemplate)&&(r=l(t.additionalTemplate),Boolean(r)&&(e=r.renderMagic)),e):""}function d(t,e){var r="",n={};return Boolean(t)?(Boolean(t.additionalTemplate)&&(n=l(t.additionalTemplate),Boolean(n)&&(r=n[e])),r):""}function h(t){var e=d(t,"cssAfter");return Boolean(t.styleAdditions)&&(e+=t.styleAdditions),e}function p(t){return d(t,"cssBefore")}function g(t,n){return(p(t)+r.baseTemplate+h(t)).replace(/<%=fontSize%>/g,e.FONT_SIZE).replace(/<%=lineWidth%>/g,e.LINE_WIDTH).replace(/<%=id%>/g,n)}var m={};return{bootstrap:u,init:c}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";return{baseTemplate:"svg.<%=id%>{font-family:Helvetica,sans-serif;font-size:<%=fontSize%>px;font-weight:normal;font-style:normal;text-decoration:none;background-color:white;stroke:black;stroke-width:<%=lineWidth%>;color:black}.<%=id%> path, .<%=id%> rect{fill:none;color:black;stroke:black}.<%=id%> .label-text-background{fill:white;stroke:white;stroke-width:0}.<%=id%> .bglayer{fill:white;stroke:white;stroke-width:0}.<%=id%> line{stroke:black}.<%=id%> .return, .<%=id%> .comment{stroke-dasharray:5,3}.<%=id%> .inline_expression_divider{stroke-dasharray:10,5}.<%=id%> text{color:inherit;stroke:none;text-anchor:middle}.<%=id%> text.entity-text{text-decoration:underline}.<%=id%> text.anchor-start{text-anchor:start}.<%=id%> .arrow-marker{overflow:visible}.<%=id%> .arrow-style{stroke-width:1}.<%=id%> .arcrow, .<%=id%> .arcrowomit, .<%=id%> .emphasised{stroke-linecap:butt}.<%=id%> .arcrowomit{stroke-dasharray:2,2;}.<%=id%> .box, .<%=id%> .entity{fill:white;stroke-linejoin:round}.<%=id%> .inherit{stroke:inherit;color:inherit}.<%=id%> .inherit-fill{fill:inherit}.<%=id%> .watermark{stroke:black;color:black;fill:black;font-size:48pt;font-weight:bold;opacity:0.14}",namedStyles:[{name:"basic",description:"Basic",experimental:!1,renderMagic:"straight",cssBefore:"",cssAfter:""},{name:"lazy",description:"Lazy",experimental:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> text.entity-text{font-weight:bold;text-decoration:none;}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC}.<%=id%> rect.label-text-background{opacity:0.9}.<%=id%> line.comment,.<%=id%> rect.inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke:grey}"},{name:"classic",description:"Classic",experimental:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> text.entity-text{text-decoration:none}.<%=id%> .entity{stroke:none;}.<%=id%> line,.<%=id%> rect,.<%=id%> path{stroke-width:1px}.<%=id%> .arrow-style{stroke-width:2;}.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke-width: 1px}"},{name:"fountainpen",description:"Fountain pen",experimental:!0,renderMagic:"wobbly",cssBefore:"@import 'https://fonts.googleapis.com/css?family=Gochi+Hand';",cssAfter:"svg.<%=id%>{font-family:'Gochi Hand', cursive;font-size:14px;stroke-opacity:0.4;stroke-linecap:round;background-color:transparent}.<%=id%> text{fill:rgba(0,0,128,0.7)}.<%=id%> marker polygon{fill:rgba(0,0,255,0.4);stroke-linejoin:round}.<%=id%> line, .<%=id%> path, .<%=id%> rect, .<%=id%> polygon{stroke:blue !important}.<%=id%> text.entity-text{font-weight:bold;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC;}.<%=id%> .label-text-background{opacity:0}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke:black}"},{name:"cygne",description:"Cygne (best with msgenny)",experimental:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> line, .<%=id%> path{stroke:#00A1DE}.<%=id%> text{fill:#005B82}.<%=id%> .entity,.<%=id%> .box{fill:#00A1DE;stroke:#00A1DE}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#E77B2F;stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{name:"pegasse",description:"Pégase (best with msgenny)",experimental:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> line, .<%=id%> path{stroke:rgba(0, 43, 84, 1)}.<%=id%> text{fill:rgba(0, 43, 84, 1)}.<%=id%> .entity,.<%=id%> .box{fill:rgba(0, 43, 84, 1);stroke:rgba(0, 43, 84, 1)}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:rgba(255, 50, 0, 1);stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{name:"grayscaled",description:"Grayscaled (not in IE or Safari)",experimental:!0,renderMagic:"straight",cssBefore:"",cssAfter:"svg.<%=id%>{filter:grayscale(1);-webkit-filter:grayscale(1);}"},{name:"inverted",description:"Inverted (not in IE or Safari)",experimental:!0,renderMagic:"straight",cssBefore:"",cssAfter:"svg.<%=id%>{filter:invert(1);-webkit-filter:invert(1);}"}]}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(19),r(20),r(10),r(21)],o=function(t,e,r,n){"use strict";function o(t){"undefined"==typeof t.label&&(t.label=t.name)}function i(t){Boolean(t.label)&&(t.label=n.unescapeString(t.label)),Boolean(t.id)&&(t.id=n.unescapeString(t.id))}function a(t){t.label=Boolean(t.label)?t.label:""}function c(t){if(t.kind&&e.getNormalizedKind(t.kind)!==t.kind){t.kind=e.getNormalizedKind(t.kind);var r=t.from;t.from=t.to,t.to=r}return t}function u(t,e){!t.linecolor&&e.arclinecolor&&(t.linecolor=e.arclinecolor),!t.textcolor&&e.arctextcolor&&(t.textcolor=e.arctextcolor),!t.textbgcolor&&e.arctextbgcolor&&(t.textbgcolor=e.arctextbgcolor)}function s(t,e){if(t&&t.from){var r=e.filter(function(e){return e.name===t.from});r.length>0&&u(t,r[0])}}function l(t){return t.arcs.reduce(function(t,e){return t+(Boolean(e[0].arcs)?l(e[0])+1:0)},t.arcs.length)}function f(t,n,o,i){var a=[],c=[],s=[];return t.forEach(function(t){if("inline_expression"===e.getAggregate(t.kind)){if(t.depth=n,Boolean(t.arcs)){var a=r.cloneDeep(t);a.numberofrows=l(a),delete a.arcs,c.push(a),t.arcs.forEach(function(t){s=s.concat(f(t,n+1,a.from,a.to)),t.forEach(function(t){u(t,a)})}),n>g&&(g=n)}else c.push(t);s.push([{kind:"|||",from:t.from,to:t.to}])}else o&&i&&"emptyarc"===e.getAggregate(t.kind)&&(t.from=o,t.to=i,t.depth=n),c.push(t)}),a.push(c),a.concat(s)}function d(t){var e={};return g=0,Boolean(t.options)&&(e.options=r.cloneDeep(t.options)),Boolean(t.entities)&&(e.entities=r.cloneDeep(t.entities)),e.arcs=[],t&&t.arcs&&t.arcs.forEach(function(t){f(t,0).forEach(function(t){e.arcs.push(t)})}),e.depth=g+1,e}function h(t,e){return t.filter(function(t){return e.from!==t.name}).map(function(t){return e.to=t.name,r.cloneDeep(e)})}function p(t){if(t.entities&&t.arcs){var e=[],n={};t.arcs.forEach(function(o,i){o.filter(function(t){return"*"===t.to}).forEach(function(a,c){n=r.cloneDeep(a),delete t.arcs[i][c],e=h(t.entities,n),o[c]=e.shift(),t.arcs[i]=o.concat(e)})})}return t}var g=0;return{swapRTLArc:c,unwind:d,explodeBroadcasts:p,flatten:function(e){return t.transform(d(e),[o,i],[c,s,i,a])},dotFlatten:function(e){return p(t.transform(e,[o],[c,s]))}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";function t(t,e){t&&e&&t.forEach(function(t){e.forEach(function(e){e(t)})})}function e(t,e,r,n){n&&n.forEach(function(n){n(r,t,e)})}function r(t,r,o){r.forEach(function(i){e(t,r,i,o),i.arcs&&n(t,i.arcs,o)})}function n(t,e,n){t&&e&&n&&e.forEach(function(e){r(t,e,n)})}return{transform:function(e,r,o){return t(e.entities,r),n(e.entities,e.arcs,o),e}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";var t={"->":"rvee","<->":"rvee","=>":"normal","<=>":"normal","-x":"oinvonormal"},e={box:"box",abox:"hexagon",rbox:"box",note:"note"},r={">>":"dashed","<<>>":"dashed","..":"dashed",":>":"bold","<:>":"bold","::":"bold",rbox:"rounded"},n={"|||":"emptyarc","...":"emptyarc","---":"emptyarc","->":"directional","=>":"directional","=>>":"directional",">>":"directional",":>":"directional","-x":"directional","<-":"directional","<=":"directional","<<=":"directional","<<":"directional","<:":"directional","x-":"directional",note:"box",box:"box",abox:"box",rbox:"box","<->":"bidirectional","<=>":"bidirectional","<<=>>":"bidirectional","<<>>":"bidirectional","<:>":"bidirectional","--":"nondirectional","==":"nondirectional","..":"nondirectional","::":"nondirectional",alt:"inline_expression",else:"inline_expression",opt:"inline_expression",break:"inline_expression",par:"inline_expression",seq:"inline_expression",strict:"inline_expression",neg:"inline_expression",critical:"inline_expression",ignore:"inline_expression",consider:"inline_expression",assert:"inline_expression",loop:"inline_expression",ref:"inline_expression",exc:"inline_expression"},o={"<-":"->","<=":"=>","<<=":"=>>","<<":">>","<:":":>","x-":"-x"},i={"|||":"empty-row","...":"omitted-row","---":"comment-row","->":"signal","=>":"method","=>>":"callback",">>":"return",":>":"emphasised","-x":"lost","<-":"signal","<=":"method","<<=":"callback","<<":"return","<:":"emphasised","x-":"lost","<->":"signal","<=>":"method","<<=>>":"callback","<<>>":"return","<:>":"emphasised","--":"signal","==":"method","..":"return","::":"emphasised"},a={"|||":"empty","...":"empty","---":"empty","->":"directional","=>":"directional","=>>":"directional",">>":"directional",":>":"directional","-x":"directional","<-":"directional","<=":"directional","<<=":"directional","<<":"directional","<:":"directional","x-":"directional",note:"box",box:"box",abox:"box",rbox:"box","<->":"bidirectional","<=>":"bidirectional","<<=>>":"bidirectional","<<>>":"bidirectional","<:>":"bidirectional","--":"nondirectional","==":"nondirectional","..":"nondirectional","::":"nondirectional",alt:"inline_expression",else:"inline_expression",opt:"inline_expression",break:"inline_expression",par:"inline_expression",seq:"inline_expression",strict:"inline_expression",neg:"inline_expression",critical:"inline_expression",ignore:"inline_expression",consider:"inline_expression",assert:"inline_expression",loop:"inline_expression",ref:"inline_expression",exc:"inline_expression"};return{getArrow:function(e){return t[e]},getShape:function(t){return e[t]},getStyle:function(t){return r[t]},getAggregate:function(t){return n[t]},getClass:function(t){return i[t]||t},getAggregateClass:function(t){return a[t]||t},getNormalizedKind:function(t){return o[t]||t}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";return{wrap:function(t,e){for(var r=0,n=[],o=0,i=0,a=0,c=0,u=t.replace(/[\t\n]+/g," ").replace(/\\n/g,"\n");c<=u.length;)c>=u.length?n.push(u.substring(o,c)):"\n"===u[c]?(r=0,a=c,n.push(u.substring(o,a)),o=a+1):r++>=e&&(a=u.substring(0,c).lastIndexOf(" "),a===-1||a<o?(r=1,a=c,i=c):(r=0,i=a+1),n.push(u.substring(o,a)),o=i),c++;return n},unescapeString:function(t){return t.replace(/\\"/g,'"')},escapeString:function(t){return t.replace(/\\"/g,'"').replace(/"/g,'\\"')}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(10),r(20)],o=function(t,e){"use strict";function r(t,e,r){return e&&r&&["<->","->"].indexOf(t)>-1?e<r?"signal":"signal-u":""}function n(t,e,r){return"<->"===t&&e<=r?"signal-l":"signal-lu"}function o(t,e,o,i,a){var c=[];return s[e]&&s[e].attributes&&(c=s[e].attributes.map(function(c){return{name:c.name,value:c.value.replace(/\{\{signal-marker-end\}\}/g,r(e,i,a)).replace(/\{\{signal-marker-start\}\}/g,n(e,i,a)).replace(/\{\{id\}\}/g,t).replace(/\{\{color\}\}/g,o||"black")}})),c}function i(t,r){return s[e.getNormalizedKind(t)].marker.name+(Boolean(r)?" "+r:" black")}function a(t,r){function n(e){a(t,e)}return Array.isArray(r)&&r.forEach(n),r.arcs&&r.arcs.forEach(n),r.kind&&s[e.getNormalizedKind(r.kind)]&&s[e.getNormalizedKind(r.kind)].marker&&t.indexOf(i(r.kind,r.linecolor))<0&&t.push(i(r.kind,r.linecolor)),t}function c(t){return{kind:t.split(" ")[0],color:t.split(" ")[1]}}function u(t){return t.arcs.reduce(a,[]).sort().map(c)}var s={"->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"}],marker:{name:"signal"}},"<->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"},{name:"marker-start",value:"url(#{{id}}{{signal-marker-start}}-{{color}})"}],marker:{name:"signal"}},"=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},">>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},"..":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"--":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"==":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"::":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},":>":{attributes:[{name:"style",value:"stroke:{{color}};"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<:>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},"-x":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}lost-{{color}})"}],marker:{name:"lost",end:""}}},l={signal:{variants:[{name:"",path:"M9,3 l-8, 2"},{name:"-u",path:"M9,3 l-8,-2"},{name:"-l",path:"M9,3 l 8, 2"},{name:"-lu",path:"M9,3 l 8,-2"}]},method:{variants:[{name:"",path:"1,1  9,3  1,5"},{name:"-l",path:"17,1 9,3 17,5"}]},callback:{variants:[{name:"",path:"M 1,1 l 8,2 l-8,2"},{name:"-l",path:"M17,1 l-8,2 l 8,2"}]},lost:{variants:[{name:"",path:"M7,0 l5,6 M7,6 l5,-6"}]}};return{getAttributes:o,getMarkerDefs:function(e,r){return t.flatten(u(r).map(function(t){return l[t.kind].variants.map(function(r){return{name:e+t.kind+r.name+"-"+t.color,path:r.path,color:t.color,type:t.kind}})}))}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(24),r(5)],o=function(t,e){"use strict";function r(t){return c[t]}var n=160,o=100,i=34,a={interEntitySpacing:n,height:i,width:o},c={};return{init:function(t){a.interEntitySpacing=n,a.height=i,a.width=o,t&&(a.interEntitySpacing=t*n,a.width=t*o),c={}},getX:r,setX:function(t,e){c[t.name]=e+a.width/2},getOAndD:function(t,e){return{from:r(r(t)<r(e)?t:e),to:r(r(e)>r(t)?e:t)}},setHeight:function(t){a.height=t},getDims:function(){return a},getNoEntityLines:function(r){return t.splitLabel(r,"box",a.width,e.FONT_SIZE).length}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(8),r(6),r(5),r(21),r(20)],o=function(t,e,r,n,o){"use strict";function i(t,e){e&&t.setAttribute("style","fill:"+e+";")}function a(t,e,r){i(t,e&&!r?"blue":r)}function c(r,n){var o=t.createRect(e.getBBox(r),"label-text-background");return n&&o.setAttribute("style","fill:"+n+"; stroke:"+n+";"),o}function u(e,r,n,o,i,a){var c={};return c=0===e?t.createText(r,{x:n,y:o},{class:i,url:a.url,id:a.id,idurl:a.idurl}):t.createText(r,{x:n,y:o},{class:i,url:a.url})}function s(t,e,r){var n=e||t,i=o.getClass(n),a=o.getAggregateClass(n);return i===a?i+r:a+r+i+r}function l(t,n,o,c,l,f){var d=o+(l+.25)*e.calculateTextHeight(),h="";h=s(c.kind,f&&f.kind,"-text "),f&&(f.alignLeft&&(h+="anchor-start "),f.alignAround&&(d=o+(l+.25)*(e.calculateTextHeight()+r.LINE_WIDTH)));var p=u(l,t,n,d,h,c);return i(p,c.textcolor),a(p,c.url,c.textcolor),p}function f(n,o,i,a){var u=t.createGroup(a);if(n.label){var s=o.x+o.width/2,f=h(n.label,n.kind,o.width,r.FONT_SIZE,!!i&&i.wordWrapArcs),d={};i&&i.alignAbove&&f.forEach(function(){f.push("")});var p=o.y-(f.length-1)/2*(e.calculateTextHeight()+1);i&&i.alignAround&&(1===f.length&&f.push(""),p=o.y-(f.length-1)/2*(e.calculateTextHeight()+r.LINE_WIDTH+1)),f.forEach(function(t,e){""!==t&&(d=l(t,s,p,n,e,i),i&&i.ownBackground&&u.appendChild(c(d,n.textbgcolor)),u.appendChild(d)),p++})}return u}function d(t,e){var r=Math.abs(t),n=12;return r<=160?r/(e/n*8):r<=320?r/(e/n*6.4):r<=480?r/(e/n*5.9):r/(e/n*5.6)}function h(t,e,r,i,a){return"box"===o.getAggregate(e)||"undefined"==typeof e||a?n.wrap(t,d(r,i)):t.split("\\n")}return{createLabel:f,splitLabel:h}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";function t(t){return e[t]?e[t]:{y:r+1.5*n+t*n,height:n}}var e=[],r=0,n=0;return{clear:function(t,o){e=[],r=t,n=o},get:t,getLast:function(){return t(e.length-1)},set:function(r,n){var o=t(r-1);e[r]={y:o.y+(o.height+n)/2,height:n}}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";function t(t,e,r){return t.pathname+"?lang="+r+"&msc="+encodeURIComponent(e)}function e(e,n,o){return t(e,n,o).length<r}var r=4094;return{toLocationString:function(r,n,o){var i="# source too long for an URL";return e(r,n,o)&&(i=n),t(r,i,o)}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";function t(t,e){Object.getOwnPropertyNames(e).forEach(function(r){t[r]=e[r]})}var e={defaultLanguage:"mscgen",parentElementPrefix:"mscgen_js-parent_",clickable:!1,clickURL:"https://sverweij.github.io/mscgen_js/",loadFromSrcAttribute:!1};return{getConfig:function(){return"undefined"!=typeof mscgen_js_config&&mscgen_js_config&&"object"==typeof mscgen_js_config&&t(e,mscgen_js_config),e}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[r(29)],o=function(t){"use strict";function e(t,e){for(var r=t.toString(),n=e-r.length,o=0;o<n;o++)r=" "+r;return r}function r(t,r){return e(r,3)+" "+t}function n(e,r){return e.split("").reduce(function(e,n,i){return i===r?e+t.applyTemplate(u,{char:o(n)}):e+o(n)},"")}function o(t){return t.replace(/</g,"&lt;")}var i="<pre><div style='color: #d00'># ERROR on line {line}, column {col} - {message}</div>",a="<pre><div style='color: #d00'># ERROR {message}</div>",c="<mark>{line}\n</mark>",u="<span style='text-decoration:underline'>{char}</span>";return{formatNumber:e,deHTMLize:o,renderError:function(e,u,s){var l=Boolean(u)?t.applyTemplate(i,{message:s,line:u.start.line,col:u.start.column}):t.applyTemplate(a,{message:s});return e.split("\n").reduce(function(e,i,a){return u&&a===u.start.line-1?e+t.applyTemplate(c,{line:r(n(i,u.start.column-1),a+1)}):e+o(r(i,a+1))+"\n"},l)+"</pre>"}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";return{applyTemplate:function(t,e){var r=t;return e&&Object.keys(e).forEach(function(t){r=r.replace(new RegExp("{"+t+"}","g"),e[t])}),r}}}.apply(e,n),!(void 0!==o&&(t.exports=o))},function(t,e,r){var n,o;n=[],o=function(){"use strict";return{ajax:function(t,e,r){var n=new XMLHttpRequest;n.onreadystatechange=function(t){t.target.readyState===XMLHttpRequest.DONE&&(200===n.status?e(t):r(t))},n.open("GET",t),n.responseType="text";try{n.send()}catch(t){r(t)}}}}.apply(e,n),!(void 0!==o&&(t.exports=o))}]);