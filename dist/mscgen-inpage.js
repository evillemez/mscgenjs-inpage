!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=36)}([function(t,e,r){(function(t,n){var o;(function(){function i(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function c(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function u(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}function s(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}function l(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}function f(t,e,r,n){var o=-1,i=null==t?0:t.length;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}function d(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function h(t,e){return null==t?Zt:t[e]}function p(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function g(t,e){return function(r){return t(e(r))}}function m(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function b(){}function x(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function y(){this.__data__=kr?kr(null):{},this.size=0}function v(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function w(t){var e=this.__data__;if(kr){var r=e[t];return r===Qt?Zt:r}return Qe.call(e,t)?e[t]:Zt}function C(t){var e=this.__data__;return kr?e[t]!==Zt:Qe.call(e,t)}function A(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=kr&&e===Zt?Qt:e,this}function k(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function _(){this.__data__=[],this.size=0}function T(t){var e=this.__data__,r=X(e,t);return!(r<0)&&(r==e.length-1?e.pop():lr.call(e,r,1),--this.size,!0)}function L(t){var e=this.__data__,r=X(e,t);return r<0?Zt:e[r][1]}function S(t){return X(this.__data__,t)>-1}function E(t,e){var r=this.__data__,n=X(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function P(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function F(){this.size=0,this.__data__={hash:new x,map:new(vr||k),string:new x}}function B(t){var e=yt(this,t).delete(t);return this.size-=e?1:0,e}function D(t){return yt(this,t).get(t)}function I(t){return yt(this,t).has(t)}function j(t,e){var r=yt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function M(t){var e=this.__data__=new k(t);this.size=e.size}function N(){this.__data__=new k,this.size=0}function O(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function H(t){return this.__data__.get(t)}function W(t){return this.__data__.has(t)}function R(t,e){var r=this.__data__;if(r instanceof k){var n=r.__data__;if(!vr||n.length<$t-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new P(n)}return r.set(t,e),this.size=r.size,this}function z(t,e){var r=Hr(t),n=!r&&Or(t),o=!r&&!n&&Wr(t),i=!r&&!n&&!o&&Rr(t),a=r||n||o||i,c=a?d(t.length,String):[],u=c.length;for(var s in t)!e&&!Qe.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Tt(s,u))||c.push(s);return c}function G(t,e,r){var n=t[e];Qe.call(t,e)&&Ot(n,r)&&(r!==Zt||e in t)||q(t,e,r)}function X(t,e){for(var r=t.length;r--;)if(Ot(t[r][0],e))return r;return-1}function U(t,e){return t&&ht(e,Xt(e),t)}function V(t,e){return t&&ht(e,Ut(e),t)}function q(t,e,r){"__proto__"==e&&hr?hr(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function K(t,e,r,n,o,i){var a,c=e&te,s=e&ee,l=e&re;if(r&&(a=o?r(t,n,o,i):r(t)),a!==Zt)return a;if(!zt(t))return t;var f=Hr(t);if(f){if(a=Ct(t),!c)return dt(t,a)}else{var d=Mr(t),h=d==le||d==fe;if(Wr(t))return ot(t,c);if(d==ge||d==ae||h&&!o){if(a=s||h?{}:At(t),!c)return s?gt(t,V(a,t)):pt(t,U(a,t))}else{if(!Oe[d])return o?t:{};a=kt(t,d,K,c)}}i||(i=new M);var p=i.get(t);if(p)return p;i.set(t,a);var g=l?s?xt:bt:s?Ut:Xt,m=f?Zt:g(t);return u(m||t,function(n,o){m&&(o=n,n=t[o]),G(a,o,K(n,e,r,o,t,i))}),a}function Y(t,e,r,n,o){var i=-1,a=t.length;for(r||(r=_t),o||(o=[]);++i<a;){var c=t[i];e>0&&r(c)?e>1?Y(c,e-1,r,n,o):l(o,c):n||(o[o.length]=c)}return o}function Z(t,e,r){var n=e(t);return Hr(t)?n:l(n,r(t))}function $(t){return null==t?t===Zt?we:pe:dr&&dr in Object(t)?wt(t):Bt(t)}function J(t){return Gt(t)&&$(t)==ae}function Q(t){return!(!zt(t)||Et(t))&&(Wt(t)?rr:je).test(It(t))}function tt(t){return Gt(t)&&Rt(t.length)&&!!Ne[$(t)]}function et(t){if(!Pt(t))return mr(t);var e=[];for(var r in Object(t))Qe.call(t,r)&&"constructor"!=r&&e.push(r);return e}function rt(t){if(!zt(t))return Ft(t);var e=Pt(t),r=[];for(var n in t)("constructor"!=n||!e&&Qe.call(t,n))&&r.push(n);return r}function nt(t,e){return Nr(Dt(t,e,qt),t+"")}function ot(t,e){if(e)return t.slice();var r=t.length,n=ar?ar(r):new t.constructor(r);return t.copy(n),n}function it(t){var e=new t.constructor(t.byteLength);return new ir(e).set(new ir(t)),e}function at(t,e){var r=e?it(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function ct(t,e,r){return f(e?r(p(t),te):p(t),i,new t.constructor)}function ut(t){var e=new t.constructor(t.source,Ie.exec(t));return e.lastIndex=t.lastIndex,e}function st(t,e,r){return f(e?r(m(t),te):m(t),a,new t.constructor)}function lt(t){return Fr?Object(Fr.call(t)):{}}function ft(t,e){var r=e?it(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function dt(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function ht(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var c=e[i],u=n?n(r[c],t[c],c,r,t):Zt;u===Zt&&(u=t[c]),o?q(r,c,u):G(r,c,u)}return r}function pt(t,e){return ht(t,Ir(t),e)}function gt(t,e){return ht(t,jr(t),e)}function mt(t,e,r,n){return t===Zt||Ot(t,Ze[r])&&!Qe.call(n,r)?e:t}function bt(t){return Z(t,Xt,Ir)}function xt(t){return Z(t,Ut,jr)}function yt(t,e){var r=t.__data__;return St(e)?r["string"==typeof e?"string":"hash"]:r.map}function vt(t,e){var r=h(t,e);return Q(r)?r:Zt}function wt(t){var e=Qe.call(t,dr),r=t[dr];try{t[dr]=Zt}catch(t){}var n=er.call(t);return e?t[dr]=r:delete t[dr],n}function Ct(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&Qe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function At(t){return"function"!=typeof t.constructor||Pt(t)?{}:Br(cr(t))}function kt(t,e,r,n){var o=t.constructor;switch(e){case Ae:return it(t);case ue:case se:return new o(+t);case ke:return at(t,n);case _e:case Te:case Le:case Se:case Ee:case Pe:case Fe:case Be:case De:return ft(t,n);case de:return ct(t,n,r);case he:case ye:return new o(t);case be:return ut(t);case xe:return st(t,n,r);case ve:return lt(t)}}function _t(t){return Hr(t)||Or(t)||!!(fr&&t&&t[fr])}function Tt(t,e){return!!(e=null==e?ie:e)&&("number"==typeof t||Me.test(t))&&t>-1&&t%1==0&&t<e}function Lt(t,e,r){if(!zt(r))return!1;var n=typeof e;return!!("number"==n?Ht(r)&&Tt(e,r.length):"string"==n&&e in r)&&Ot(r[e],t)}function St(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Et(t){return!!tr&&tr in t}function Pt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ze)}function Ft(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}function Bt(t){return er.call(t)}function Dt(t,e,r){return e=br(e===Zt?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=br(n.length-e,0),a=Array(i);++o<i;)a[o]=n[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=n[o];return u[e]=r(a),c(t,this,u)}}function It(t){if(null!=t){try{return Je.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function jt(t){return(null==t?0:t.length)?Y(t,1):[]}function Mt(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Jt);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(Mt.Cache||P),r}function Nt(t){return K(t,te|re)}function Ot(t,e){return t===e||t!==t&&e!==e}function Ht(t){return null!=t&&Rt(t.length)&&!Wt(t)}function Wt(t){if(!zt(t))return!1;var e=$(t);return e==le||e==fe||e==ce||e==me}function Rt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=ie}function zt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Gt(t){return null!=t&&"object"==typeof t}function Xt(t){return Ht(t)?z(t):et(t)}function Ut(t){return Ht(t)?z(t,!0):rt(t)}function Vt(t){return function(){return t}}function qt(t){return t}function Kt(){return[]}function Yt(){return!1}var Zt,$t=200,Jt="Expected a function",Qt="__lodash_hash_undefined__",te=1,ee=2,re=4,ne=800,oe=16,ie=9007199254740991,ae="[object Arguments]",ce="[object AsyncFunction]",ue="[object Boolean]",se="[object Date]",le="[object Function]",fe="[object GeneratorFunction]",de="[object Map]",he="[object Number]",pe="[object Null]",ge="[object Object]",me="[object Proxy]",be="[object RegExp]",xe="[object Set]",ye="[object String]",ve="[object Symbol]",we="[object Undefined]",Ce="[object WeakMap]",Ae="[object ArrayBuffer]",ke="[object DataView]",_e="[object Float32Array]",Te="[object Float64Array]",Le="[object Int8Array]",Se="[object Int16Array]",Ee="[object Int32Array]",Pe="[object Uint8Array]",Fe="[object Uint8ClampedArray]",Be="[object Uint16Array]",De="[object Uint32Array]",Ie=/\w*$/,je=/^\[object .+?Constructor\]$/,Me=/^(?:0|[1-9]\d*)$/,Ne={};Ne[_e]=Ne[Te]=Ne[Le]=Ne[Se]=Ne[Ee]=Ne[Pe]=Ne[Fe]=Ne[Be]=Ne[De]=!0,Ne[ae]=Ne["[object Array]"]=Ne[Ae]=Ne[ue]=Ne[ke]=Ne[se]=Ne["[object Error]"]=Ne[le]=Ne[de]=Ne[he]=Ne[ge]=Ne[be]=Ne[xe]=Ne[ye]=Ne[Ce]=!1;var Oe={};Oe[ae]=Oe["[object Array]"]=Oe[Ae]=Oe[ke]=Oe[ue]=Oe[se]=Oe[_e]=Oe[Te]=Oe[Le]=Oe[Se]=Oe[Ee]=Oe[de]=Oe[he]=Oe[ge]=Oe[be]=Oe[xe]=Oe[ye]=Oe[ve]=Oe[Pe]=Oe[Fe]=Oe[Be]=Oe[De]=!0,Oe["[object Error]"]=Oe[le]=Oe[Ce]=!1;var He="object"==typeof t&&t&&t.Object===Object&&t,We="object"==typeof self&&self&&self.Object===Object&&self,Re=He||We||Function("return this")(),ze="object"==typeof e&&e&&!e.nodeType&&e,Ge=ze&&"object"==typeof n&&n&&!n.nodeType&&n,Xe=Ge&&Ge.exports===ze,Ue=Xe&&He.process,Ve=function(){try{return Ue&&Ue.binding&&Ue.binding("util")}catch(t){}}(),qe=Ve&&Ve.isTypedArray,Ke=Array.prototype,Ye=Function.prototype,Ze=Object.prototype,$e=Re["__core-js_shared__"],Je=Ye.toString,Qe=Ze.hasOwnProperty,tr=function(){var t=/[^.]+$/.exec($e&&$e.keys&&$e.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),er=Ze.toString,rr=RegExp("^"+Je.call(Qe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nr=Xe?Re.Buffer:Zt,or=Re.Symbol,ir=Re.Uint8Array,ar=nr?nr.allocUnsafe:Zt,cr=g(Object.getPrototypeOf,Object),ur=Object.create,sr=Ze.propertyIsEnumerable,lr=Ke.splice,fr=or?or.isConcatSpreadable:Zt,dr=or?or.toStringTag:Zt,hr=function(){try{var t=vt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),pr=Object.getOwnPropertySymbols,gr=nr?nr.isBuffer:Zt,mr=g(Object.keys,Object),br=Math.max,xr=Date.now,yr=vt(Re,"DataView"),vr=vt(Re,"Map"),wr=vt(Re,"Promise"),Cr=vt(Re,"Set"),Ar=vt(Re,"WeakMap"),kr=vt(Object,"create"),_r=It(yr),Tr=It(vr),Lr=It(wr),Sr=It(Cr),Er=It(Ar),Pr=or?or.prototype:Zt,Fr=Pr?Pr.valueOf:Zt,Br=function(){function t(){}return function(e){if(!zt(e))return{};if(ur)return ur(e);t.prototype=e;var r=new t;return t.prototype=Zt,r}}();x.prototype.clear=y,x.prototype.delete=v,x.prototype.get=w,x.prototype.has=C,x.prototype.set=A,k.prototype.clear=_,k.prototype.delete=T,k.prototype.get=L,k.prototype.has=S,k.prototype.set=E,P.prototype.clear=F,P.prototype.delete=B,P.prototype.get=D,P.prototype.has=I,P.prototype.set=j,M.prototype.clear=N,M.prototype.delete=O,M.prototype.get=H,M.prototype.has=W,M.prototype.set=R;var Dr=hr?function(t,e){return hr(t,"toString",{configurable:!0,enumerable:!1,value:Vt(e),writable:!0})}:qt,Ir=pr?function(t){return null==t?[]:(t=Object(t),s(pr(t),function(e){return sr.call(t,e)}))}:Kt,jr=pr?function(t){for(var e=[];t;)l(e,Ir(t)),t=cr(t);return e}:Kt,Mr=$;(yr&&Mr(new yr(new ArrayBuffer(1)))!=ke||vr&&Mr(new vr)!=de||wr&&"[object Promise]"!=Mr(wr.resolve())||Cr&&Mr(new Cr)!=xe||Ar&&Mr(new Ar)!=Ce)&&(Mr=function(t){var e=$(t),r=e==ge?t.constructor:Zt,n=r?It(r):"";if(n)switch(n){case _r:return ke;case Tr:return de;case Lr:return"[object Promise]";case Sr:return xe;case Er:return Ce}return e});var Nr=function(t){var e=0,r=0;return function(){var n=xr(),o=oe-(n-r);if(r=n,o>0){if(++e>=ne)return arguments[0]}else e=0;return t.apply(Zt,arguments)}}(Dr);Mt.Cache=P;var Or=J(function(){return arguments}())?J:function(t){return Gt(t)&&Qe.call(t,"callee")&&!sr.call(t,"callee")},Hr=Array.isArray,Wr=gr||Yt,Rr=qe?function(t){return function(e){return t(e)}}(qe):tt,zr=function(t){return nt(function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:Zt,a=o>2?r[2]:Zt;for(i=t.length>3&&"function"==typeof i?(o--,i):Zt,a&&Lt(r[0],r[1],a)&&(i=o<3?Zt:i,o=1),e=Object(e);++n<o;){var c=r[n];c&&t(e,c,n,i)}return e})}(function(t,e,r,n){ht(e,Ut(e),t,n)}),Gr=nt(function(t){return t.push(Zt,mt),c(zr,Zt,t)});b.assignInWith=zr,b.constant=Vt,b.defaults=Gr,b.flatten=jt,b.keys=Xt,b.keysIn=Ut,b.memoize=Mt,b.extendWith=zr,b.cloneDeep=Nt,b.eq=Ot,b.identity=qt,b.isArguments=Or,b.isArray=Hr,b.isArrayLike=Ht,b.isBuffer=Wr,b.isFunction=Wt,b.isLength=Rt,b.isObject=zt,b.isObjectLike=Gt,b.isTypedArray=Rr,b.stubArray=Kt,b.stubFalse=Yt,b.VERSION="4.17.4",Re._=b,(o=function(){return b}.call(e,r,e,n))!==Zt&&(n.exports=o)}).call(this)}).call(e,r(19),r(20)(t))},function(t,e,r){var n;void 0!==(n=function(t){"use strict";function e(t){return Boolean(t)?"wobbly"===t?o:n:a}var n=r(32),o=r(33),i=r(0),a=n,c={};return{init:function(t,e){a.init(t),c=i.defaults(e,{LINE_WIDTH:2,FONT_SIZE:12})},createSVG:function(t,r,n){return a=e(n),a.createSVG(t,r)},updateSVG:a.updateSVG,createTitle:a.createTitle,createDesc:a.createDesc,createDefs:a.createDefs,createTSpan:a.createTSpan,createRect:function(t,e,r,n){return a.createRect(t,{class:e,color:r,bgColor:n})},createRBox:function(t,e,r,n){return a.createRBox(t,{class:e,color:r,bgColor:n})},createABox:function(t,e,r,n){return a.createABox(t,{class:e,color:r,bgColor:n})},createNote:function(t,e,r,n){return a.createNote(t,{class:e,color:r,bgColor:n,lineWidth:c.LINE_WIDTH})},createEdgeRemark:function(t,e,r,n,o){return a.createEdgeRemark(t,{class:e,color:r,bgColor:n,foldSize:o,lineWidth:c.LINE_WIDTH})},createText:a.createText,createDiagonalText:a.createDiagonalText,createLine:function(t,e){return Boolean(e)&&Boolean(e.doubleLine)?(e.lineWidth||(e.lineWidth=c.LINE_WIDTH),a.createDoubleLine(t,e)):a.createSingleLine(t,e)},createUTurn:function(t,e,r,n,o,i){return a.createUTurn(t,e,r,n,{dontHitHome:o,lineWidth:c.LINE_WIDTH},i)},createGroup:a.createGroup,createUse:a.createUse,createMarkerPath:a.createMarkerPath,createMarkerPolygon:a.createMarkerPolygon}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(){"use strict";var t={"|||":"emptyarc","...":"emptyarc","---":"emptyarc","->":"directional","=>":"directional","=>>":"directional",">>":"directional",":>":"directional","-x":"directional","<-":"directional","<=":"directional","<<=":"directional","<<":"directional","<:":"directional","x-":"directional",note:"box",box:"box",abox:"box",rbox:"box","<->":"bidirectional","<=>":"bidirectional","<<=>>":"bidirectional","<<>>":"bidirectional","<:>":"bidirectional","--":"nondirectional","==":"nondirectional","..":"nondirectional","::":"nondirectional",alt:"inline_expression",else:"inline_expression",opt:"inline_expression",break:"inline_expression",par:"inline_expression",seq:"inline_expression",strict:"inline_expression",neg:"inline_expression",critical:"inline_expression",ignore:"inline_expression",consider:"inline_expression",assert:"inline_expression",loop:"inline_expression",ref:"inline_expression",exc:"inline_expression"};return{getAggregate:function(e){return t[e]}}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(){"use strict";return{LINE_WIDTH:2,FONT_SIZE:12}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n,o;n=[],void 0!==(o=function(){"use strict";return{applyTemplate:function(t,e){var r=t;return e&&Object.keys(e).forEach(function(t){r=r.replace(new RegExp("{"+t+"}","g"),e[t])}),r}}}.apply(e,n))&&(t.exports=o)},function(t,e,r){var n;void 0!==(n=function(){"use strict";var t={"<-":"->","<=":"=>","<<=":"=>>","<<":">>","<:":":>","x-":"-x"};return{getNormalizedKind:function(e){return t[e]||e}}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(){"use strict";var t="mscgen_js-svg-";return{setPrefix:function(e){t="mscgen_js-svg-"+e},get:function(e){return t+(e||"")}}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(){"use strict";var t={"|||":"empty-row","...":"omitted-row","---":"comment-row","->":"signal","=>":"method","=>>":"callback",">>":"return",":>":"emphasised","-x":"lost","<-":"signal","<=":"method","<<=":"callback","<<":"return","<:":"emphasised","x-":"lost","<->":"signal","<=>":"method","<<=>>":"callback","<<>>":"return","<:>":"emphasised","--":"signal","==":"method","..":"return","::":"emphasised"},e={"|||":"empty","...":"empty","---":"empty","->":"directional","=>":"directional","=>>":"directional",">>":"directional",":>":"directional","-x":"directional","<-":"directional","<=":"directional","<<=":"directional","<<":"directional","<:":"directional","x-":"directional",note:"box",box:"box",abox:"box",rbox:"box","<->":"bidirectional","<=>":"bidirectional","<<=>>":"bidirectional","<<>>":"bidirectional","<:>":"bidirectional","--":"nondirectional","==":"nondirectional","..":"nondirectional","::":"nondirectional",alt:"inline_expression",else:"inline_expression",opt:"inline_expression",break:"inline_expression",par:"inline_expression",seq:"inline_expression",strict:"inline_expression",neg:"inline_expression",critical:"inline_expression",ignore:"inline_expression",consider:"inline_expression",assert:"inline_expression",loop:"inline_expression",ref:"inline_expression",exc:"inline_expression"};return{getClass:function(e){return t[e]||e},getAggregateClass:function(t){return e[t]||t}}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(t){"use strict";function e(t,e){e&&t.setAttribute("style","fill:"+e+";")}function n(t,r,n){e(t,r&&!n?"blue":n)}function o(t,e){var r=f.createRect(d.getBBox(t),"label-text-background");return e&&r.setAttribute("style","fill:"+e+"; stroke:"+e+";"),r}function i(t,e,r,n,o,i){return 0===t?f.createText(e,{x:r,y:n},{class:o,url:i.url,id:i.id,idurl:i.idurl}):f.createText(e,{x:r,y:n},{class:o,url:i.url})}function a(t,e,r){var n=e||t,o=g.getClass(n),i=g.getAggregateClass(n);return o===i?o+r:i+r+o+r}function c(t,r,o,c,u,s){var l=o+(u+.25)*d.calculateTextHeight(),f=a(c.kind,s&&s.kind,"-text ");s&&(s.alignLeft&&(f+="anchor-start "),s.alignAround&&(l=o+(u+.25)*(d.calculateTextHeight()+h.LINE_WIDTH)));var p=i(u,t,r,l,f,c);return e(p,c.textcolor),n(p,c.url,c.textcolor),p}function u(t,e,r,n){var i=f.createGroup(n);if(t.label){var a=e.x+e.width/2,u=l(t.label,t.kind,e.width,h.FONT_SIZE,!!r&&r.wordWrapArcs),s={};r&&r.alignAbove&&u.forEach(function(){u.push("")});var p=e.y-(u.length-1)/2*(d.calculateTextHeight()+1);r&&r.alignAround&&(1===u.length&&u.push(""),p=e.y-(u.length-1)/2*(d.calculateTextHeight()+h.LINE_WIDTH+1)),u.forEach(function(e,n){""!==e&&(s=c(e,a,p,t,n,r),r&&r.ownBackground&&i.appendChild(o(s,t.textbgcolor)),i.appendChild(s)),p++})}return i}function s(t,e){var r=Math.abs(t);return r<=160?r/(e/12*8):r<=320?r/(e/12*6.4):r<=480?r/(e/12*5.9):r/(e/12*5.6)}function l(t,e,r,n,o){return"box"===m.getAggregate(e)||void 0===e||o?p.wrap(t,s(r,n)):t.split("\\n")}var f=r(1),d=r(11),h=r(3),p=r(35),g=r(7),m=r(2);return{createLabel:u,splitLabel:l}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(t){function e(t,e){return h(t,p).toString()+","+h(e,p).toString()+" "}function n(t,r,n){return t+e(r,n)}function o(t,e,r,n){return l.createElement("marker",{orient:r,id:t,class:e,viewBox:Boolean(n)?n:"0 0 10 10",refX:"9",refY:"3",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10"})}function i(t,e){var r=l.createElement("a");return l.setAttributesNS(r,l.XLINKNS,{"xlink:href":t,"xlink:title":t}),r.appendChild(e),r}function a(t,e){var r=l.createElement("tspan"),n=l.createTextNode(t);return r.appendChild(n),e?i(e,r):r}function c(t,e,r){var n=d.defaults(r,{class:null,url:null,id:null,idurl:null}),o=l.createElement("text",{x:h(e.x,p).toString(),y:h(e.y,p).toString(),class:n.class});if(o.appendChild(a(t,n.url)),n.id){var i=a(" ["+n.id+"]",n.idurl);i.setAttribute("style",g),o.appendChild(i)}return o}function u(t,e){var r=d.defaults(e,{class:null,style:null,color:null,bgColor:null});return s(l.createElement("path",{d:t,class:r.class,style:r.style}),r.color,r.bgColor)}function s(t,e,r){var n="";return r&&(n+="fill:"+r+";"),e&&(n+="stroke:"+e+";"),l.setAttribute(t,"style",n)}var l=r(29),f=r(30),d=r(0),h=r(31),p=2,g="vertical-align:text-top;";return g+="font-size:0.7em;text-anchor:start;",{init:function(t){l.init(t)},createSVG:function(t,e){return l.createElement("svg",{version:"1.1",id:t,class:e,xmlns:l.SVGNS,"xmlns:xlink":l.XLINKNS,width:"0",height:"0"})},updateSVG:function(t,e){l.setAttributes(t,e)},colorBox:s,createDesc:function(){return l.createElement("desc")},createDefs:function(){return l.createElement("defs")},createTSpan:a,createText:c,createDiagonalText:function(t,e,r){return l.setAttributes(c(t,{x:e.width/2,y:e.height/2},{class:r}),{transform:"rotate("+h(f.getDiagonalAngle(e),p).toString()+" "+h(e.width/2,p).toString()+" "+h(e.height/2,p).toString()+")"})},createSingleLine:function(t,e){return l.createElement("line",{x1:h(t.xFrom,p).toString(),y1:h(t.yFrom,p).toString(),x2:h(t.xTo,p).toString(),y2:h(t.yTo,p).toString(),class:e?e.class:null})},createRect:function(t,e){var r=d.defaults(e,{class:null,color:null,bgColor:null,rx:null,ry:null});return s(l.createElement("rect",{width:h(t.width,p),height:h(t.height,p),x:h(t.x,p),y:h(t.y,p),rx:h(r.rx,p),ry:h(r.ry,p),class:r.class}),r.color,r.bgColor)},createUTurn:function(t,r,o,i,a,c){var s=d.defaults(a,{dontHitHome:!1,lineWidth:1}),l=s.dontHitHome?t.x+7.5*a.lineWidth:t.x;return u(n("M",t.x,t.y-c/2)+n("C",t.x+o,t.y-7.5*a.lineWidth/2)+e(t.x+o,r+0)+e(l,r),{class:i})},createGroup:function(t,e){return l.createElement("g",{id:t,class:e})},createUse:function(t,e){var r=l.createElement("use",{x:h(t.x,p).toString(),y:h(t.y,p).toString()});return r.setAttributeNS(l.XLINKNS,"xlink:href","#"+e),r},createPath:u,createMarkerPath:function(t,e,r){var n=o(t,"arrow-marker","auto");return n.appendChild(u(e,{class:"arrow-style",style:"stroke-dasharray:100,1;stroke:"+r||"black"})),n},createMarkerPolygon:function(t,e,r){var n=o(t,"arrow-marker","auto");return n.appendChild(l.createElement("polygon",{points:e,class:"arrow-style",stroke:r||"black",fill:r||"black"})),n},createTitle:function(t){var e=l.createElement("title"),r=l.createTextNode(t);return e.appendChild(r),e},point2String:e,pathPoint2String:n}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(){"use strict";function t(t,e,r){var n=0;return e.indexOf("nodi")<0&&e.indexOf("bidi")>-1&&(n=t.xTo>t.xFrom?7.5*r:-7.5*r),n}function e(t,e,r){var n=0;return e.indexOf("nodi")<0&&(n=t.xTo>t.xFrom?-7.5*r:7.5*r),n}function r(t){var e=Math.abs(t.xTo-t.xFrom),r=Math.abs(t.yTo-t.yFrom);return Math.sqrt(e*e+r*r)}function n(t,e){var n=r(t);return n>0?Math.floor(n/e):0}function o(t){var e=t.xTo>t.xFrom?1:-1;return{signX:e,signY:t.yTo>t.yFrom?1:-1,dy:e*(t.yTo-t.yFrom)/(t.xTo-t.xFrom)}}function i(t){return Math.round(2*Math.random()*t)-t}function a(t){return Math.round(100*t)/100}function c(t,e,c){if(e<=0)throw new Error("pInterval must be > 0");e=Math.min(r(t),e);for(var u=[],s=n(t,e),l=o(t),f=l.signX*Math.sqrt(Math.pow(e,2)/(1+Math.pow(l.dy,2))),d=l.signY*(Math.abs(l.dy)===1/0?e:Math.sqrt(Math.pow(l.dy,2)*Math.pow(e,2)/(1+Math.pow(l.dy,2)))),h={},p=1;p<=s;p++)h={controlX:a(t.xFrom+(p-.5)*f+i(c)),controlY:a(t.yFrom+(p-.5)*d+i(c)),x:a(t.xFrom+p*f),y:a(t.yFrom+p*d)},e>r({xFrom:h.x,yFrom:h.y,xTo:t.xTo,yTo:t.yTo})&&(h.x=t.xTo,h.y=t.yTo),u.push(h);return u}return{round:a,determineStartCorrection:t,determineEndCorrection:e,getDirection:o,getLineLength:r,getNumberOfSegments:n,getBetweenPoints:c}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(t){"use strict";function e(t){var e=s.createSVG(t,u.get());return f.body.appendChild(e),e}function n(t){var r=f.getElementById(d);r=r?r:e(d),r.appendChild(t);var n=t.getBBox();return r.removeChild(t),n}function o(t){return Math.abs(t.height)>1e5||Math.abs(t.width)>1e5?{height:0,width:0,x:0,y:0}:t}function i(t){return"function"==typeof t.getBBox?o(n(t)):{height:15,width:15,x:2,y:2}}function a(){return i(s.createText("ÁjyÎ9ƒ@💩",{x:0,y:0})).height}function c(t){u.setPrefix(t);var e=f.getElementById(u.get());if(Boolean(e)){var r=f.getElementById(t);r?r.removeChild(e):f.body.removeChild(e)}}var u=r(6),s=r(1),l=r(0),f={},d=u.get("bboxer");return{init:function(t){f=t},removeRenderedSVGFromElement:c,getBBox:i,calculateTextHeight:l.memoize(a),webkitNamespaceBugWorkaround:function(t){return t.replace(/ xlink=/g," xmlns:xlink=","g").replace(/ href=/g," xlink:href=","g")}}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n,o;n=[],void 0!==(o=function(){"use strict";function t(t,e){Object.getOwnPropertyNames(e).forEach(function(r){t[r]=e[r]})}var e={defaultLanguage:"mscgen",parentElementPrefix:"mscgen_js-parent_",clickable:!1,clickURL:"https://sverweij.github.io/mscgen_js/",loadFromSrcAttribute:!1};return{getConfig:function(){return"undefined"!=typeof mscgen_js_config&&mscgen_js_config&&"object"==typeof mscgen_js_config&&t(e,mscgen_js_config),e}}}.apply(e,n))&&(t.exports=o)},function(t,e,r){var n,o;n=[r(4)],void 0!==(o=function(t){"use strict";function e(t,e){for(var r=t.toString(),n=e-r.length,o=0;o<n;o++)r=" "+r;return r}function r(t,r){return e(r,3)+" "+t}function n(e,r){return e.split("").reduce(function(e,n,a){return a===r?e+t.applyTemplate(i,{char:o(n)}):e+o(n)},"")}function o(t){return t.replace(/</g,"&lt;")}var i="<span style='text-decoration:underline'>{char}</span>";return{formatNumber:e,deHTMLize:o,renderError:function(e,i,a){var c=Boolean(i)?t.applyTemplate("<pre><div style='color: #d00'># ERROR on line {line}, column {col} - {message}</div>",{message:a,line:i.start.line,col:i.start.column}):t.applyTemplate("<pre><div style='color: #d00'># ERROR {message}</div>",{message:a});return e.split("\n").reduce(function(e,a,c){return i&&c===i.start.line-1?e+t.applyTemplate("<mark>{line}\n</mark>",{line:r(n(a,i.start.column-1),c+1)}):e+o(r(a,c+1))+"\n"},c)+"</pre>"}}}.apply(e,n))&&(t.exports=o)},function(t,e,r){var n,o,i;!function(r,a){o=[],n=a,void 0!==(i="function"==typeof n?n.apply(e,o):n)&&(t.exports=i)}(0,function(){"use strict";function t(e,r,n,o){this.message=e,this.expected=r,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}function e(e,r){function n(t,e){return{type:"literal",text:t,ignoreCase:e}}function o(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function i(t){return{type:"other",description:t}}function a(t){var r,n=ho[t];if(n)return n;for(r=t-1;!ho[r];)r--;for(n=ho[r],n={line:n.line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return ho[t]=n,n}function c(t,e){var r=a(t),n=a(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function u(t){lo<po||(lo>po&&(po=lo,go=[]),go.push(t))}function s(e,r,n){return new t(t.buildMessage(e,r),e,r,n)}function l(){var t,e,r,n;return t=lo,e=K(),e!==bt?(r=f(),r!==bt?(n=K(),n!==bt?(fo=t,e=vt(e,r),t=e):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt),t}function f(){var t,e,r,n;return t=lo,e=d(),e===bt&&(e=null),e!==bt?(r=p(),r===bt&&(r=null),r!==bt?(n=m(),n===bt&&(n=null),n!==bt?(fo=t,e=wt(e,r,n),t=e):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt),t}function d(){var t,r,n,o,i,a;for(t=lo,r=lo,n=[],o=lo,i=h(),i!==bt?(44===e.charCodeAt(lo)?(a=Ct,lo++):(a=bt,0===mo&&u(At)),a!==bt?(fo=o,i=kt(i),o=i):(lo=o,o=bt)):(lo=o,o=bt);o!==bt;)n.push(o),o=lo,i=h(),i!==bt?(44===e.charCodeAt(lo)?(a=Ct,lo++):(a=bt,0===mo&&u(At)),a!==bt?(fo=o,i=kt(i),o=i):(lo=o,o=bt)):(lo=o,o=bt);return n!==bt?(o=lo,i=h(),i!==bt?(59===e.charCodeAt(lo)?(a=_t,lo++):(a=bt,0===mo&&u(Tt)),a!==bt?(fo=o,i=kt(i),o=i):(lo=o,o=bt)):(lo=o,o=bt),o!==bt?(n=[n,o],r=n):(lo=r,r=bt)):(lo=r,r=bt),r!==bt&&(fo=t,r=Lt(r)),t=r}function h(){var t,r,n,o,i,a,c,s;return t=lo,r=K(),r!==bt?(e.substr(lo,6).toLowerCase()===St?(n=e.substr(lo,6),lo+=6):(n=bt,0===mo&&u(Et)),n===bt&&(e.substr(lo,11).toLowerCase()===Pt?(n=e.substr(lo,11),lo+=11):(n=bt,0===mo&&u(Ft))),n!==bt?(o=K(),o!==bt?(61===e.charCodeAt(lo)?(i=Bt,lo++):(i=bt,0===mo&&u(Dt)),i!==bt?(a=K(),a!==bt?(c=Y(),c!==bt?(s=K(),s!==bt?(fo=t,r=It(n,c),t=r):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt),t===bt&&(t=lo,r=K(),r!==bt?(e.substr(lo,5).toLowerCase()===jt?(n=e.substr(lo,5),lo+=5):(n=bt,0===mo&&u(Mt)),n!==bt?(o=K(),o!==bt?(61===e.charCodeAt(lo)?(i=Bt,lo++):(i=bt,0===mo&&u(Dt)),i!==bt?(a=K(),a!==bt?(c=nt(),c!==bt?(s=K(),s!==bt?(fo=t,r=It(n,c),t=r):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt),t===bt&&(t=lo,r=K(),r!==bt?(e.substr(lo,12).toLowerCase()===Nt?(n=e.substr(lo,12),lo+=12):(n=bt,0===mo&&u(Ot)),n!==bt?(o=K(),o!==bt?(61===e.charCodeAt(lo)?(i=Bt,lo++):(i=bt,0===mo&&u(Dt)),i!==bt?(a=K(),a!==bt?(c=tt(),c!==bt?(s=K(),s!==bt?(fo=t,r=Ht(n,c),t=r):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt),t===bt&&(t=lo,r=K(),r!==bt?(e.substr(lo,9).toLowerCase()===Wt?(n=e.substr(lo,9),lo+=9):(n=bt,0===mo&&u(Rt)),n!==bt?(o=K(),o!==bt?(61===e.charCodeAt(lo)?(i=Bt,lo++):(i=bt,0===mo&&u(Dt)),i!==bt?(a=K(),a!==bt?(c=D(),c!==bt?(s=K(),s!==bt?(fo=t,r=It(n,c),t=r):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)))),t}function p(){var t,r,n,o,i,a;for(t=lo,r=lo,n=[],o=lo,i=g(),i!==bt?(44===e.charCodeAt(lo)?(a=Ct,lo++):(a=bt,0===mo&&u(At)),a!==bt?(fo=o,i=zt(i),o=i):(lo=o,o=bt)):(lo=o,o=bt);o!==bt;)n.push(o),o=lo,i=g(),i!==bt?(44===e.charCodeAt(lo)?(a=Ct,lo++):(a=bt,0===mo&&u(At)),a!==bt?(fo=o,i=zt(i),o=i):(lo=o,o=bt)):(lo=o,o=bt);return n!==bt?(o=lo,i=g(),i!==bt?(59===e.charCodeAt(lo)?(a=_t,lo++):(a=bt,0===mo&&u(Tt)),a!==bt?(fo=o,i=zt(i),o=i):(lo=o,o=bt)):(lo=o,o=bt),o!==bt?(n=[n,o],r=n):(lo=r,r=bt)):(lo=r,r=bt),r!==bt&&(fo=t,r=Gt(r)),t=r}function g(){var t,r,n,o,i,a,c,s,l;return mo++,t=lo,r=K(),r!==bt?(n=N(),n!==bt?(o=K(),o!==bt?(i=lo,58===e.charCodeAt(lo)?(a=Ut,lo++):(a=bt,0===mo&&u(Vt)),a!==bt?(c=K(),c!==bt?(s=B(),s!==bt?(l=K(),l!==bt?(fo=i,a=qt(n,s),i=a):(lo=i,i=bt)):(lo=i,i=bt)):(lo=i,i=bt)):(lo=i,i=bt),i===bt&&(i=null),i!==bt?(fo=t,r=Kt(n,i),t=r):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt),mo--,t===bt&&(r=bt,0===mo&&u(Xt)),t}function m(){var t,r,n,o,i;if(t=[],r=lo,n=b(),n!==bt?(o=K(),o!==bt?(59===e.charCodeAt(lo)?(i=_t,lo++):(i=bt,0===mo&&u(Tt)),i!==bt?(fo=r,n=Yt(n),r=n):(lo=r,r=bt)):(lo=r,r=bt)):(lo=r,r=bt),r!==bt)for(;r!==bt;)t.push(r),r=lo,n=b(),n!==bt?(o=K(),o!==bt?(59===e.charCodeAt(lo)?(i=_t,lo++):(i=bt,0===mo&&u(Tt)),i!==bt?(fo=r,n=Yt(n),r=n):(lo=r,r=bt)):(lo=r,r=bt)):(lo=r,r=bt);else t=bt;return t}function b(){var t,r,n,o,i,a;for(t=lo,r=lo,n=[],o=lo,i=x(),i!==bt?(44===e.charCodeAt(lo)?(a=Ct,lo++):(a=bt,0===mo&&u(At)),a!==bt?(fo=o,i=Yt(i),o=i):(lo=o,o=bt)):(lo=o,o=bt);o!==bt;)n.push(o),o=lo,i=x(),i!==bt?(44===e.charCodeAt(lo)?(a=Ct,lo++):(a=bt,0===mo&&u(At)),a!==bt?(fo=o,i=Yt(i),o=i):(lo=o,o=bt)):(lo=o,o=bt);return n!==bt?(o=lo,i=x(),i!==bt&&(fo=o,i=Yt(i)),o=i,o!==bt?(n=[n,o],r=n):(lo=r,r=bt)):(lo=r,r=bt),r!==bt&&(fo=t,r=Zt(r)),t=r}function x(){var t;return t=y(),t===bt&&(t=A()),t}function y(){var t,r,n,o,i,a,c;return t=lo,r=lo,n=v(),n!==bt&&(fo=r,n=$t(n)),r=n,r===bt&&(r=lo,n=C(),n!==bt&&(fo=r,n=Jt(n)),(r=n)===bt&&(r=lo,n=w(),n!==bt&&(fo=r,n=Qt(n)),r=n)),r!==bt?(n=lo,58===e.charCodeAt(lo)?(o=Ut,lo++):(o=bt,0===mo&&u(Vt)),o!==bt?(i=K(),i!==bt?(a=B(),a!==bt?(c=K(),c!==bt?(fo=n,o=te(r,a),n=o):(lo=n,n=bt)):(lo=n,n=bt)):(lo=n,n=bt)):(lo=n,n=bt),n===bt&&(n=null),n!==bt?(fo=t,r=ee(r,n),t=r):(lo=t,t=bt)):(lo=t,t=bt),t}function v(){var t,e,r,n;return t=lo,e=K(),e!==bt?(r=k(),r!==bt?(n=K(),n!==bt?(fo=t,e=re(r),t=e):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt),t}function w(){var t,e,r,n;return t=lo,e=K(),e!==bt?(r=_(),r!==bt?(n=K(),n!==bt?(fo=t,e=re(r),t=e):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt),t}function C(){var t,r,n,o,i,a,c,s;return t=lo,r=K(),r!==bt?(n=N(),n!==bt?(o=K(),o!==bt?(i=T(),i!==bt?(a=K(),a!==bt?(c=N(),c!==bt?(s=K(),s!==bt?(fo=t,r=ne(n,i,c),t=r):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt),t===bt&&(t=lo,r=K(),r!==bt?(42===e.charCodeAt(lo)?(n=oe,lo++):(n=bt,0===mo&&u(ie)),n!==bt?(o=K(),o!==bt?(i=E(),i!==bt?(a=K(),a!==bt?(c=N(),c!==bt?(s=K(),s!==bt?(fo=t,r=ae(i,c),t=r):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt),t===bt&&(t=lo,r=K(),r!==bt?(n=N(),n!==bt?(o=K(),o!==bt?(i=S(),i!==bt?(a=K(),a!==bt?(42===e.charCodeAt(lo)?(c=oe,lo++):(c=bt,0===mo&&u(ie)),c!==bt?(s=K(),s!==bt?(fo=t,r=ce(n,i),t=r):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt),t===bt&&(t=lo,r=K(),r!==bt?(n=N(),n!==bt?(o=K(),o!==bt?(i=L(),i!==bt?(a=K(),a!==bt?(42===e.charCodeAt(lo)?(c=oe,lo++):(c=bt,0===mo&&u(ie)),c!==bt?(s=K(),s!==bt?(fo=t,r=ce(n,i),t=r):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)))),t}function A(){var t,r,n,o,i,a,c,s,l,f,d,h,p,g,b;return t=lo,r=K(),r!==bt?(n=N(),n!==bt?(o=K(),o!==bt?(i=F(),i!==bt?(a=K(),a!==bt?(c=N(),c!==bt?(s=K(),s!==bt?(l=lo,58===e.charCodeAt(lo)?(f=Ut,lo++):(f=bt,0===mo&&u(Vt)),f!==bt?(d=K(),d!==bt?(h=B(),h!==bt?(p=K(),p!==bt?(fo=l,f=ue(n,i,c,h),l=f):(lo=l,l=bt)):(lo=l,l=bt)):(lo=l,l=bt)):(lo=l,l=bt),l===bt&&(l=null),l!==bt?(123===e.charCodeAt(lo)?(f=se,lo++):(f=bt,0===mo&&u(le)),f!==bt?(d=K(),d!==bt?(h=m(),h===bt&&(h=null),h!==bt?(p=K(),p!==bt?(125===e.charCodeAt(lo)?(g=fe,lo++):(g=bt,0===mo&&u(de)),g!==bt?(b=K(),b!==bt?(fo=t,r=he(n,i,c,l,h),t=r):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt),t}function k(){var t;return mo++,e.substr(lo,3)===ge?(t=ge,lo+=3):(t=bt,0===mo&&u(me)),t===bt&&(e.substr(lo,3)===be?(t=be,lo+=3):(t=bt,0===mo&&u(xe))),mo--,t===bt&&(bt,0===mo&&u(pe)),t}function _(){var t;return mo++,e.substr(lo,3)===ve?(t=ve,lo+=3):(t=bt,0===mo&&u(we)),mo--,t===bt&&(bt,0===mo&&u(ye)),t}function T(){var t,e;return t=lo,e=L(),e===bt&&(e=S())===bt&&(e=E())===bt&&(e=P()),e!==bt&&(fo=t,e=Ce(e)),t=e}function L(){var t;return mo++,e.substr(lo,2)===ke?(t=ke,lo+=2):(t=bt,0===mo&&u(_e)),t===bt&&(e.substr(lo,3)===Te?(t=Te,lo+=3):(t=bt,0===mo&&u(Le)),t===bt&&(e.substr(lo,2)===Se?(t=Se,lo+=2):(t=bt,0===mo&&u(Ee)),t===bt&&(e.substr(lo,5)===Pe?(t=Pe,lo+=5):(t=bt,0===mo&&u(Fe)),t===bt&&(e.substr(lo,3)===Be?(t=Be,lo+=3):(t=bt,0===mo&&u(De)),t===bt&&(e.substr(lo,2)===Ie?(t=Ie,lo+=2):(t=bt,0===mo&&u(je)),t===bt&&(e.substr(lo,4)===Me?(t=Me,lo+=4):(t=bt,0===mo&&u(Ne)),t===bt&&(e.substr(lo,2)===Oe?(t=Oe,lo+=2):(t=bt,0===mo&&u(He)),t===bt&&(e.substr(lo,3)===We?(t=We,lo+=3):(t=bt,0===mo&&u(Re)))))))))),mo--,t===bt&&(bt,0===mo&&u(Ae)),t}function S(){var t;return mo++,e.substr(lo,2)===Ge?(t=Ge,lo+=2):(t=bt,0===mo&&u(Xe)),t===bt&&(e.substr(lo,3)===Ue?(t=Ue,lo+=3):(t=bt,0===mo&&u(Ve)),t===bt&&(e.substr(lo,2)===qe?(t=qe,lo+=2):(t=bt,0===mo&&u(Ke)),t===bt&&(e.substr(lo,2)===Ye?(t=Ye,lo+=2):(t=bt,0===mo&&u(Ze)),t===bt&&(e.substr(lo,2)===$e?(t=$e,lo+=2):(t=bt,0===mo&&u(Je)),t===bt&&(e.substr(lo,2).toLowerCase()===Qe?(t=e.substr(lo,2),lo+=2):(t=bt,0===mo&&u(tr))))))),mo--,t===bt&&(bt,0===mo&&u(ze)),t}function E(){var t;return mo++,e.substr(lo,2)===rr?(t=rr,lo+=2):(t=bt,0===mo&&u(nr)),t===bt&&(e.substr(lo,3)===or?(t=or,lo+=3):(t=bt,0===mo&&u(ir)),t===bt&&(e.substr(lo,2)===ar?(t=ar,lo+=2):(t=bt,0===mo&&u(cr)),t===bt&&(e.substr(lo,2)===ur?(t=ur,lo+=2):(t=bt,0===mo&&u(sr)),t===bt&&(e.substr(lo,2)===lr?(t=lr,lo+=2):(t=bt,0===mo&&u(fr)),t===bt&&(e.substr(lo,2).toLowerCase()===dr?(t=e.substr(lo,2),lo+=2):(t=bt,0===mo&&u(hr))))))),mo--,t===bt&&(bt,0===mo&&u(er)),t}function P(){var t;return mo++,e.substr(lo,4).toLowerCase()===gr?(t=e.substr(lo,4),lo+=4):(t=bt,0===mo&&u(mr)),t===bt&&(e.substr(lo,4).toLowerCase()===br?(t=e.substr(lo,4),lo+=4):(t=bt,0===mo&&u(xr)),t===bt&&(e.substr(lo,4).toLowerCase()===yr?(t=e.substr(lo,4),lo+=4):(t=bt,0===mo&&u(vr)),t===bt&&(e.substr(lo,3).toLowerCase()===wr?(t=e.substr(lo,3),lo+=3):(t=bt,0===mo&&u(Cr))))),mo--,t===bt&&(bt,0===mo&&u(pr)),t}function F(){var t,r;return mo++,t=lo,e.substr(lo,3).toLowerCase()===kr?(r=e.substr(lo,3),lo+=3):(r=bt,0===mo&&u(_r)),r===bt&&(e.substr(lo,4).toLowerCase()===Tr?(r=e.substr(lo,4),lo+=4):(r=bt,0===mo&&u(Lr)),r===bt&&(e.substr(lo,3).toLowerCase()===Sr?(r=e.substr(lo,3),lo+=3):(r=bt,0===mo&&u(Er)),r===bt&&(e.substr(lo,5).toLowerCase()===Pr?(r=e.substr(lo,5),lo+=5):(r=bt,0===mo&&u(Fr)),r===bt&&(e.substr(lo,3).toLowerCase()===Br?(r=e.substr(lo,3),lo+=3):(r=bt,0===mo&&u(Dr)),r===bt&&(e.substr(lo,3).toLowerCase()===Ir?(r=e.substr(lo,3),lo+=3):(r=bt,0===mo&&u(jr)),r===bt&&(e.substr(lo,6).toLowerCase()===Mr?(r=e.substr(lo,6),lo+=6):(r=bt,0===mo&&u(Nr)),r===bt&&(e.substr(lo,3).toLowerCase()===Or?(r=e.substr(lo,3),lo+=3):(r=bt,0===mo&&u(Hr)),r===bt&&(e.substr(lo,8).toLowerCase()===Wr?(r=e.substr(lo,8),lo+=8):(r=bt,0===mo&&u(Rr)),r===bt&&(e.substr(lo,6).toLowerCase()===zr?(r=e.substr(lo,6),lo+=6):(r=bt,0===mo&&u(Gr)),r===bt&&(e.substr(lo,8).toLowerCase()===Xr?(r=e.substr(lo,8),lo+=8):(r=bt,0===mo&&u(Ur)),r===bt&&(e.substr(lo,6).toLowerCase()===Vr?(r=e.substr(lo,6),lo+=6):(r=bt,0===mo&&u(qr)),r===bt&&(e.substr(lo,4).toLowerCase()===Kr?(r=e.substr(lo,4),lo+=4):(r=bt,0===mo&&u(Yr)),r===bt&&(e.substr(lo,3).toLowerCase()===Zr?(r=e.substr(lo,3),lo+=3):(r=bt,0===mo&&u($r)),r===bt&&(e.substr(lo,3).toLowerCase()===Jr?(r=e.substr(lo,3),lo+=3):(r=bt,0===mo&&u(Qr)))))))))))))))),r!==bt&&(fo=t,r=tn(r)),t=r,mo--,t===bt&&(r=bt,0===mo&&u(Ar)),t}function B(){var t;return t=D(),t===bt&&(t=j()),t}function D(){var t,r,n,o;return mo++,t=lo,34===e.charCodeAt(lo)?(r=rn,lo++):(r=bt,0===mo&&u(nn)),r!==bt?(n=I(),n!==bt?(34===e.charCodeAt(lo)?(o=rn,lo++):(o=bt,0===mo&&u(nn)),o!==bt?(fo=t,r=on(n),t=r):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt),mo--,t===bt&&(r=bt,0===mo&&u(en)),t}function I(){var t,r,n,o;for(t=[],r=lo,n=lo,mo++,34===e.charCodeAt(lo)?(o=rn,lo++):(o=bt,0===mo&&u(nn)),mo--,o===bt?n=void 0:(lo=n,n=bt),n!==bt?(e.substr(lo,2)===an?(o=an,lo+=2):(o=bt,0===mo&&u(cn)),o===bt&&(e.length>lo?(o=e.charAt(lo),lo++):(o=bt,0===mo&&u(un))),o!==bt?(fo=r,n=sn(o),r=n):(lo=r,r=bt)):(lo=r,r=bt);r!==bt;)t.push(r),r=lo,n=lo,mo++,34===e.charCodeAt(lo)?(o=rn,lo++):(o=bt,0===mo&&u(nn)),mo--,o===bt?n=void 0:(lo=n,n=bt),n!==bt?(e.substr(lo,2)===an?(o=an,lo+=2):(o=bt,0===mo&&u(cn)),o===bt&&(e.length>lo?(o=e.charAt(lo),lo++):(o=bt,0===mo&&u(un))),o!==bt?(fo=r,n=sn(o),r=n):(lo=r,r=bt)):(lo=r,r=bt);return t}function j(){var t,e;return t=lo,e=M(),e!==bt&&(fo=t,e=ln(e)),t=e}function M(){var t,r,n,o;for(t=[],r=lo,n=lo,mo++,44===e.charCodeAt(lo)?(o=Ct,lo++):(o=bt,0===mo&&u(At)),o===bt&&(59===e.charCodeAt(lo)?(o=_t,lo++):(o=bt,0===mo&&u(Tt)),o===bt&&(123===e.charCodeAt(lo)?(o=se,lo++):(o=bt,0===mo&&u(le)))),mo--,o===bt?n=void 0:(lo=n,n=bt),n!==bt?(e.length>lo?(o=e.charAt(lo),lo++):(o=bt,0===mo&&u(un)),o!==bt?(fo=r,n=sn(o),r=n):(lo=r,r=bt)):(lo=r,r=bt);r!==bt;)t.push(r),r=lo,n=lo,mo++,44===e.charCodeAt(lo)?(o=Ct,lo++):(o=bt,0===mo&&u(At)),o===bt&&(59===e.charCodeAt(lo)?(o=_t,lo++):(o=bt,0===mo&&u(Tt)),o===bt&&(123===e.charCodeAt(lo)?(o=se,lo++):(o=bt,0===mo&&u(le)))),mo--,o===bt?n=void 0:(lo=n,n=bt),n!==bt?(e.length>lo?(o=e.charAt(lo),lo++):(o=bt,0===mo&&u(un)),o!==bt?(fo=r,n=sn(o),r=n):(lo=r,r=bt)):(lo=r,r=bt);return t}function N(){var t,r,n;if(mo++,t=lo,r=[],dn.test(e.charAt(lo))?(n=e.charAt(lo),lo++):(n=bt,0===mo&&u(hn)),n!==bt)for(;n!==bt;)r.push(n),dn.test(e.charAt(lo))?(n=e.charAt(lo),lo++):(n=bt,0===mo&&u(hn));else r=bt;return r!==bt&&(fo=t,r=pn(r)),t=r,t===bt&&(t=D()),mo--,t===bt&&(r=bt,0===mo&&u(fn)),t}function O(){var t,r;return mo++,t=lo,mn.test(e.charAt(lo))?(r=e.charAt(lo),lo++):(r=bt,0===mo&&u(bn)),r!==bt&&(fo=t,r=sn(r)),t=r,mo--,t===bt&&(r=bt,0===mo&&u(gn)),t}function H(){var t,r;return mo++,t=lo,yn.test(e.charAt(lo))?(r=e.charAt(lo),lo++):(r=bt,0===mo&&u(vn)),r!==bt&&(fo=t,r=sn(r)),t=r,mo--,t===bt&&(r=bt,0===mo&&u(xn)),t}function W(){var t;return e.substr(lo,2)===wn?(t=wn,lo+=2):(t=bt,0===mo&&u(Cn)),t}function R(){var t;return e.substr(lo,2)===An?(t=An,lo+=2):(t=bt,0===mo&&u(kn)),t}function z(){var t,r,n;return t=lo,r=lo,mo++,e.substr(lo,2)===An?(n=An,lo+=2):(n=bt,0===mo&&u(kn)),mo--,n===bt?r=void 0:(lo=r,r=bt),r!==bt?(e.length>lo?(n=e.charAt(lo),lo++):(n=bt,0===mo&&u(un)),n!==bt?(fo=t,r=sn(n),t=r):(lo=t,t=bt)):(lo=t,t=bt),t}function G(){var t,e,r,n;if(t=lo,(e=W())!==bt){for(r=[],n=z();n!==bt;)r.push(n),n=z();r!==bt?(n=R(),n!==bt?(fo=t,e=_n(e,r,n),t=e):(lo=t,t=bt)):(lo=t,t=bt)}else lo=t,t=bt;return t}function X(){var t;return e.substr(lo,2)===Tn?(t=Tn,lo+=2):(t=bt,0===mo&&u(Ln)),t===bt&&(35===e.charCodeAt(lo)?(t=Sn,lo++):(t=bt,0===mo&&u(En))),t}function U(){var t;return Pn.test(e.charAt(lo))?(t=e.charAt(lo),lo++):(t=bt,0===mo&&u(Fn)),t}function V(){var t,e,r,n;if(t=lo,(e=X())!==bt){for(r=[],n=U();n!==bt;)r.push(n),n=U();r!==bt?(fo=t,e=Bn(e,r),t=e):(lo=t,t=bt)}else lo=t,t=bt;return t}function q(){var t;return mo++,t=V(),t===bt&&(t=G()),mo--,t===bt&&(bt,0===mo&&u(Dn)),t}function K(){var t,e;for(t=[],e=O(),e===bt&&(e=H())===bt&&(e=q());e!==bt;)t.push(e),(e=O())===bt&&(e=H())===bt&&(e=q());return t}function Y(){var t,e;return mo++,t=lo,e=Z(),e!==bt&&(fo=t,e=jn(e)),t=e,t===bt&&(t=lo,e=$(),e!==bt&&(fo=t,e=Mn(e)),t=e),mo--,t===bt&&(e=bt,0===mo&&u(In)),t}function Z(){var t,r,n,o;return t=lo,34===e.charCodeAt(lo)?(r=rn,lo++):(r=bt,0===mo&&u(nn)),r!==bt?(n=$(),n!==bt?(34===e.charCodeAt(lo)?(o=rn,lo++):(o=bt,0===mo&&u(nn)),o!==bt?(fo=t,r=Nn(n),t=r):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt),t}function $(){var t;return t=Q(),t===bt&&(t=J()),t}function J(){var t,r,n;if(t=lo,r=[],On.test(e.charAt(lo))?(n=e.charAt(lo),lo++):(n=bt,0===mo&&u(Hn)),n!==bt)for(;n!==bt;)r.push(n),On.test(e.charAt(lo))?(n=e.charAt(lo),lo++):(n=bt,0===mo&&u(Hn));else r=bt;return r!==bt&&(fo=t,r=Wn(r)),t=r}function Q(){var t,r,n,o,i;return t=lo,r=lo,n=J(),n!==bt?(46===e.charCodeAt(lo)?(o=Rn,lo++):(o=bt,0===mo&&u(zn)),o!==bt?(i=J(),i!==bt?(n=[n,o,i],r=n):(lo=r,r=bt)):(lo=r,r=bt)):(lo=r,r=bt),r!==bt&&(fo=t,r=Gn(r)),t=r}function tt(){var t,e;return mo++,t=lo,e=et(),e!==bt&&(fo=t,e=Un(e)),t=e,t===bt&&(t=lo,e=rt(),e!==bt&&(fo=t,e=Vn(e)),t=e),mo--,t===bt&&(e=bt,0===mo&&u(Xn)),t}function et(){var t,r,n,o;return t=lo,34===e.charCodeAt(lo)?(r=rn,lo++):(r=bt,0===mo&&u(nn)),r!==bt?(n=rt(),n!==bt?(34===e.charCodeAt(lo)?(o=rn,lo++):(o=bt,0===mo&&u(nn)),o!==bt?(fo=t,r=jn(n),t=r):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt),t}function rt(){var t;return e.substr(lo,4).toLowerCase()===qn?(t=e.substr(lo,4),lo+=4):(t=bt,0===mo&&u(Kn)),t===bt&&(e.substr(lo,5).toLowerCase()===Yn?(t=e.substr(lo,5),lo+=5):(t=bt,0===mo&&u(Zn)),t===bt&&(e.substr(lo,2).toLowerCase()===$n?(t=e.substr(lo,2),lo+=2):(t=bt,0===mo&&u(Jn)),t===bt&&(e.substr(lo,3).toLowerCase()===Qn?(t=e.substr(lo,3),lo+=3):(t=bt,0===mo&&u(to)),t===bt&&(48===e.charCodeAt(lo)?(t=eo,lo++):(t=bt,0===mo&&u(ro)),t===bt&&(49===e.charCodeAt(lo)?(t=no,lo++):(t=bt,0===mo&&u(oo))))))),t}function nt(){var t;return mo++,t=ot(),t===bt&&(t=it()),mo--,t===bt&&(bt,0===mo&&u(io)),t}function ot(){var t,r,n,o;return t=lo,34===e.charCodeAt(lo)?(r=rn,lo++):(r=bt,0===mo&&u(nn)),r!==bt?(n=it(),n!==bt?(34===e.charCodeAt(lo)?(o=rn,lo++):(o=bt,0===mo&&u(nn)),o!==bt?(fo=t,r=jn(n),t=r):(lo=t,t=bt)):(lo=t,t=bt)):(lo=t,t=bt),t}function it(){var t,r;return t=lo,r=$(),r!==bt&&(fo=t,r=ao(r)),t=r,t===bt&&(t=lo,e.substr(lo,4).toLowerCase()===co?(r=e.substr(lo,4),lo+=4):(r=bt,0===mo&&u(uo)),r!==bt&&(fo=t,r=so(r)),t=r),t}function at(t,e){return t=t||{},e&&Object.getOwnPropertyNames(e).forEach(function(r){t[r]=e[r]}),t}function ct(t){var e={};return t.forEach(function(t){e=at(e,t)}),e}function ut(t){return["true","on","1"].indexOf(t.toLowerCase())>-1}function st(t,e){var r={};return r[t.toLowerCase()]=e,r}function lt(t,e,r){return void 0===e||"*"===e||(!!t.some(function(t){return t.name===e})||r[e]===!0)}function ft(t){var e={};return e.name=t,e}function dt(t,e,r){return t||(t=[]),r||(r={}),e&&e.forEach(function(e){e.forEach(function(e){lt(t,e.from,r)||t.push(ft(e.from)),e.arcs&&(r[e.to]=!0,at(t,dt(t,e.arcs,r)),delete r[e.to]),lt(t,e.to,r)||t.push(ft(e.to))})}),t}function ht(t){return!!t&&(!!t.watermark||!!t.width&&"auto"===!!t.width)}function pt(t){return!!t&&t.some(function(t){return t.some(function(t){return["alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"].indexOf(t.kind)>-1})})}function gt(t,e){var r=ht(t),n=pt(e);return{extendedOptions:r,extendedArcTypes:n,extendedFeatures:r||n}}r=void 0!==r?r:{};var mt,bt={},xt={program:l},yt=l,vt=function(t,e){e.entities=dt(e.entities,e.arcs);var r=e;return r=at({meta:gt(e.options,e.arcs)},r),t.length>0&&(r=at({precomment:t},r)),r},wt=function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n},Ct=",",At=n(",",!1),kt=function(t){return t},_t=";",Tt=n(";",!1),Lt=function(t){return ct(t[0].concat(t[1]))},St="hscale",Et=n("hscale",!0),Pt="arcgradient",Ft=n("arcgradient",!0),Bt="=",Dt=n("=",!1),It=function(t,e){return st(t,e)},jt="width",Mt=n("width",!0),Nt="wordwraparcs",Ot=n("wordwraparcs",!0),Ht=function(t,e){return st(t,ut(e))},Wt="watermark",Rt=n("watermark",!0),zt=function(t){return t},Gt=function(t){return t[0].concat(t[1])},Xt=i("entity"),Ut=":",Vt=n(":",!1),qt=function(t,e){return e},Kt=function(t,e){var r={};return r.name=t,e&&(r.label=e),r},Yt=function(t){return t},Zt=function(t){return t[0].concat(t[1])},$t=function(t){return t},Jt=function(t){return t},Qt=function(t){return t},te=function(t,e){return e},ee=function(t,e){return e&&(t.label=e),t},re=function(t){return{kind:t}},ne=function(t,e,r){return{kind:e,from:t,to:r}},oe="*",ie=n("*",!1),ae=function(t,e){return{kind:t,from:"*",to:e}},ce=function(t,e){return{kind:e,from:t,to:"*"}},ue=function(t,e,r,n){return n},se="{",le=n("{",!1),fe="}",de=n("}",!1),he=function(t,e,r,n,o){var i={kind:e,from:t,to:r,arcs:o};return n&&(i.label=n),i},pe=i("empty row"),ge="|||",me=n("|||",!1),be="...",xe=n("...",!1),ye=i("---"),ve="---",we=n("---",!1),Ce=function(t){return t.toLowerCase()},Ae=i("bi-directional arrow"),ke="--",_e=n("--",!1),Te="<->",Le=n("<->",!1),Se="==",Ee=n("==",!1),Pe="<<=>>",Fe=n("<<=>>",!1),Be="<=>",De=n("<=>",!1),Ie="..",je=n("..",!1),Me="<<>>",Ne=n("<<>>",!1),Oe="::",He=n("::",!1),We="<:>",Re=n("<:>",!1),ze=i("left to right arrow"),Ge="->",Xe=n("->",!1),Ue="=>>",Ve=n("=>>",!1),qe="=>",Ke=n("=>",!1),Ye=">>",Ze=n(">>",!1),$e=":>",Je=n(":>",!1),Qe="-x",tr=n("-x",!0),er=i("right to left arrow"),rr="<-",nr=n("<-",!1),or="<<=",ir=n("<<=",!1),ar="<=",cr=n("<=",!1),ur="<<",sr=n("<<",!1),lr="<:",fr=n("<:",!1),dr="x-",hr=n("x-",!0),pr=i("box"),gr="note",mr=n("note",!0),br="abox",xr=n("abox",!0),yr="rbox",vr=n("rbox",!0),wr="box",Cr=n("box",!0),Ar=i("inline expression"),kr="alt",_r=n("alt",!0),Tr="else",Lr=n("else",!0),Sr="opt",Er=n("opt",!0),Pr="break",Fr=n("break",!0),Br="par",Dr=n("par",!0),Ir="seq",jr=n("seq",!0),Mr="strict",Nr=n("strict",!0),Or="neg",Hr=n("neg",!0),Wr="critical",Rr=n("critical",!0),zr="ignore",Gr=n("ignore",!0),Xr="consider",Ur=n("consider",!0),Vr="assert",qr=n("assert",!0),Kr="loop",Yr=n("loop",!0),Zr="ref",$r=n("ref",!0),Jr="exc",Qr=n("exc",!0),tn=function(t){return t.toLowerCase()},en=i("double quoted string"),rn='"',nn=n('"',!1),on=function(t){return t.join("")},an='\\"',cn=n('\\"',!1),un=function(){return{type:"any"}}(),sn=function(t){return t},ln=function(t){return t.join("").trim()},fn=i("identifier"),dn=/^[^;, "\t\n\r=\-><:{*]/,hn=o([";",","," ",'"',"\t","\n","\r","=","-",">","<",":","{","*"],!0,!1),pn=function(t){return t.join("")},gn=i("whitespace"),mn=/^[ \t]/,bn=o([" ","\t"],!1,!1),xn=i("lineend"),yn=/^[\r\n]/,vn=o(["\r","\n"],!1,!1),wn="/*",Cn=n("/*",!1),An="*/",kn=n("*/",!1),_n=function(t,e,r){return t+e.join("")+r},Tn="//",Ln=n("//",!1),Sn="#",En=n("#",!1),Pn=/^[^\r\n]/,Fn=o(["\r","\n"],!0,!1),Bn=function(t,e){return t+e.join("")},Dn=i("comment"),In=i("number"),jn=function(t){return t},Mn=function(t){return t.toString()},Nn=function(t){return t.toString()},On=/^[0-9]/,Hn=o([["0","9"]],!1,!1),Wn=function(t){return parseInt(t.join(""),10)},Rn=".",zn=n(".",!1),Gn=function(t){return parseFloat(t.join(""))},Xn=i("boolean"),Un=function(t){return t},Vn=function(t){return t.toString()},qn="true",Kn=n("true",!0),Yn="false",Zn=n("false",!0),$n="on",Jn=n("on",!0),Qn="off",to=n("off",!0),eo="0",ro=n("0",!1),no="1",oo=n("1",!1),io=i("size"),ao=function(t){return t.toString()},co="auto",uo=n("auto",!0),so=function(t){return t.toLowerCase()},lo=0,fo=0,ho=[{line:1,column:1}],po=0,go=[],mo=0;if("startRule"in r){if(!(r.startRule in xt))throw new Error("Can't start parsing from rule \""+r.startRule+'".');yt=xt[r.startRule]}if((mt=yt())!==bt&&lo===e.length)return mt;throw mt!==bt&&lo<e.length&&u(function(){return{type:"end"}}()),s(go,po<e.length?e.charAt(po):null,po<e.length?c(po,po+1):c(po,po))}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(t,Error),t.buildMessage=function(t,e){function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function n(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function i(t){return a[t.type](t)}var a={literal:function(t){return'"'+n(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?o(t.parts[e][0])+"-"+o(t.parts[e][1]):o(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};return"Expected "+function(t){var e,r,n=new Array(t.length);for(e=0;e<t.length;e++)n[e]=i(t[e]);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+n(t)+'"':"end of input"}(e)+" found."},{SyntaxError:t,parse:e}})},function(t,e,r){var n,o,i;!function(r,a){o=[],n=a,void 0!==(i="function"==typeof n?n.apply(e,o):n)&&(t.exports=i)}(0,function(){"use strict";function t(e,r,n,o){this.message=e,this.expected=r,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}function e(e,r){function n(){return s(ui,ci)}function o(t,e){throw e=void 0!==e?e:s(ui,ci),f(t,e)}function i(t,e){return{type:"literal",text:t,ignoreCase:e}}function a(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function c(t){return{type:"other",description:t}}function u(t){var r,n=si[t];if(n)return n;for(r=t-1;!si[r];)r--;for(n=si[r],n={line:n.line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return si[t]=n,n}function s(t,e){var r=u(t),n=u(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function l(t){ci<li||(ci>li&&(li=ci,fi=[]),fi.push(t))}function f(e,r){return new t(e,null,null,r)}function d(e,r,n){return new t(t.buildMessage(e,r),e,r,n)}function h(){var t,r,n,o,i,a,c,u,s,f;return t=ci,r=Q(),r!==kt?(n=p(),n!==kt?(o=Q(),o!==kt?(123===e.charCodeAt(ci)?(i=Lt,ci++):(i=kt,0===di&&l(St)),i!==kt?(a=Q(),a!==kt?(c=g(),c!==kt?(u=Q(),u!==kt?(125===e.charCodeAt(ci)?(s=Et,ci++):(s=kt,0===di&&l(Pt)),s!==kt?(f=Q(),f!==kt?(ui=t,r=Ft(r,c),t=r):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt),t}function p(){var t;return e.substr(ci,3).toLowerCase()===Bt?(t=e.substr(ci,3),ci+=3):(t=kt,0===di&&l(Dt)),t===kt&&(e.substr(ci,2).toLowerCase()===It?(t=e.substr(ci,2),ci+=2):(t=kt,0===di&&l(jt))),t}function g(){var t,e,r,n;return t=ci,e=m(),e===kt&&(e=null),e!==kt?(r=x(),r===kt&&(r=null),r!==kt?(n=v(),n===kt&&(n=null),n!==kt?(ui=t,e=Mt(e,r,n),t=e):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt),t}function m(){var t,r,n,o,i,a;for(t=ci,r=ci,n=[],o=ci,i=b(),i!==kt?(44===e.charCodeAt(ci)?(a=Nt,ci++):(a=kt,0===di&&l(Ot)),a!==kt?(ui=o,i=Ht(i),o=i):(ci=o,o=kt)):(ci=o,o=kt);o!==kt;)n.push(o),o=ci,i=b(),i!==kt?(44===e.charCodeAt(ci)?(a=Nt,ci++):(a=kt,0===di&&l(Ot)),a!==kt?(ui=o,i=Ht(i),o=i):(ci=o,o=kt)):(ci=o,o=kt);return n!==kt?(o=ci,i=b(),i!==kt?(59===e.charCodeAt(ci)?(a=Wt,ci++):(a=kt,0===di&&l(Rt)),a!==kt?(ui=o,i=Ht(i),o=i):(ci=o,o=kt)):(ci=o,o=kt),o!==kt?(n=[n,o],r=n):(ci=r,r=kt)):(ci=r,r=kt),r!==kt&&(ui=t,r=zt(r)),t=r}function b(){var t,r,n,o,i,a,c,u;return di++,t=ci,r=Q(),r!==kt?(e.substr(ci,6).toLowerCase()===Xt?(n=e.substr(ci,6),ci+=6):(n=kt,0===di&&l(Ut)),n===kt&&(e.substr(ci,11).toLowerCase()===Vt?(n=e.substr(ci,11),ci+=11):(n=kt,0===di&&l(qt))),n!==kt?(o=Q(),o!==kt?(61===e.charCodeAt(ci)?(i=Kt,ci++):(i=kt,0===di&&l(Yt)),i!==kt?(a=Q(),a!==kt?(c=tt(),c!==kt?(u=Q(),u!==kt?(ui=t,r=Zt(n,c),t=r):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt),t===kt&&(t=ci,r=Q(),r!==kt?(e.substr(ci,5).toLowerCase()===$t?(n=e.substr(ci,5),ci+=5):(n=kt,0===di&&l(Jt)),n!==kt?(o=Q(),o!==kt?(61===e.charCodeAt(ci)?(i=Kt,ci++):(i=kt,0===di&&l(Yt)),i!==kt?(a=Q(),a!==kt?(c=ut(),c!==kt?(u=Q(),u!==kt?(ui=t,r=Zt(n,c),t=r):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt),t===kt&&(t=ci,r=Q(),r!==kt?(e.substr(ci,12).toLowerCase()===Qt?(n=e.substr(ci,12),ci+=12):(n=kt,0===di&&l(te)),n!==kt?(o=Q(),o!==kt?(61===e.charCodeAt(ci)?(i=Kt,ci++):(i=kt,0===di&&l(Yt)),i!==kt?(a=Q(),a!==kt?(c=it(),c!==kt?(u=Q(),u!==kt?(ui=t,r=ee(n,c),t=r):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt),t===kt&&(t=ci,r=Q(),r!==kt?(e.substr(ci,9).toLowerCase()===re?(n=e.substr(ci,9),ci+=9):(n=kt,0===di&&l(ne)),n!==kt?(o=Q(),o!==kt?(61===e.charCodeAt(ci)?(i=Kt,ci++):(i=kt,0===di&&l(Yt)),i!==kt?(a=Q(),a!==kt?(c=H(),c!==kt?(u=Q(),u!==kt?(ui=t,r=Zt(n,c),t=r):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)))),di--,t===kt&&(r=kt,0===di&&l(Gt)),t}function x(){var t,r,n,o,i,a;for(t=ci,r=ci,n=[],o=ci,i=y(),i!==kt?(44===e.charCodeAt(ci)?(a=Nt,ci++):(a=kt,0===di&&l(Ot)),a!==kt?(ui=o,i=oe(i),o=i):(ci=o,o=kt)):(ci=o,o=kt);o!==kt;)n.push(o),o=ci,i=y(),i!==kt?(44===e.charCodeAt(ci)?(a=Nt,ci++):(a=kt,0===di&&l(Ot)),a!==kt?(ui=o,i=oe(i),o=i):(ci=o,o=kt)):(ci=o,o=kt);return n!==kt?(o=ci,i=y(),i!==kt?(59===e.charCodeAt(ci)?(a=Wt,ci++):(a=kt,0===di&&l(Rt)),a!==kt?(ui=o,i=oe(i),o=i):(ci=o,o=kt)):(ci=o,o=kt),o!==kt?(n=[n,o],r=n):(ci=r,r=kt)):(ci=r,r=kt),r!==kt&&(ui=t,r=ie(r)),t=r}function y(){var t,r,n,o,i,a,c,u;return di++,t=ci,r=Q(),r!==kt?(n=H(),n!==kt?(o=Q(),o!==kt?(i=ci,91===e.charCodeAt(ci)?(a=ce,ci++):(a=kt,0===di&&l(ue)),a!==kt?(c=M(),c!==kt?(93===e.charCodeAt(ci)?(u=se,ci++):(u=kt,0===di&&l(le)),u!==kt?(ui=i,a=fe(n,c),i=a):(ci=i,i=kt)):(ci=i,i=kt)):(ci=i,i=kt),i===kt&&(i=null),i!==kt?(a=Q(),a!==kt?(ui=t,r=de(n,i),t=r):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt),t===kt&&(t=ci,r=Q(),r!==kt?(n=z(),n!==kt?(o=Q(),o!==kt?(i=ci,91===e.charCodeAt(ci)?(a=ce,ci++):(a=kt,0===di&&l(ue)),a!==kt?(c=M(),c!==kt?(93===e.charCodeAt(ci)?(u=se,ci++):(u=kt,0===di&&l(le)),u!==kt?(ui=i,a=fe(n,c),i=a):(ci=i,i=kt)):(ci=i,i=kt)):(ci=i,i=kt),i===kt&&(i=null),i!==kt?(a=Q(),a!==kt?(ui=t,r=he(n,i),t=r):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)),di--,t===kt&&(r=kt,0===di&&l(ae)),t}function v(){var t,r,n,o,i;if(t=[],r=ci,n=w(),n!==kt?(o=Q(),o!==kt?(59===e.charCodeAt(ci)?(i=Wt,ci++):(i=kt,0===di&&l(Rt)),i!==kt?(ui=r,n=pe(n),r=n):(ci=r,r=kt)):(ci=r,r=kt)):(ci=r,r=kt),r!==kt)for(;r!==kt;)t.push(r),r=ci,n=w(),n!==kt?(o=Q(),o!==kt?(59===e.charCodeAt(ci)?(i=Wt,ci++):(i=kt,0===di&&l(Rt)),i!==kt?(ui=r,n=pe(n),r=n):(ci=r,r=kt)):(ci=r,r=kt)):(ci=r,r=kt);else t=kt;return t}function w(){var t,r,n,o,i,a,c;for(t=ci,r=ci,n=[],o=ci,i=C(),i!==kt?(a=Q(),a!==kt?(44===e.charCodeAt(ci)?(c=Nt,ci++):(c=kt,0===di&&l(Ot)),c!==kt?(ui=o,i=pe(i),o=i):(ci=o,o=kt)):(ci=o,o=kt)):(ci=o,o=kt);o!==kt;)n.push(o),o=ci,i=C(),i!==kt?(a=Q(),a!==kt?(44===e.charCodeAt(ci)?(c=Nt,ci++):(c=kt,0===di&&l(Ot)),c!==kt?(ui=o,i=pe(i),o=i):(ci=o,o=kt)):(ci=o,o=kt)):(ci=o,o=kt);return n!==kt?(o=ci,i=C(),i!==kt&&(ui=o,i=pe(i)),o=i,o!==kt?(n=[n,o],r=n):(ci=r,r=kt)):(ci=r,r=kt),r!==kt&&(ui=t,r=ge(r)),t=r}function C(){var t;return t=A(),t===kt&&(t=L()),t}function A(){var t,r,n,o,i,a;return t=ci,r=ci,n=k(),n!==kt&&(ui=r,n=pe(n)),r=n,r===kt&&(r=ci,n=T(),n!==kt&&(ui=r,n=pe(n)),(r=n)===kt&&(r=ci,n=_(),n!==kt&&(ui=r,n=pe(n)),r=n)),r!==kt?(n=ci,91===e.charCodeAt(ci)?(o=ce,ci++):(o=kt,0===di&&l(ue)),o!==kt?(i=M(),i!==kt?(93===e.charCodeAt(ci)?(a=se,ci++):(a=kt,0===di&&l(le)),a!==kt?(ui=n,o=me(r,i),n=o):(ci=n,n=kt)):(ci=n,n=kt)):(ci=n,n=kt),n===kt&&(n=null),n!==kt?(ui=t,r=be(r,n),t=r):(ci=t,t=kt)):(ci=t,t=kt),t}function k(){var t,e,r,n;return t=ci,e=Q(),e!==kt?(r=S(),r!==kt?(n=Q(),n!==kt?(ui=t,e=xe(r),t=e):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt),t}function _(){var t,e,r,n;return t=ci,e=Q(),e!==kt?(r=E(),r!==kt?(n=Q(),n!==kt?(ui=t,e=xe(r),t=e):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt),t}function T(){var t,r,n,o,i,a,c,u;return t=ci,r=Q(),r!==kt?(n=R(),n!==kt?(o=Q(),o!==kt?(i=P(),i!==kt?(a=Q(),a!==kt?(c=R(),c!==kt?(u=Q(),u!==kt?(ui=t,r=ye(n,i,c),t=r):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt),t===kt&&(t=ci,r=Q(),r!==kt?(42===e.charCodeAt(ci)?(n=ve,ci++):(n=kt,0===di&&l(we)),n!==kt?(o=Q(),o!==kt?(i=D(),i!==kt?(a=Q(),a!==kt?(c=R(),c!==kt?(u=Q(),u!==kt?(ui=t,r=Ce(i,c),t=r):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt),t===kt&&(t=ci,r=Q(),r!==kt?(n=R(),n!==kt?(o=Q(),o!==kt?(i=B(),i!==kt?(a=Q(),a!==kt?(42===e.charCodeAt(ci)?(c=ve,ci++):(c=kt,0===di&&l(we)),c!==kt?(u=Q(),u!==kt?(ui=t,r=Ae(n,i),t=r):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt),t===kt&&(t=ci,r=Q(),r!==kt?(n=R(),n!==kt?(o=Q(),o!==kt?(i=F(),i!==kt?(a=Q(),a!==kt?(42===e.charCodeAt(ci)?(c=ve,ci++):(c=kt,0===di&&l(we)),c!==kt?(u=Q(),u!==kt?(ui=t,r=Ae(n,i),t=r):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)))),t}function L(){var t,r,n,o,i,a,c,u,s,f,d,h,p,g,m,b;return t=ci,r=Q(),r!==kt?(n=R(),n!==kt?(o=Q(),o!==kt?(i=j(),i!==kt?(a=Q(),a!==kt?(c=R(),c!==kt?(u=Q(),u!==kt?(s=ci,91===e.charCodeAt(ci)?(f=ce,ci++):(f=kt,0===di&&l(ue)),f!==kt?(d=M(),d!==kt?(93===e.charCodeAt(ci)?(h=se,ci++):(h=kt,0===di&&l(le)),h!==kt?(ui=s,f=ke(n,i,c,d),s=f):(ci=s,s=kt)):(ci=s,s=kt)):(ci=s,s=kt),s===kt&&(s=null),s!==kt?(f=Q(),f!==kt?(123===e.charCodeAt(ci)?(d=Lt,ci++):(d=kt,0===di&&l(St)),d!==kt?(h=Q(),h!==kt?(p=v(),p===kt&&(p=null),p!==kt?(g=Q(),g!==kt?(125===e.charCodeAt(ci)?(m=Et,ci++):(m=kt,0===di&&l(Pt)),m!==kt?(b=Q(),b!==kt?(ui=t,r=_e(n,i,c,s,p),t=r):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt),t}function S(){var t;return di++,e.substr(ci,3)===Le?(t=Le,ci+=3):(t=kt,0===di&&l(Se)),t===kt&&(e.substr(ci,3)===Ee?(t=Ee,ci+=3):(t=kt,0===di&&l(Pe))),di--,t===kt&&(kt,0===di&&l(Te)),t}function E(){var t;return di++,e.substr(ci,3)===Be?(t=Be,ci+=3):(t=kt,0===di&&l(De)),di--,t===kt&&(kt,0===di&&l(Fe)),t}function P(){var t,e;return t=ci,e=F(),e===kt&&(e=B())===kt&&(e=D())===kt&&(e=I()),e!==kt&&(ui=t,e=Ie(e)),t=e}function F(){var t;return di++,e.substr(ci,2)===Me?(t=Me,ci+=2):(t=kt,0===di&&l(Ne)),t===kt&&(e.substr(ci,3)===Oe?(t=Oe,ci+=3):(t=kt,0===di&&l(He)),t===kt&&(e.substr(ci,2)===We?(t=We,ci+=2):(t=kt,0===di&&l(Re)),t===kt&&(e.substr(ci,5)===ze?(t=ze,ci+=5):(t=kt,0===di&&l(Ge)),t===kt&&(e.substr(ci,3)===Xe?(t=Xe,ci+=3):(t=kt,0===di&&l(Ue)),t===kt&&(e.substr(ci,2)===Ve?(t=Ve,ci+=2):(t=kt,0===di&&l(qe)),t===kt&&(e.substr(ci,4)===Ke?(t=Ke,ci+=4):(t=kt,0===di&&l(Ye)),t===kt&&(e.substr(ci,2)===Ze?(t=Ze,ci+=2):(t=kt,0===di&&l($e)),t===kt&&(e.substr(ci,3)===Je?(t=Je,ci+=3):(t=kt,0===di&&l(Qe)))))))))),di--,t===kt&&(kt,0===di&&l(je)),t}function B(){var t;return di++,e.substr(ci,2)===er?(t=er,ci+=2):(t=kt,0===di&&l(rr)),t===kt&&(e.substr(ci,3)===nr?(t=nr,ci+=3):(t=kt,0===di&&l(or)),t===kt&&(e.substr(ci,2)===ir?(t=ir,ci+=2):(t=kt,0===di&&l(ar)),t===kt&&(e.substr(ci,2)===cr?(t=cr,ci+=2):(t=kt,0===di&&l(ur)),t===kt&&(e.substr(ci,2)===sr?(t=sr,ci+=2):(t=kt,0===di&&l(lr)),t===kt&&(e.substr(ci,2).toLowerCase()===fr?(t=e.substr(ci,2),ci+=2):(t=kt,0===di&&l(dr))))))),di--,t===kt&&(kt,0===di&&l(tr)),t}function D(){var t;return di++,e.substr(ci,2)===pr?(t=pr,ci+=2):(t=kt,0===di&&l(gr)),t===kt&&(e.substr(ci,3)===mr?(t=mr,ci+=3):(t=kt,0===di&&l(br)),t===kt&&(e.substr(ci,2)===xr?(t=xr,ci+=2):(t=kt,0===di&&l(yr)),t===kt&&(e.substr(ci,2)===vr?(t=vr,ci+=2):(t=kt,0===di&&l(wr)),t===kt&&(e.substr(ci,2)===Cr?(t=Cr,ci+=2):(t=kt,0===di&&l(Ar)),t===kt&&(e.substr(ci,2).toLowerCase()===kr?(t=e.substr(ci,2),ci+=2):(t=kt,0===di&&l(_r))))))),di--,t===kt&&(kt,0===di&&l(hr)),t}function I(){var t;return di++,e.substr(ci,4).toLowerCase()===Lr?(t=e.substr(ci,4),ci+=4):(t=kt,0===di&&l(Sr)),t===kt&&(e.substr(ci,4).toLowerCase()===Er?(t=e.substr(ci,4),ci+=4):(t=kt,0===di&&l(Pr)),t===kt&&(e.substr(ci,4).toLowerCase()===Fr?(t=e.substr(ci,4),ci+=4):(t=kt,0===di&&l(Br)),t===kt&&(e.substr(ci,3).toLowerCase()===Dr?(t=e.substr(ci,3),ci+=3):(t=kt,0===di&&l(Ir))))),di--,t===kt&&(kt,0===di&&l(Tr)),t}function j(){var t,r;return di++,t=ci,e.substr(ci,3).toLowerCase()===Mr?(r=e.substr(ci,3),ci+=3):(r=kt,0===di&&l(Nr)),r===kt&&(e.substr(ci,4).toLowerCase()===Or?(r=e.substr(ci,4),ci+=4):(r=kt,0===di&&l(Hr)),r===kt&&(e.substr(ci,3).toLowerCase()===Wr?(r=e.substr(ci,3),ci+=3):(r=kt,0===di&&l(Rr)),r===kt&&(e.substr(ci,5).toLowerCase()===zr?(r=e.substr(ci,5),ci+=5):(r=kt,0===di&&l(Gr)),r===kt&&(e.substr(ci,3).toLowerCase()===Xr?(r=e.substr(ci,3),ci+=3):(r=kt,0===di&&l(Ur)),r===kt&&(e.substr(ci,3).toLowerCase()===Vr?(r=e.substr(ci,3),ci+=3):(r=kt,0===di&&l(qr)),r===kt&&(e.substr(ci,6).toLowerCase()===Kr?(r=e.substr(ci,6),ci+=6):(r=kt,0===di&&l(Yr)),r===kt&&(e.substr(ci,3).toLowerCase()===Zr?(r=e.substr(ci,3),ci+=3):(r=kt,0===di&&l($r)),r===kt&&(e.substr(ci,8).toLowerCase()===Jr?(r=e.substr(ci,8),ci+=8):(r=kt,0===di&&l(Qr)),r===kt&&(e.substr(ci,6).toLowerCase()===tn?(r=e.substr(ci,6),ci+=6):(r=kt,0===di&&l(en)),r===kt&&(e.substr(ci,8).toLowerCase()===rn?(r=e.substr(ci,8),ci+=8):(r=kt,0===di&&l(nn)),r===kt&&(e.substr(ci,6).toLowerCase()===on?(r=e.substr(ci,6),ci+=6):(r=kt,0===di&&l(an)),r===kt&&(e.substr(ci,4).toLowerCase()===cn?(r=e.substr(ci,4),ci+=4):(r=kt,0===di&&l(un)),r===kt&&(e.substr(ci,3).toLowerCase()===sn?(r=e.substr(ci,3),ci+=3):(r=kt,0===di&&l(ln)),r===kt&&(e.substr(ci,3).toLowerCase()===fn?(r=e.substr(ci,3),ci+=3):(r=kt,0===di&&l(dn)))))))))))))))),r!==kt&&(ui=t,r=hn(r)),t=r,di--,t===kt&&(r=kt,0===di&&l(jr)),t}function M(){var t,r,n,o,i,a;for(t=ci,r=ci,n=[],o=ci,i=N(),i!==kt?(44===e.charCodeAt(ci)?(a=Nt,ci++):(a=kt,0===di&&l(Ot)),a!==kt?(ui=o,i=pe(i),o=i):(ci=o,o=kt)):(ci=o,o=kt);o!==kt;)n.push(o),o=ci,i=N(),i!==kt?(44===e.charCodeAt(ci)?(a=Nt,ci++):(a=kt,0===di&&l(Ot)),a!==kt?(ui=o,i=pe(i),o=i):(ci=o,o=kt)):(ci=o,o=kt);return n!==kt?(o=ci,i=N(),i!==kt&&(ui=o,i=pe(i)),o=i,o!==kt?(n=[n,o],r=n):(ci=r,r=kt)):(ci=r,r=kt),r!==kt&&(ui=t,r=pn(r)),t=r}function N(){var t,r,n,o,i,a,c,u;return t=ci,r=Q(),r!==kt?(n=O(),n!==kt?(o=Q(),o!==kt?(61===e.charCodeAt(ci)?(i=Kt,ci++):(i=kt,0===di&&l(Yt)),i!==kt?(a=Q(),a!==kt?(c=R(),c!==kt?(u=Q(),u!==kt?(ui=t,r=gn(n,c),t=r):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt),t}function O(){var t;return di++,e.substr(ci,5).toLowerCase()===bn?(t=e.substr(ci,5),ci+=5):(t=kt,0===di&&l(xn)),t===kt&&(e.substr(ci,5).toLowerCase()===yn?(t=e.substr(ci,5),ci+=5):(t=kt,0===di&&l(vn)),t===kt&&(e.substr(ci,2).toLowerCase()===wn?(t=e.substr(ci,2),ci+=2):(t=kt,0===di&&l(Cn)),t===kt&&(e.substr(ci,3).toLowerCase()===An?(t=e.substr(ci,3),ci+=3):(t=kt,0===di&&l(kn)),t===kt&&(e.substr(ci,9).toLowerCase()===_n?(t=e.substr(ci,9),ci+=9):(t=kt,0===di&&l(Tn)),t===kt&&(e.substr(ci,10).toLowerCase()===Ln?(t=e.substr(ci,10),ci+=10):(t=kt,0===di&&l(Sn)),t===kt&&(e.substr(ci,9).toLowerCase()===En?(t=e.substr(ci,9),ci+=9):(t=kt,0===di&&l(Pn)),t===kt&&(e.substr(ci,10).toLowerCase()===Fn?(t=e.substr(ci,10),ci+=10):(t=kt,0===di&&l(Bn)),t===kt&&(e.substr(ci,11).toLowerCase()===Dn?(t=e.substr(ci,11),ci+=11):(t=kt,0===di&&l(In)),t===kt&&(e.substr(ci,12).toLowerCase()===jn?(t=e.substr(ci,12),ci+=12):(t=kt,0===di&&l(Mn)),t===kt&&(e.substr(ci,12).toLowerCase()===Nn?(t=e.substr(ci,12),ci+=12):(t=kt,0===di&&l(On)),t===kt&&(e.substr(ci,13).toLowerCase()===Hn?(t=e.substr(ci,13),ci+=13):(t=kt,0===di&&l(Wn)),t===kt&&(e.substr(ci,12).toLowerCase()===Rn?(t=e.substr(ci,12),ci+=12):(t=kt,0===di&&l(zn)),t===kt&&(e.substr(ci,13).toLowerCase()===Gn?(t=e.substr(ci,13),ci+=13):(t=kt,0===di&&l(Xn)),t===kt&&(e.substr(ci,14).toLowerCase()===Un?(t=e.substr(ci,14),ci+=14):(t=kt,0===di&&l(Vn)),t===kt&&(e.substr(ci,15).toLowerCase()===qn?(t=e.substr(ci,15),ci+=15):(t=kt,0===di&&l(Kn)),t===kt&&(e.substr(ci,7).toLowerCase()===Yn?(t=e.substr(ci,7),ci+=7):(t=kt,0===di&&l(Zn)),t===kt&&(e.substr(ci,5).toLowerCase()===$n?(t=e.substr(ci,5),ci+=5):(t=kt,0===di&&l(Jn))))))))))))))))))),di--,t===kt&&(kt,0===di&&l(mn)),t}function H(){var t,r,n,o;return di++,t=ci,34===e.charCodeAt(ci)?(r=to,ci++):(r=kt,0===di&&l(eo)),r!==kt?(n=W(),n!==kt?(34===e.charCodeAt(ci)?(o=to,ci++):(o=kt,0===di&&l(eo)),o!==kt?(ui=t,r=ro(n),t=r):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt),di--,t===kt&&(r=kt,0===di&&l(Qn)),t}function W(){var t,r,n,o;for(t=[],r=ci,n=ci,di++,34===e.charCodeAt(ci)?(o=to,ci++):(o=kt,0===di&&l(eo)),di--,o===kt?n=void 0:(ci=n,n=kt),n!==kt?(e.substr(ci,2)===no?(o=no,ci+=2):(o=kt,0===di&&l(oo)),o===kt&&(e.length>ci?(o=e.charAt(ci),ci++):(o=kt,0===di&&l(io))),o!==kt?(ui=r,n=ao(o),r=n):(ci=r,r=kt)):(ci=r,r=kt);r!==kt;)t.push(r),r=ci,n=ci,di++,34===e.charCodeAt(ci)?(o=to,ci++):(o=kt,0===di&&l(eo)),di--,o===kt?n=void 0:(ci=n,n=kt),n!==kt?(e.substr(ci,2)===no?(o=no,ci+=2):(o=kt,0===di&&l(oo)),o===kt&&(e.length>ci?(o=e.charAt(ci),ci++):(o=kt,0===di&&l(io))),o!==kt?(ui=r,n=ao(o),r=n):(ci=r,r=kt)):(ci=r,r=kt);return t}function R(){var t;return di++,t=z(),t===kt&&(t=H()),di--,t===kt&&(kt,0===di&&l(co)),t}function z(){var t,r,n;if(t=ci,r=[],uo.test(e.charAt(ci))?(n=e.charAt(ci),ci++):(n=kt,0===di&&l(so)),n!==kt)for(;n!==kt;)r.push(n),uo.test(e.charAt(ci))?(n=e.charAt(ci),ci++):(n=kt,0===di&&l(so));else r=kt;return r!==kt&&(ui=t,r=lo(r)),t=r}function G(){var t,r;return di++,t=ci,ho.test(e.charAt(ci))?(r=e.charAt(ci),ci++):(r=kt,0===di&&l(po)),r!==kt&&(ui=t,r=ao(r)),t=r,di--,t===kt&&(r=kt,0===di&&l(fo)),t}function X(){var t,r;return di++,t=ci,mo.test(e.charAt(ci))?(r=e.charAt(ci),ci++):(r=kt,0===di&&l(bo)),r!==kt&&(ui=t,r=ao(r)),t=r,di--,t===kt&&(r=kt,0===di&&l(go)),t}function U(){var t;return e.substr(ci,2)===xo?(t=xo,ci+=2):(t=kt,0===di&&l(yo)),t}function V(){var t;return e.substr(ci,2)===vo?(t=vo,ci+=2):(t=kt,0===di&&l(wo)),t}function q(){var t,r,n;return t=ci,r=ci,di++,e.substr(ci,2)===vo?(n=vo,ci+=2):(n=kt,0===di&&l(wo)),di--,n===kt?r=void 0:(ci=r,r=kt),r!==kt?(e.length>ci?(n=e.charAt(ci),ci++):(n=kt,0===di&&l(io)),n!==kt?(ui=t,r=ao(n),t=r):(ci=t,t=kt)):(ci=t,t=kt),t}function K(){var t,e,r,n;if(t=ci,(e=U())!==kt){for(r=[],n=q();n!==kt;)r.push(n),n=q();r!==kt?(n=V(),n!==kt?(ui=t,e=Co(e,r,n),t=e):(ci=t,t=kt)):(ci=t,t=kt)}else ci=t,t=kt;return t}function Y(){var t;return e.substr(ci,2)===Ao?(t=Ao,ci+=2):(t=kt,0===di&&l(ko)),t===kt&&(35===e.charCodeAt(ci)?(t=_o,ci++):(t=kt,0===di&&l(To))),t}function Z(){var t;return Lo.test(e.charAt(ci))?(t=e.charAt(ci),ci++):(t=kt,0===di&&l(So)),t}function $(){var t,e,r,n;if(t=ci,(e=Y())!==kt){for(r=[],n=Z();n!==kt;)r.push(n),n=Z();r!==kt?(ui=t,e=Eo(e,r),t=e):(ci=t,t=kt)}else ci=t,t=kt;return t}function J(){var t;return di++,t=$(),t===kt&&(t=K()),di--,t===kt&&(kt,0===di&&l(Po)),t}function Q(){var t,e;for(t=[],e=G(),e===kt&&(e=X())===kt&&(e=J());e!==kt;)t.push(e),(e=G())===kt&&(e=X())===kt&&(e=J());return t}function tt(){var t,e;return di++,t=ci,e=et(),e!==kt&&(ui=t,e=Bo(e)),t=e,t===kt&&(t=ci,e=rt(),e!==kt&&(ui=t,e=Do(e)),t=e),di--,t===kt&&(e=kt,0===di&&l(Fo)),t}function et(){var t,r,n,o;return t=ci,34===e.charCodeAt(ci)?(r=to,ci++):(r=kt,0===di&&l(eo)),r!==kt?(n=rt(),n!==kt?(34===e.charCodeAt(ci)?(o=to,ci++):(o=kt,0===di&&l(eo)),o!==kt?(ui=t,r=Io(n),t=r):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt),t}function rt(){var t;return t=ot(),t===kt&&(t=nt()),t}function nt(){var t,r,n;if(t=ci,r=[],jo.test(e.charAt(ci))?(n=e.charAt(ci),ci++):(n=kt,0===di&&l(Mo)),n!==kt)for(;n!==kt;)r.push(n),jo.test(e.charAt(ci))?(n=e.charAt(ci),ci++):(n=kt,0===di&&l(Mo));else r=kt;return r!==kt&&(ui=t,r=No(r)),t=r}function ot(){var t,r,n,o,i;return t=ci,r=ci,n=nt(),n!==kt?(46===e.charCodeAt(ci)?(o=Oo,ci++):(o=kt,0===di&&l(Ho)),o!==kt?(i=nt(),i!==kt?(n=[n,o,i],r=n):(ci=r,r=kt)):(ci=r,r=kt)):(ci=r,r=kt),r!==kt&&(ui=t,r=Wo(r)),t=r}function it(){var t,e;return di++,t=ci,e=at(),e!==kt&&(ui=t,e=zo(e)),t=e,t===kt&&(t=ci,e=ct(),e!==kt&&(ui=t,e=Go(e)),t=e),di--,t===kt&&(e=kt,0===di&&l(Ro)),t}function at(){var t,r,n,o;return t=ci,34===e.charCodeAt(ci)?(r=to,ci++):(r=kt,0===di&&l(eo)),r!==kt?(n=ct(),n!==kt?(34===e.charCodeAt(ci)?(o=to,ci++):(o=kt,0===di&&l(eo)),o!==kt?(ui=t,r=Bo(n),t=r):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt),t}function ct(){var t;return e.substr(ci,4).toLowerCase()===Xo?(t=e.substr(ci,4),ci+=4):(t=kt,0===di&&l(Uo)),t===kt&&(e.substr(ci,5).toLowerCase()===Vo?(t=e.substr(ci,5),ci+=5):(t=kt,0===di&&l(qo)),t===kt&&(e.substr(ci,2).toLowerCase()===Ko?(t=e.substr(ci,2),ci+=2):(t=kt,0===di&&l(Yo)),t===kt&&(e.substr(ci,3).toLowerCase()===Zo?(t=e.substr(ci,3),ci+=3):(t=kt,0===di&&l($o)),t===kt&&(48===e.charCodeAt(ci)?(t=Jo,ci++):(t=kt,0===di&&l(Qo)),t===kt&&(49===e.charCodeAt(ci)?(t=ti,ci++):(t=kt,0===di&&l(ei))))))),t}function ut(){var t;return di++,t=st(),t===kt&&(t=lt()),di--,t===kt&&(kt,0===di&&l(ri)),t}function st(){var t,r,n,o;return t=ci,34===e.charCodeAt(ci)?(r=to,ci++):(r=kt,0===di&&l(eo)),r!==kt?(n=lt(),n!==kt?(34===e.charCodeAt(ci)?(o=to,ci++):(o=kt,0===di&&l(eo)),o!==kt?(ui=t,r=Bo(n),t=r):(ci=t,t=kt)):(ci=t,t=kt)):(ci=t,t=kt),t}function lt(){var t,r;return t=ci,r=rt(),r!==kt&&(ui=t,r=ni(r)),t=r,t===kt&&(t=ci,e.substr(ci,4).toLowerCase()===oi?(r=e.substr(ci,4),ci+=4):(r=kt,0===di&&l(ii)),r!==kt&&(ui=t,r=ai(r)),t=r),t}function ft(t,e){return t=t||{},e&&Object.getOwnPropertyNames(e).forEach(function(r){t[r]=e[r]}),t}function dt(t){var e={};return t.forEach(function(t){e=ft(e,t)}),e}function ht(t){return["true","on","1"].indexOf(t.toLowerCase())>-1}function pt(t,e){var r={};return r[t.toLowerCase()]=e,r}function gt(t,e){return void 0===e||"*"===e||t.some(function(t){return t.name===e})}function mt(t){return["box","abox","rbox","note","msc","hscale","width","arcgradient","wordwraparcs","label","color","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"].indexOf(t)>-1}function bt(t,e){return"Entity '"+t+"' in arc '"+e.from+" "+e.kind+" "+e.to+"' is not defined."}function xt(t,e){this.name="EntityNotDefinedError",this.message=bt(t,e),e.location&&(this.location=e.location,this.location.start.line++,this.location.end.line++)}function yt(t,e){return t||(t=[]),e&&e.forEach(function(e){e.forEach(function(e){if(e.from&&!gt(t,e.from))throw new xt(e.from,e);if(e.to&&!gt(t,e.to))throw new xt(e.to,e);e.location&&delete e.location,e.arcs&&yt(t,e.arcs)})}),t}function vt(t){return!!t&&(!!t.watermark||!!t.width&&"auto"===!!t.width)}function wt(t){return!!t&&t.some(function(t){return t.some(function(t){return["alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"].indexOf(t.kind)>-1})})}function Ct(t,e){var r=vt(t),n=wt(e);return{extendedOptions:r,extendedArcTypes:n,extendedFeatures:r||n}}r=void 0!==r?r:{};var At,kt={},_t={program:h},Tt=h,Lt="{",St=i("{",!1),Et="}",Pt=i("}",!1),Ft=function(t,e){e.entities=yt(e.entities,e.arcs);var r=e;return r=ft({meta:Ct(e.options,e.arcs)},r),t.length>0&&(r=ft({precomment:t},r)),r},Bt="msc",Dt=i("msc",!0),It="xu",jt=i("xu",!0),Mt=function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n},Nt=",",Ot=i(",",!1),Ht=function(t){return t},Wt=";",Rt=i(";",!1),zt=function(t){return dt(t[0].concat(t[1]))},Gt=c("option"),Xt="hscale",Ut=i("hscale",!0),Vt="arcgradient",qt=i("arcgradient",!0),Kt="=",Yt=i("=",!1),Zt=function(t,e){return pt(t,e)},$t="width",Jt=i("width",!0),Qt="wordwraparcs",te=i("wordwraparcs",!0),ee=function(t,e){return pt(t,ht(e))},re="watermark",ne=i("watermark",!0),oe=function(t){return t},ie=function(t){return t[0].concat(t[1])},ae=c("entity"),ce="[",ue=i("[",!1),se="]",le=i("]",!1),fe=function(t,e){return e},de=function(t,e){return ft({name:t},e)},he=function(t,e){return mt(t)&&o("MscGen keywords aren't allowed as entity names (embed them in quotes if you need them)"),ft({name:t},e)},pe=function(t){return t},ge=function(t){return t[0].concat(t[1])},me=function(t,e){return e},be=function(t,e){return ft(t,e)},xe=function(t){return{kind:t}},ye=function(t,e,r){return{kind:e,from:t,to:r,location:n()}},ve="*",we=i("*",!1),Ce=function(t,e){return{kind:t,from:"*",to:e,location:n()}},Ae=function(t,e){return{kind:e,from:t,to:"*",location:n()}},ke=function(t,e,r,n){return n},_e=function(t,e,r,o,i){return ft({kind:e,from:t,to:r,location:n(),arcs:i},o)},Te=c("empty row"),Le="|||",Se=i("|||",!1),Ee="...",Pe=i("...",!1),Fe=c("---"),Be="---",De=i("---",!1),Ie=function(t){return t.toLowerCase()},je=c("bi-directional arrow"),Me="--",Ne=i("--",!1),Oe="<->",He=i("<->",!1),We="==",Re=i("==",!1),ze="<<=>>",Ge=i("<<=>>",!1),Xe="<=>",Ue=i("<=>",!1),Ve="..",qe=i("..",!1),Ke="<<>>",Ye=i("<<>>",!1),Ze="::",$e=i("::",!1),Je="<:>",Qe=i("<:>",!1),tr=c("left to right arrow"),er="->",rr=i("->",!1),nr="=>>",or=i("=>>",!1),ir="=>",ar=i("=>",!1),cr=">>",ur=i(">>",!1),sr=":>",lr=i(":>",!1),fr="-x",dr=i("-x",!0),hr=c("right to left arrow"),pr="<-",gr=i("<-",!1),mr="<<=",br=i("<<=",!1),xr="<=",yr=i("<=",!1),vr="<<",wr=i("<<",!1),Cr="<:",Ar=i("<:",!1),kr="x-",_r=i("x-",!0),Tr=c("box"),Lr="note",Sr=i("note",!0),Er="abox",Pr=i("abox",!0),Fr="rbox",Br=i("rbox",!0),Dr="box",Ir=i("box",!0),jr=c("inline expression"),Mr="alt",Nr=i("alt",!0),Or="else",Hr=i("else",!0),Wr="opt",Rr=i("opt",!0),zr="break",Gr=i("break",!0),Xr="par",Ur=i("par",!0),Vr="seq",qr=i("seq",!0),Kr="strict",Yr=i("strict",!0),Zr="neg",$r=i("neg",!0),Jr="critical",Qr=i("critical",!0),tn="ignore",en=i("ignore",!0),rn="consider",nn=i("consider",!0),on="assert",an=i("assert",!0),cn="loop",un=i("loop",!0),sn="ref",ln=i("ref",!0),fn="exc",dn=i("exc",!0),hn=function(t){return t.toLowerCase()},pn=function(t){return dt(t[0].concat(t[1]))},gn=function(t,e){var r={};return r[t.toLowerCase().replace("colour","color")]=e,r},mn=c("attribute name"),bn="label",xn=i("label",!0),yn="idurl",vn=i("idurl",!0),wn="id",Cn=i("id",!0),An="url",kn=i("url",!0),_n="linecolor",Tn=i("linecolor",!0),Ln="linecolour",Sn=i("linecolour",!0),En="textcolor",Pn=i("textcolor",!0),Fn="textcolour",Bn=i("textcolour",!0),Dn="textbgcolor",In=i("textbgcolor",!0),jn="textbgcolour",Mn=i("textbgcolour",!0),Nn="arclinecolor",On=i("arclinecolor",!0),Hn="arclinecolour",Wn=i("arclinecolour",!0),Rn="arctextcolor",zn=i("arctextcolor",!0),Gn="arctextcolour",Xn=i("arctextcolour",!0),Un="arctextbgcolor",Vn=i("arctextbgcolor",!0),qn="arctextbgcolour",Kn=i("arctextbgcolour",!0),Yn="arcskip",Zn=i("arcskip",!0),$n="title",Jn=i("title",!0),Qn=c("double quoted string"),to='"',eo=i('"',!1),ro=function(t){return t.join("")},no='\\"',oo=i('\\"',!1),io=function(){return{type:"any"}}(),ao=function(t){return t},co=c("identifier"),uo=/^[A-Za-z_0-9]/,so=a([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),lo=function(t){return t.join("")},fo=c("whitespace"),ho=/^[ \t]/,po=a([" ","\t"],!1,!1),go=c("lineend"),mo=/^[\r\n]/,bo=a(["\r","\n"],!1,!1),xo="/*",yo=i("/*",!1),vo="*/",wo=i("*/",!1),Co=function(t,e,r){return t+e.join("")+r},Ao="//",ko=i("//",!1),_o="#",To=i("#",!1),Lo=/^[^\r\n]/,So=a(["\r","\n"],!0,!1),Eo=function(t,e){return t+e.join("")},Po=c("comment"),Fo=c("number"),Bo=function(t){return t},Do=function(t){return t.toString()},Io=function(t){return t.toString()},jo=/^[0-9]/,Mo=a([["0","9"]],!1,!1),No=function(t){return parseInt(t.join(""),10)},Oo=".",Ho=i(".",!1),Wo=function(t){return parseFloat(t.join(""))},Ro=c("boolean"),zo=function(t){return t},Go=function(t){return t.toString()},Xo="true",Uo=i("true",!0),Vo="false",qo=i("false",!0),Ko="on",Yo=i("on",!0),Zo="off",$o=i("off",!0),Jo="0",Qo=i("0",!1),ti="1",ei=i("1",!1),ri=c("size"),ni=function(t){return t.toString()},oi="auto",ii=i("auto",!0),ai=function(t){return t.toLowerCase()},ci=0,ui=0,si=[{line:1,column:1}],li=0,fi=[],di=0;if("startRule"in r){if(!(r.startRule in _t))throw new Error("Can't start parsing from rule \""+r.startRule+'".');Tt=_t[r.startRule]}if((At=Tt())!==kt&&ci===e.length)return At;throw At!==kt&&ci<e.length&&l(function(){return{type:"end"}}()),d(fi,li<e.length?e.charAt(li):null,li<e.length?s(li,li+1):s(li,li))}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(t,Error),t.buildMessage=function(t,e){function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function n(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+r(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+r(t)})}function i(t){return a[t.type](t)}var a={literal:function(t){return'"'+n(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?o(t.parts[e][0])+"-"+o(t.parts[e][1]):o(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};return"Expected "+function(t){var e,r,n=new Array(t.length);for(e=0;e<t.length;e++)n[e]=i(t[e]);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+n(t)+'"':"end of input"}(e)+" found."},{SyntaxError:t,parse:e}})},function(t,e,r){var n;void 0!==(n=function(t){"use strict";function e(t,e,r,n){var c=Object.seal(R.flatten(t)),u=n||{};u=Z.defaults(u,{source:null,styleAdditions:null,mirrorEntitiesOnBottom:!1,regularArcTextVerticalAlignment:"middle"}),o(c,e,r,u),i(c),a(c);var s=e.document.getElementById(r);return s?O.webkitNamespaceBugWorkaround(s.innerHTML):O.webkitNamespaceBugWorkaround(e.document.body.innerHTML)}function n(t){var e="middle";return["above","middle","below"].some(function(e){return e===t})&&(e=t),e}function o(t,e,r,o){U.setPrefix(r),tt.document=W.bootstrap(e,r,U.get(),V.getMarkerDefs(U.get(),t),o),tt.mirrorEntitiesOnBottom=Boolean(o.mirrorEntitiesOnBottom),tt.regularArcTextVerticalAlignment=n(o.regularArcTextVerticalAlignment),O.init(tt.document),tt.layer=c(tt.document),tt.maxDepth=t.depth,s(tt,t.options)}function i(t){x(t.entities),X.clear(q.getDims().height,tt.arcRowHeight),A(t.arcs,t.entities),tt.mirrorEntitiesOnBottom&&b(t.entities)}function a(t){var e=l(t);f(e),e=h(t.options,e),p(e)}function c(t){return{lifeline:t.getElementById(U.get("__lifelinelayer")),sequence:t.getElementById(U.get("__sequencelayer")),notes:t.getElementById(U.get("__notelayer")),inline:t.getElementById(U.get("__arcspanlayer")),watermark:t.getElementById(U.get("__watermark"))}}function u(t,e){t.arcRowHeight=J,t.arcGradient=Q,t.wordWrapArcs=!1,e&&(e.arcgradient&&(t.arcRowHeight=parseInt(e.arcgradient,10)+J,t.arcGradient=parseInt(e.arcgradient,10)+Q),t.wordWrapArcs=Boolean(e.wordwraparcs))}function s(t,e){q.init(e&&e.hscale),u(t,e)}function l(t){var e=H.determineDepthCorrection(t.depth,Y.LINE_WIDTH),r=X.getLast(),n={width:t.entities.length*q.getDims().interEntitySpacing+e,height:Boolean(tt.mirrorEntitiesOnBottom)?2*q.getDims().height+r.y+r.height+2*$:r.y+r.height/2+2*$,horizontaltransform:(q.getDims().interEntitySpacing+e-q.getDims().width)/2,autoscale:!!t.options&&!!t.options.width&&"auto"===t.options.width,verticaltransform:$,scale:1};return n.x=0-n.horizontaltransform,n.y=0-n.verticaltransform,n}function f(t){tt.document.getElementById(U.get("__background")).appendChild(N.createRect(t,"bglayer"))}function d(t,e){tt.layer.watermark.appendChild(N.createDiagonalText(t,e,"watermark"))}function h(t,e){return t&&(t.watermark&&d(t.watermark,e),t.width&&"auto"!==t.width&&(e=H.scaleCanvasToWidth(t.width,e))),e}function p(t){var e=tt.document.getElementById(U.get());tt.document.getElementById(U.get("__body")).setAttribute("transform","translate("+t.horizontaltransform+","+t.verticaltransform+") scale("+t.scale+","+t.scale+")"),t.autoscale&&t.autoscale===!0?N.updateSVG(e,{width:"100%",height:"100%",viewBox:"0 0 "+t.width.toString()+" "+t.height.toString()}):N.updateSVG(e,{width:t.width.toString(),height:t.height.toString(),viewBox:"0 0 "+t.width.toString()+" "+t.height.toString()})}function g(t){var e=t[0],r=2;return t.forEach(function(t){var n=q.getNoEntityLines(t.label,Y.FONT_SIZE);n>r&&(r=n,e=t)}),r>2?Math.max(q.getDims().height,O.getBBox(m(e)).height):q.getDims().height}function m(t,e){var r=N.createGroup(),n=q.getDims();return n.x=e?e:0,r.appendChild(N.createRect(n,"entity",t.linecolor,t.textbgcolor)),r.appendChild(K.createLabel(t,{x:n.x,y:n.height/2,width:n.width},{kind:"entity"})),r}function b(t){var e=X.getLast().y+(X.getLast().height+tt.arcRowHeight)/2;L(t,"arcrow",null,e).forEach(function(t){tt.layer.lifeline.appendChild(t)}),tt.layer.sequence.appendChild(N.createUse({x:0,y:e+tt.arcRowHeight/2},U.get("entities")))}function x(t){var e=0,r=N.createGroup(U.get("entities"));t&&(q.setHeight(g(t)+2*Y.LINE_WIDTH),t.forEach(function(t){r.appendChild(m(t,e)),q.setX(t,e),e+=q.getDims().interEntitySpacing}),tt.layer.sequence.appendChild(r)),tt.arcEndX=e-q.getDims().interEntitySpacing+q.getDims().width}function y(t,e,r,n){var o=0,i=t.label,a=q.getX(t.from);t.label="",e.forEach(function(e){var i={};e.name!==t.from&&(o=q.getX(e.name),i=B(t,a,o,n),r.push({layer:tt.layer.sequence,element:i}))}),t.label=i}function v(t,e,r,n){var o={};return t.from&&t.to&&("*"===t.to?(y(t,e,r,n),o=K.createLabel(t,{x:0,y:n,width:tt.arcEndX},{alignAround:!0,ownBackground:!0,wordWrapArcs:tt.wordWrapArcs}),r.push({title:t.title,layer:tt.layer.sequence,element:o})):(o=B(t,q.getX(t.from),q.getX(t.to),n),r.push({title:t.title,layer:tt.layer.sequence,element:o}))),o}function w(t,e,r){var n=0;return t.forEach(function(t){var e={};switch(G.getAggregate(t.kind)){case"emptyarc":e=E(t,0);break;case"box":e=M(q.getOAndD(t.from,t.to),t,0);break;case"inline_expression":e=k(t,0);break;default:e=v(t,r,[],0)}n=Math.max(n,O.getBBox(e).height+2*Y.LINE_WIDTH)}),n}function C(t,e,r){var n="arcrow",o=[];X.set(e,Math.max(X.get(e).height,w(t,e,r))),t.forEach(function(t){var i={};switch(G.getAggregate(t.kind)){case"emptyarc":i=E(t,X.get(e).y),"..."===t.kind&&(n="arcrowomit"),o.push({layer:tt.layer.sequence,element:i});break;case"box":i=M(q.getOAndD(t.from,t.to),t,X.get(e).y),o.push({title:t.title,layer:tt.layer.notes,element:i});break;case"inline_expression":i=k(t,X.get(e).y),o.push({layer:tt.layer.notes,element:i}),et.push({arc:t,rownum:e});break;default:i=v(t,r,o,X.get(e).y)}}),L(r,n,X.get(e).height,X.get(e).y).forEach(function(t){tt.layer.lifeline.appendChild(t)}),o.forEach(function(t){t.element&&(t.title&&t.element.appendChild(N.createTitle(t.title)),t.layer.appendChild(t.element))})}function A(t,e){if(et=[],L(e,"arcrow",null,X.get(-1).y).forEach(function(t){tt.layer.lifeline.appendChild(t)}),t){for(var r=0;r<t.length;r++)C(t[r],r,e);_(et)}}function k(t,e){var r=q.getOAndD(t.from,t.to),n=e>0,o=2*tt.maxDepth*Y.LINE_WIDTH,i=r.to-r.from+(q.getDims().interEntitySpacing-2*Y.LINE_WIDTH)-7-Y.LINE_WIDTH,a=r.from-(q.getDims().interEntitySpacing-3*Y.LINE_WIDTH-o)/2-2*(tt.maxDepth-t.depth)*Y.LINE_WIDTH,c=N.createGroup();n||(t.label=t.kind+(t.label?": "+t.label:""));var u=K.createLabel(t,{x:a+Y.LINE_WIDTH-i/2,y:e+tt.arcRowHeight/4,width:i},{alignLeft:!0,ownBackground:!1,wordWrapArcs:tt.wordWrapArcs}),s=O.getBBox(u),l=Math.max(s.height+2*Y.LINE_WIDTH,tt.arcRowHeight/2-2*Y.LINE_WIDTH),f=Math.min(s.width+2*Y.LINE_WIDTH,i),d=N.createEdgeRemark({width:f-Y.LINE_WIDTH+7,height:l,x:a,y:e},"box inline_expression_label",t.linecolor,t.textbgcolor,7);return c.appendChild(d),c.appendChild(u),c}function _(t){t.forEach(function(t){tt.layer.inline.appendChild(T(t,X.get(t.rownum).y))})}function T(t,e){var r=X.get(t.rownum).y,n=X.get(t.rownum+t.arc.numberofrows+1).y,o=n-r;return t.arc.label="",j(q.getOAndD(t.arc.from,t.arc.to),t.arc,o,e)}function L(t,e,r,n){return(!r||r<tt.arcRowHeight)&&(r=tt.arcRowHeight),t.map(function(t){var o=N.createLine({xFrom:q.getX(t.name),yFrom:0-r/2+(n?n:0),xTo:q.getX(t.name),yTo:r/2+(n?n:0)},{class:e});return t.linecolor&&o.setAttribute("style","stroke:"+t.linecolor+";"),o})}function S(t,e,r,n,o,i){var a=tt.arcRowHeight/5*2,c=q.getDims().interEntitySpacing/2,u={},s="arc "+z.getAggregateClass(t)+" "+z.getClass(t);if(n){u=N.createGroup();var l=N.createUTurn({x:e,y:i},i+r+a-2*Y.LINE_WIDTH,c-2*Y.LINE_WIDTH,s,"::"!==t,a),f=N.createUTurn({x:e,y:i},i+r+a-Y.LINE_WIDTH,c,null,null,a),d=N.createUTurn({x:e,y:i},i+r+a,c,s,"::"!==t,a);Boolean(o)&&l.setAttribute("style","stroke:"+o),V.getAttributes(U.get(),t,o,e,e).forEach(function(t){f.setAttribute(t.name,t.value)}),f.setAttribute("style","stroke:transparent;"),Boolean(o)&&d.setAttribute("style","stroke:"+o),u.appendChild(l),u.appendChild(d),u.appendChild(f),u.setAttribute("class",s)}else u=N.createUTurn({x:e,y:i},i+r+a,c,s,"-x"===t,a),V.getAttributes(U.get(),t,o,e,e).forEach(function(t){u.setAttribute(t.name,t.value)});return u}function E(t,e){return"---"===t.kind?I(t,q.getOAndD(t.from,t.to),e):D(t,q.getOAndD(t.from,t.to),e)}function P(t){return t.arcskip?t.arcskip*tt.arcRowHeight:0}function F(t){return"<:>"===t?"bidi ":"::"===t?"nodi ":""}function B(t,e,r,n){var o=N.createGroup(),i="arc ";i+=F(t.kind),i+=z.getAggregateClass(t.kind)+" "+z.getClass(t.kind);var a=[":>","::","<:>"].indexOf(t.kind)>-1,c=P(t,n),u=0===c?tt.arcGradient:c;if(r=H.determineArcXTo(t.kind,e,r),e===r){o.appendChild(S(t.kind,e,c,a,t.linecolor,n));var s=2*q.getDims().interEntitySpacing/3;o.appendChild(K.createLabel(t,{x:e+1.5*Y.LINE_WIDTH-s/2,y:n-tt.arcRowHeight/5-Y.LINE_WIDTH/2,width:s},{alignLeft:!0,alignAbove:!0,ownBackground:!0,wordWrapArcs:tt.wordWrapArcs}))}else{var l=N.createLine({xFrom:e,yFrom:n,xTo:r,yTo:n+u},{class:i,doubleLine:a});V.getAttributes(U.get(),t.kind,t.linecolor,e,r).forEach(function(t){l.setAttribute(t.name,t.value)}),o.appendChild(l),o.appendChild(K.createLabel(t,{x:e,y:n,width:r-e},{alignAround:!0,alignAbove:"above"===tt.regularArcTextVerticalAlignment,ownBackground:!0,wordWrapArcs:tt.wordWrapArcs}))}return o}function D(t,e,r){var n=0,o=tt.arcEndX;return t.from&&t.to&&(n=e.from,o=e.to-e.from),K.createLabel(t,{x:n,y:r,width:o},{ownBackground:!0,wordWrapArcs:tt.wordWrapArcs})}function I(t,e,r){var n=0,o=tt.arcEndX,i="comment",a=N.createGroup();if(t.from&&t.to){var c=1*tt.maxDepth*Y.LINE_WIDTH,u=2*(tt.maxDepth-t.depth)*Y.LINE_WIDTH;n=e.from-(q.getDims().interEntitySpacing+2*Y.LINE_WIDTH)/2-(u-c),o=e.to+(q.getDims().interEntitySpacing+2*Y.LINE_WIDTH)/2+(u-c),i="inline_expression_divider"}var s=N.createLine({xFrom:n,yFrom:r,xTo:o,yTo:r},{class:i});return a.appendChild(s),a.appendChild(D(t,e,r)),t.linecolor&&s.setAttribute("style","stroke:"+t.linecolor+";"),a}function j(t,e,r,n){var o=2*tt.maxDepth*Y.LINE_WIDTH,i=t.to-t.from+q.getDims().interEntitySpacing-2*Y.LINE_WIDTH-o,a=t.from-(q.getDims().interEntitySpacing-2*Y.LINE_WIDTH-o)/2,c=2*(tt.maxDepth-e.depth)*Y.LINE_WIDTH;return N.createRect({width:i+2*c,height:r?r:tt.arcRowHeight-2*Y.LINE_WIDTH,x:a-c,y:n},"box inline_expression "+e.kind,e.linecolor,e.textbgcolor)}function M(t,e,r){var n=2*tt.maxDepth*Y.LINE_WIDTH,o=t.to-t.from+q.getDims().interEntitySpacing-2*Y.LINE_WIDTH-n,i=t.from-(q.getDims().interEntitySpacing-2*Y.LINE_WIDTH-n)/2,a=N.createGroup(),c={},u=K.createLabel(e,{x:i,y:r,width:o}),s=O.getBBox(u),l=Math.max(s.height+2*Y.LINE_WIDTH,tt.arcRowHeight-2*Y.LINE_WIDTH),f={width:o,height:l,x:i,y:r-l/2};switch(e.kind){case"rbox":c=N.createRBox(f,"box rbox",e.linecolor,e.textbgcolor);break;case"abox":c=N.createABox(f,"box abox",e.linecolor,e.textbgcolor);break;case"note":c=N.createNote(f,"box note",e.linecolor,e.textbgcolor);break;default:c=N.createRect(f,"box",e.linecolor,e.textbgcolor)}return a.appendChild(c),a.appendChild(u),a}var N=r(1),O=r(11),H=r(27),W=r(26),R=r(22),z=r(7),G=r(2),X=r(28),U=r(6),V=r(25),q=r(24),K=r(8),Y=r(3),Z=r(0),$=3,J=38,Q=0,tt=Object.seal({arcRowHeight:J,arcGradient:Q,arcEndX:0,wordWrapArcs:!1,mirrorEntitiesOnBottom:!1,regularArcTextVerticalAlignment:"middle",maxDepth:0,document:{},layer:{lifeline:{},sequence:{},notes:{},inline:{},watermark:{}}}),et=[];return{clean:function(t,e){tt.document=W.init(e),O.init(tt.document),O.removeRenderedSVGFromElement(t)},renderAST:function(t,r,n,o,i){return e(t,o,n,{source:r,styleAdditions:i})},renderASTNew:e}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n,o;n=[],void 0!==(o=function(){"use strict";return{ajax:function(t,e,r){var n=new XMLHttpRequest;n.onreadystatechange=function(t){t.target.readyState===XMLHttpRequest.DONE&&(200===n.status?e(t):r(t))},n.open("GET",t),n.responseType="text";try{n.send()}catch(t){r(t)}}}}.apply(e,n))&&(t.exports=o)},function(t,e,r){var n,o;n=[],void 0!==(o=function(){"use strict";function t(t,e,r){return t.pathname+"?lang="+r+"&msc="+encodeURIComponent(e)}function e(e,n,o){return t(e,n,o).length<r}var r=4094;return{toLocationString:function(r,n,o){var i="# source too long for an URL";return e(r,n,o)&&(i=n),t(r,i,o)}}}.apply(e,n))&&(t.exports=o)},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){var n;void 0!==(n=function(){"use strict";function t(t,e){t&&e&&t.forEach(function(t){e.forEach(function(e){e(t)})})}function e(t,e,r,n){n&&n.forEach(function(n){n(r,t,e)})}function r(t,r,o){r.forEach(function(i){e(t,r,i,o),i.arcs&&n(t,i.arcs,o)})}function n(t,e,n){t&&e&&n&&e.forEach(function(e){r(t,e,n)})}return{transform:function(e,r,o){return t(e.entities,r),n(e.entities,e.arcs,o),e}}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(t){"use strict";function e(t){void 0===t.label&&(t.label=t.name)}function n(t){Boolean(t.label)&&(t.label=b.unescapeString(t.label)),Boolean(t.id)&&(t.id=b.unescapeString(t.id))}function o(t){t.label=Boolean(t.label)?t.label:""}function i(t){if(t.kind&&g.getNormalizedKind(t.kind)!==t.kind){t.kind=g.getNormalizedKind(t.kind);var e=t.from;t.from=t.to,t.to=e}return t}function a(t,e){!t.linecolor&&e.arclinecolor&&(t.linecolor=e.arclinecolor),!t.textcolor&&e.arctextcolor&&(t.textcolor=e.arctextcolor),!t.textbgcolor&&e.arctextbgcolor&&(t.textbgcolor=e.arctextbgcolor)}function c(t,e){if(t&&t.from){var r=e.filter(function(e){return e.name===t.from});r.length>0&&a(t,r[0])}}function u(t){return t.arcs.reduce(function(t,e){return t+(Boolean(e[0].arcs)?u(e[0])+1:0)},t.arcs.length)}function s(t,e,r,n){var o=[],i=[],c=[];return t.forEach(function(t){if("inline_expression"===p.getAggregate(t.kind)){if(t.depth=e,Boolean(t.arcs)){var o=m.cloneDeep(t);o.numberofrows=u(o),delete o.arcs,i.push(o),t.arcs.forEach(function(t){c=c.concat(s(t,e+1,o.from,o.to)),t.forEach(function(t){a(t,o)})}),e>x&&(x=e)}else i.push(t);c.push([{kind:"|||",from:t.from,to:t.to}])}else r&&n&&"emptyarc"===p.getAggregate(t.kind)&&(t.from=r,t.to=n,t.depth=e),i.push(t)}),o.push(i),o.concat(c)}function l(t){var e={};return x=0,Boolean(t.options)&&(e.options=m.cloneDeep(t.options)),Boolean(t.entities)&&(e.entities=m.cloneDeep(t.entities)),e.arcs=[],t&&t.arcs&&t.arcs.forEach(function(t){s(t,0).forEach(function(t){e.arcs.push(t)})}),e.depth=x+1,e}function f(t,e){return t.filter(function(t){return e.from!==t.name}).map(function(t){return e.to=t.name,m.cloneDeep(e)})}function d(t){if(t.entities&&t.arcs){var e=[],r={};t.arcs.forEach(function(n,o){n.filter(function(t){return"*"===t.to}).forEach(function(i,a){r=m.cloneDeep(i),delete t.arcs[o][a],e=f(t.entities,r),n[a]=e.shift(),t.arcs[o]=n.concat(e)})})}return t}var h=r(21),p=r(2),g=r(5),m=r(0),b=r(34),x=0;return{swapRTLArc:i,unwind:l,explodeBroadcasts:d,flatten:function(t){return h.transform(l(t),[e,n],[i,c,n,o])},dotFlatten:function(t){return d(h.transform(t,[e],[i,c]))}}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(){"use strict";return{baseTemplate:"svg.<%=id%>{font-family:Helvetica,sans-serif;font-size:<%=fontSize%>px;font-weight:normal;font-style:normal;text-decoration:none;background-color:white;stroke:black;stroke-width:<%=lineWidth%>;color:black}.<%=id%> path, .<%=id%> rect{fill:none;color:black;stroke:black}.<%=id%> .label-text-background{fill:white;stroke:white;stroke-width:0}.<%=id%> .bglayer{fill:white;stroke:white;stroke-width:0}.<%=id%> line{stroke:black}.<%=id%> .return, .<%=id%> .comment{stroke-dasharray:5,3}.<%=id%> .inline_expression_divider{stroke-dasharray:10,5}.<%=id%> text{color:inherit;stroke:none;text-anchor:middle}.<%=id%> text.entity-text{text-decoration:underline}.<%=id%> text.anchor-start{text-anchor:start}.<%=id%> .arrow-marker{overflow:visible}.<%=id%> .arrow-style{stroke-width:1}.<%=id%> .arcrow, .<%=id%> .arcrowomit, .<%=id%> .emphasised{stroke-linecap:butt}.<%=id%> .arcrowomit{stroke-dasharray:2,2;}.<%=id%> .box, .<%=id%> .entity{fill:white;stroke-linejoin:round}.<%=id%> .inherit{stroke:inherit;color:inherit}.<%=id%> .inherit-fill{fill:inherit}.<%=id%> .watermark{stroke:black;color:black;fill:black;font-size:48pt;font-weight:bold;opacity:0.14}",namedStyles:[{name:"basic",description:"Basic",experimental:!1,renderMagic:"straight",cssBefore:"",cssAfter:""},{name:"lazy",description:"Lazy",experimental:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> text.entity-text{font-weight:bold;text-decoration:none;}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC}.<%=id%> rect.label-text-background{opacity:0.9}.<%=id%> line.comment,.<%=id%> rect.inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke:grey}"},{name:"classic",description:"Classic",experimental:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> text.entity-text{text-decoration:none}.<%=id%> .entity{stroke:none;}.<%=id%> line,.<%=id%> rect,.<%=id%> path{stroke-width:1px}.<%=id%> .arrow-style{stroke-width:2;}.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke-width: 1px}"},{name:"fountainpen",description:"Fountain pen",experimental:!0,renderMagic:"wobbly",cssBefore:"@import 'https://fonts.googleapis.com/css?family=Gochi+Hand';",cssAfter:"svg.<%=id%>{font-family:'Gochi Hand', cursive;font-size:14px;stroke-opacity:0.4;stroke-linecap:round;background-color:transparent}.<%=id%> text{fill:rgba(0,0,128,0.7)}.<%=id%> marker polygon{fill:rgba(0,0,255,0.4);stroke-linejoin:round}.<%=id%> line, .<%=id%> path, .<%=id%> rect, .<%=id%> polygon{stroke:blue !important}.<%=id%> text.entity-text{font-weight:bold;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC;}.<%=id%> .label-text-background{opacity:0}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke:black}"},{name:"cygne",description:"Cygne (best with msgenny)",experimental:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> line, .<%=id%> path{stroke:#00A1DE}.<%=id%> text{fill:#005B82}.<%=id%> .entity,.<%=id%> .box{fill:#00A1DE;stroke:#00A1DE}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#E77B2F;stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{name:"pegasse",description:"Pégase (best with msgenny)",experimental:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> line, .<%=id%> path{stroke:rgba(0, 43, 84, 1)}.<%=id%> text{fill:rgba(0, 43, 84, 1)}.<%=id%> .entity,.<%=id%> .box{fill:rgba(0, 43, 84, 1);stroke:rgba(0, 43, 84, 1)}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:rgba(255, 50, 0, 1);stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{name:"grayscaled",description:"Grayscaled (not in IE or Safari)",experimental:!0,renderMagic:"straight",cssBefore:"",cssAfter:"svg.<%=id%>{filter:grayscale(1);-webkit-filter:grayscale(1);}"},{name:"inverted",description:"Inverted (not in IE or Safari)",experimental:!0,renderMagic:"straight",cssBefore:"",cssAfter:"svg.<%=id%>{filter:invert(1);-webkit-filter:invert(1);}"}]}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(t){"use strict";function e(t){return i[t]}var n=r(8),o={interEntitySpacing:160,height:34,width:100},i={};return{init:function(t){o.interEntitySpacing=160,o.height=34,o.width=100,t&&(o.interEntitySpacing=160*t,o.width=100*t),i={}},getX:e,setX:function(t,e){i[t.name]=e+o.width/2},getOAndD:function(t,r){return{from:e(e(t)<e(r)?t:r),to:e(e(r)>e(t)?r:t)}},setHeight:function(t){o.height=t},getDims:function(){return o},getNoEntityLines:function(t,e){return n.splitLabel(t,"box",o.width,e).length}}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(t){"use strict";function e(t,e,r){return e&&r&&["<->","->"].indexOf(t)>-1?e<r?"signal":"signal-u":""}function n(t,e,r){return"<->"===t&&e<=r?"signal-l":"signal-lu"}function o(t,r,o,i,a){var c=[];return f[r]&&f[r].attributes&&(c=f[r].attributes.map(function(c){return{name:c.name,value:c.value.replace(/\{\{signal-marker-end\}\}/g,e(r,i,a)).replace(/\{\{signal-marker-start\}\}/g,n(r,i,a)).replace(/\{\{id\}\}/g,t).replace(/\{\{color\}\}/g,o||"black")}})),c}function i(t,e){return f[l.getNormalizedKind(t)].marker.name+(Boolean(e)?" "+e:" black")}function a(t,e){function r(e){a(t,e)}return Array.isArray(e)&&e.forEach(r),e.arcs&&e.arcs.forEach(r),e.kind&&f[l.getNormalizedKind(e.kind)]&&f[l.getNormalizedKind(e.kind)].marker&&t.indexOf(i(e.kind,e.linecolor))<0&&t.push(i(e.kind,e.linecolor)),t}function c(t){return{kind:t.split(" ")[0],color:t.split(" ")[1]}}function u(t){return t.arcs.reduce(a,[]).sort().map(c)}var s=r(0),l=r(5),f={"->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"}],marker:{name:"signal"}},"<->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"},{name:"marker-start",value:"url(#{{id}}{{signal-marker-start}}-{{color}})"}],marker:{name:"signal"}},"=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},">>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},"..":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"--":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"==":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"::":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},":>":{attributes:[{name:"style",value:"stroke:{{color}};"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<:>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},"-x":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}lost-{{color}})"}],marker:{name:"lost",end:""}}},d={signal:{variants:[{name:"",path:"M9,3 l-8, 2"},{name:"-u",path:"M9,3 l-8,-2"},{name:"-l",path:"M9,3 l 8, 2"},{name:"-lu",path:"M9,3 l 8,-2"}]},method:{variants:[{name:"",path:"1,1  9,3  1,5"},{name:"-l",path:"17,1 9,3 17,5"}]},callback:{variants:[{name:"",path:"M 1,1 l 8,2 l-8,2"},{name:"-l",path:"M17,1 l-8,2 l 8,2"}]},lost:{variants:[{name:"",path:"M7,0 l5,6 M7,6 l5,-6"}]}};return{getAttributes:o,getMarkerDefs:function(t,e){return s.flatten(u(e).map(function(e){return d[e.kind].variants.map(function(r){return{name:t+e.kind+r.name+"-"+e.color,path:r.path,color:e.color,type:e.kind}})}))}}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(t){"use strict";function e(t,e){return e.forEach(function(e){"method"===e.type?t.appendChild(g.createMarkerPolygon(e.name,e.path,e.color)):t.appendChild(g.createMarkerPath(e.name,e.path,e.color))}),t}function n(t,e){var r=x.createElement("style");return r.setAttribute("type","text/css"),r.appendChild(x.createTextNode(p(t,e))),r}function o(t,r,o){var i=g.createDefs();return i.appendChild(n(o,t)),i=e(i,r)}function i(t){var e=g.createGroup(t+"__body");return e.appendChild(g.createGroup(t+"__background")),e.appendChild(g.createGroup(t+"__arcspanlayer")),e.appendChild(g.createGroup(t+"__lifelinelayer")),e.appendChild(g.createGroup(t+"__sequencelayer")),e.appendChild(g.createGroup(t+"__notelayer")),e.appendChild(g.createGroup(t+"__watermark")),e}function a(t){return g.init(t.document,{LINE_WIDTH:m.LINE_WIDTH,FONT_SIZE:m.FONT_SIZE}),t.document}function c(t,e,r,n,c){x=a(t);var s=x.getElementById(e);null===s&&(s=x.body);var f=g.createSVG(r,r,l(c));return Boolean(c.source)&&f.appendChild(u(t,c.source)),f.appendChild(o(r,n,c)),f.appendChild(i(r)),s.appendChild(f),x}function u(t,e){var r=g.createDesc();return r.appendChild(t.document.createTextNode("\n\n# Generated by mscgen_js - https://sverweij.github.io/mscgen_js\n"+e)),r}function s(t){var e=null,r=b.namedStyles.filter(function(e){return e.name===t});return r.length>0&&(e=r[0]),e}function l(t){var e="",r={};return Boolean(t)?(Boolean(t.additionalTemplate)&&(r=s(t.additionalTemplate),Boolean(r)&&(e=r.renderMagic)),e):""}function f(t,e){var r="",n={};return Boolean(t)?(Boolean(t.additionalTemplate)&&(n=s(t.additionalTemplate),Boolean(n)&&(r=n[e])),r):""}function d(t){var e=f(t,"cssAfter");return Boolean(t.styleAdditions)&&(e+=t.styleAdditions),e}function h(t){return f(t,"cssBefore")}function p(t,e){return(h(t)+b.baseTemplate+d(t)).replace(/<%=fontSize%>/g,m.FONT_SIZE).replace(/<%=lineWidth%>/g,m.LINE_WIDTH).replace(/<%=id%>/g,e)}var g=r(1),m=r(3),b=r(23),x={};return{bootstrap:c,init:a}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(t){"use strict";var e=r(0);return{scaleCanvasToWidth:function(t,r){var n=e.cloneDeep(r);return n.scale=t/n.width,n.width*=n.scale,n.height*=n.scale,n.horizontaltransform*=n.scale,n.verticaltransform*=n.scale,n.x=0-n.horizontaltransform,n.y=0-n.verticaltransform,n},determineDepthCorrection:function(t,e){return t?2*(t+1)*e*2:0},determineArcXTo:function(t,e,r){return"-x"===t?e+.75*(r-e):r}}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(){"use strict";function t(t){return e[t]?e[t]:{y:r+1.5*n+t*n,height:n}}var e=[],r=0,n=0;return{clear:function(t,o){e=[],r=t,n=o},get:t,getLast:function(){return t(e.length-1)},set:function(r,n){var o=t(r-1);e[r]={y:o.y+(o.height+n)/2,height:n}}}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(){"use strict";function t(t,e,r){return Boolean(r)&&t.setAttribute(e,r),t}function e(t,e,r,n){return Boolean(n)&&t.setAttributeNS(e,r,n),t}function r(e,r){return r&&Object.keys(r).forEach(function(n){t(e,n,r[n])}),e}function n(t,r,n){return n&&Object.keys(n).forEach(function(o){e(t,r,o,n[o])}),t}function o(t,e){return r(c.createElementNS(a,t),e)}function i(t){return c.createTextNode(t)}var a="http://www.w3.org/2000/svg",c={};return{SVGNS:a,XLINKNS:"http://www.w3.org/1999/xlink",init:function(t){c=t},setAttribute:t,setAttributes:r,setAttributesNS:n,createElement:o,createTextNode:i}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(){"use strict";function t(t){return 360*t/(2*Math.PI)}return{getDiagonalAngle:function(e){return 0-t(Math.atan(e.height/e.width))}}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(){"use strict";return function(t,e){return e?Math.round(t*Math.pow(10,e),e)/Math.pow(10,e):Math.round(t)}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(t){function e(t,e){var r=e.lineWidth||1,n=r,o=e?e.class:null,i=u.getDirection(t),a=u.determineEndCorrection(t,o,r),s=u.determineStartCorrection(t,o,r),l=(t.xTo-t.xFrom+a-s).toString(),f=(t.yTo-t.yFrom).toString(),d=c.pathPoint2String("l",i.signX,i.dy),h=c.pathPoint2String("l",l,f);return c.createPath(c.pathPoint2String("M",t.xFrom,t.yFrom-7.5*r*i.dy)+d+c.pathPoint2String("M",t.xFrom+s,t.yFrom-n)+h+c.pathPoint2String("M",t.xFrom+s,t.yFrom+n)+h+c.pathPoint2String("M",t.xTo-i.signX,t.yTo+7.5*r*i.dy)+d,e)}function n(t,e){var r=e?e.lineWidth||1:1,n=Math.max(9,Math.min(4.5*r,t.height/2)),o=n.toString(10);return c.createPath(c.pathPoint2String("M",t.x,t.y)+c.pathPoint2String("l",t.width-n,0)+c.pathPoint2String("l",0,o)+c.pathPoint2String("l",o,0)+c.pathPoint2String("m",-o,-o)+c.pathPoint2String("l",o,o)+c.pathPoint2String("l",0,t.height-n)+c.pathPoint2String("l",-t.width,0)+c.pathPoint2String("l",0,-t.height)+"z",e)}function o(t,e){return e.rx=6,e.ry=6,c.createRect(t,e)}function i(t,e){return c.createPath(c.pathPoint2String("M",t.x,t.y+t.height/2)+c.pathPoint2String("l",3,-(t.height/2))+c.pathPoint2String("l",t.width-6,0)+c.pathPoint2String("l",3,t.height/2)+c.pathPoint2String("l",-3,t.height/2)+c.pathPoint2String("l",-(t.width-6),0)+"z",e)}function a(t,e){var r=e&&e.foldSize?e.foldSize:7,n=s.defaults(e,{class:null,color:null,bgColor:null});return c.createPath(c.pathPoint2String("M",t.x,t.y)+c.pathPoint2String("l",t.width,0)+c.pathPoint2String("l",0,t.height-r)+c.pathPoint2String("l",-r,r)+c.pathPoint2String("l",-(t.width-r),0),n)}var c=r(9),u=r(10),s=r(0);return{createSingleLine:c.createSingleLine,createDoubleLine:e,createNote:n,createRect:c.createRect,createABox:i,createRBox:o,createEdgeRemark:a,createDesc:c.createDesc,createDefs:c.createDefs,createDiagonalText:c.createDiagonalText,createTSpan:c.createTSpan,createText:c.createText,createUTurn:c.createUTurn,createGroup:c.createGroup,createUse:c.createUse,createMarkerPath:c.createMarkerPath,createMarkerPolygon:c.createMarkerPolygon,createTitle:c.createTitle,createSVG:c.createSVG,updateSVG:c.updateSVG,init:c.init}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(t){function e(t){return t.map(function(t){return h.pathPoint2String("S",t.controlX,t.controlY)+" "+h.point2String(t.x,t.y)}).join(" ")}function n(t,r){var n=p.getDirection(t);return h.createPath(h.pathPoint2String("M",t.xFrom,t.yFrom)+h.pathPoint2String("L",p.round(t.xFrom+n.signX*Math.sqrt(1/(1+Math.pow(n.dy,2)))),t.yFrom+n.signY*(Math.abs(n.dy)===1/0?1:p.round(Math.sqrt(Math.pow(n.dy,2)/(1+Math.pow(n.dy,2))))))+e(p.getBetweenPoints(t,g,m)),{class:r?r.class:null})}function o(t,r){return h.pathPoint2String("M",t.x,t.y)+e(p.getBetweenPoints({xFrom:t.x,yFrom:t.y,xTo:t.x+t.width-r,yTo:t.y},g,m))+h.pathPoint2String("L",t.x+t.width-r,t.y)+e(p.getBetweenPoints({xFrom:t.x+t.width-r,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+r},g,m))+h.pathPoint2String("L",t.x+t.width,t.y+r)+e(p.getBetweenPoints({xFrom:t.x+t.width,yFrom:t.y+r,xTo:t.x+t.width,yTo:t.y+t.height},g,m))+h.pathPoint2String("L",t.x+t.width,t.y+t.height)+e(p.getBetweenPoints({xFrom:t.x+t.width,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height},g,m))+h.pathPoint2String("L",t.x,t.y+t.height)+e(p.getBetweenPoints({xFrom:t.x,yFrom:t.y+t.height,xTo:t.x,yTo:t.y},g,m))+h.pathPoint2String("L",t.x,t.y)+"z"}function i(t,r){return h.pathPoint2String("M",t.x+t.width-r,t.y)+e(p.getBetweenPoints({xFrom:t.x+t.width-r,yFrom:t.y,xTo:t.x+t.width-r,yTo:t.y+r},g,m))+h.pathPoint2String("L",t.x+t.width-r,t.y+r)+e(p.getBetweenPoints({xFrom:t.x+t.width-r,yFrom:t.y+r,xTo:t.x+t.width,yTo:t.y+r},g,m))+h.pathPoint2String("L",t.x+t.width,t.y+r)}function a(t,e){var r=e?e.lineWidth||1:1,n=Math.max(9,Math.min(4.5*r,t.height/2)),a=h.createGroup();return a.appendChild(h.createPath(o(t,n),e)),e.bgColor="transparent",a.appendChild(h.createPath(i(t,n),e)),a}function c(t){return Boolean(t.y)||(t.y=0),h.pathPoint2String("M",t.x,t.y)+e(p.getBetweenPoints({xFrom:t.x,yFrom:t.y,xTo:t.x+t.width,yTo:t.y},g,m))+h.pathPoint2String("L",t.x+t.width,t.y)+e(p.getBetweenPoints({xFrom:t.x+t.width,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height},g,m))+h.pathPoint2String("L",t.x+t.width,t.y+t.height)+e(p.getBetweenPoints({xFrom:t.x+t.width,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height},g,m))+h.pathPoint2String("L",t.x,t.y+t.height)+e(p.getBetweenPoints({xFrom:t.x,yFrom:t.y+t.height,xTo:t.x,yTo:t.y},g,m))+"z"}function u(t,e){return h.createPath(c(t,e),e)}function s(t,r){return h.createPath(h.pathPoint2String("M",t.x,t.y+t.height/2)+e(p.getBetweenPoints({xFrom:t.x,yFrom:t.y+t.height/2,xTo:t.x+3,yTo:t.y},g,m))+h.pathPoint2String("L",t.x+3,t.y)+e(p.getBetweenPoints({xFrom:t.x+3,yFrom:t.y,xTo:t.x+t.width-3,yTo:t.y},g,m))+h.pathPoint2String("L",t.x+t.width-3,t.y)+e(p.getBetweenPoints({xFrom:t.x+t.width-3,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height/2},g,m))+h.pathPoint2String("L",t.x+t.width,t.y+t.height/2)+e(p.getBetweenPoints({xFrom:t.x+t.width,yFrom:t.y+t.height/2,xTo:t.x+t.width-3,yTo:t.y+t.height},g,m))+h.pathPoint2String("L",t.x+t.width-3,t.y+t.height)+e(p.getBetweenPoints({xFrom:t.x+t.width-3,yFrom:t.y+t.height,xTo:t.x+3,yTo:t.y+t.height},g,m))+h.pathPoint2String("L",t.x+3,t.y+t.height)+e(p.getBetweenPoints({xFrom:t.x+3,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height/2},g,m))+"z",r)}function l(t,r){return h.createPath(h.pathPoint2String("M",t.x,t.y+6)+e([{controlX:t.x,controlY:t.y,x:t.x+6,y:t.y}])+e(p.getBetweenPoints({xFrom:t.x+6,yFrom:t.y,xTo:t.x+t.width-6,yTo:t.y},g,m))+h.pathPoint2String("L",t.x+t.width-6,t.y)+e([{controlX:t.x+t.width,controlY:t.y,x:t.x+t.width,y:t.y+6}])+e(p.getBetweenPoints({xFrom:t.x+t.width,yFrom:t.y+6,xTo:t.x+t.width,yTo:t.y+t.height-6},g,m))+h.pathPoint2String("L",t.x+t.width,t.y+t.height-6)+e([{controlX:t.x+t.width,controlY:t.y+t.height,x:t.x+t.width-6,y:t.y+t.height}])+e(p.getBetweenPoints({xFrom:t.x+t.width-6,yFrom:t.y+t.height,xTo:t.x+6,yTo:t.y+t.height},g,m))+h.pathPoint2String("L",t.x+6,t.y+t.height)+e([{controlX:t.x,controlY:t.y+t.height,x:t.x,y:t.y+t.height-6}])+e(p.getBetweenPoints({xFrom:t.x,yFrom:t.y+t.height-6,xTo:t.x,yTo:t.y+6},g,m))+"z",r)}function f(t,r){var n=r?r.lineWidth||1:1,o=h.createGroup(),i=r&&r.foldSize?r.foldSize:7,a=r&&r.color?r.color:"black";r.color="transparent!important";var c=h.createPath(h.pathPoint2String("M",t.x,t.y+n/2)+h.pathPoint2String("L",t.x+t.width,t.y+n/2)+h.pathPoint2String("L",t.x+t.width,t.y+t.height-i)+h.pathPoint2String("L",t.x+t.width-i,t.y+t.height)+h.pathPoint2String("L",t.x,t.y+t.height)+"z",r);r.bgColor="transparent",r.color=a;var u=h.createPath(h.pathPoint2String("M",t.x+t.width,t.y)+e(p.getBetweenPoints({xFrom:t.x+t.width,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height-i},g,m))+h.pathPoint2String("L",t.x+t.width,t.y+t.height-i)+e(p.getBetweenPoints({xFrom:t.x+t.width,yFrom:t.y+t.height-i,xTo:t.x+t.width-i,yTo:t.y+t.height},g,m))+h.pathPoint2String("L",t.x+t.width-i,t.y+t.height)+e(p.getBetweenPoints({xFrom:t.x+t.width-i,yFrom:t.y+t.height,xTo:t.x-1,yTo:t.y+t.height},g,m))+h.pathPoint2String("L",t.x-1,t.y+t.height),r);return o.appendChild(c),o.appendChild(u),o}function d(t,r){var n=r.lineWidth||1,o=n,i=r?r.class:null,a=p.getDirection(t),c=p.determineEndCorrection(t,i,n),u=p.determineStartCorrection(t,i,n);return h.createPath(h.pathPoint2String("M",t.xFrom,t.yFrom-7.5*n*a.dy)+h.pathPoint2String("l",a.signX,a.dy)+h.pathPoint2String("M",t.xFrom+u,t.yFrom-o)+e(p.getBetweenPoints({xFrom:t.xFrom+u,yFrom:t.yFrom-o,xTo:t.xTo+c,yTo:t.yTo-o},g,m))+h.pathPoint2String("M",t.xFrom+u,t.yFrom+o)+e(p.getBetweenPoints({xFrom:t.xFrom+u,yFrom:t.yFrom+o,xTo:t.xTo+c,yTo:t.yTo+o},g,m))+h.pathPoint2String("M",t.xTo-a.signX,t.yTo+7.5*n*a.dy)+h.pathPoint2String("l",a.signX,a.dy),i)}var h=r(9),p=r(10),g=70,m=3;return{createSingleLine:n,createDoubleLine:d,createNote:a,createRect:u,createABox:s,createRBox:l,createEdgeRemark:f,createDesc:h.createDesc,createDefs:h.createDefs,createDiagonalText:h.createDiagonalText,createTSpan:h.createTSpan,createText:h.createText,createUTurn:h.createUTurn,createGroup:h.createGroup,createUse:h.createUse,createMarkerPath:h.createMarkerPath,createMarkerPolygon:h.createMarkerPolygon,createTitle:h.createTitle,createSVG:h.createSVG,updateSVG:h.updateSVG,init:h.init}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(){"use strict";return{unescapeString:function(t){return t.replace(/\\"/g,'"')},escapeString:function(t){return t.replace(/\\"/g,'"').replace(/"/g,'\\"')}}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){var n;void 0!==(n=function(){"use strict";return{wrap:function(t,e){for(var r=0,n=[],o=0,i=0,a=0,c=0,u=t.replace(/[\t\n]+/g," ").replace(/\\n/g,"\n");c<=u.length;)c>=u.length?n.push(u.substring(o,c)):"\n"===u[c]?(r=0,a=c,n.push(u.substring(o,a)),o=a+1):r++>=e&&(a=u.substring(0,c).lastIndexOf(" "),a===-1||a<o?(r=1,a=c,i=c):(r=0,i=a+1),n.push(u.substring(o,a)),o=i),c++;return n}}}.call(e,r,e,t))&&(t.exports=n)},function(t,e,r){Promise.resolve().then(function(){var t=[r(15),r(14),r(16),r(18),r(12),r(13),r(17),r(4)];(function(t,e,r,n,o,i,a,c){"use strict";function u(){for(var t=document.scripts,e=0;e<t.length;e++)T[t[e].type]&&!t[e].hasAttribute("data-renderedby")&&(t[e].insertAdjacentHTML("afterend",c.applyTemplate(C,{src:t[e].src?c.applyTemplate(A,{src:t[e].src}):"",lang:T[t[e].type]||o.getConfig().defaultLanguage,msc:t[e].textContent.replace(/</g,"&lt;"),mirrorEntities:b(t[e])?"data-mirror-entities='true'":"",namedStyle:x(t[e]),regularArcTextVerticalAlignment:y(t[e])})),t[e].setAttribute("data-renderedby","mscgen_js"))}function s(t,e){for(var r=0;r<t.length;r++)l(t[r],e+r)}function l(t,e){t.hasAttribute("data-renderedby")||d(t,e)}function f(t,e){t.innerHTML=c.applyTemplate("<div style='color: #d00'>{string}</div>",{string:e})}function d(t,e){g(t,e),t.setAttribute("data-renderedby","mscgen_js"),o.getConfig().loadFromSrcAttribute&&t.getAttribute("data-src")?a.ajax(t.getAttribute("data-src"),function(e){h(t,e.target.response)},function(){f(t,c.applyTemplate(k,{url:t.getAttribute("data-src")}))}):!o.getConfig().loadFromSrcAttribute&&t.getAttribute("data-src")?f(t,c.applyTemplate(_,{url:t.getAttribute("data-src")})):h(t,t.textContent)}function h(t,e){var r=m(t),n=v(e,r);n.entities?w(n,t.id,e,r,b(t),x(t),y(t)):t.innerHTML=i.renderError(e,n.location,n.message)}function p(t,e,r){var i={pathname:"index.html"},a=document.createElement("a");return a.setAttribute("href",o.getConfig().clickURL+n.toLocationString(i,t,e)),a.setAttribute("id",r+"link"),a.setAttribute("style","text-decoration: none;"),a.setAttribute("title","click to edit in the mscgen_js interpreter"),a}function g(t,e){t.id||(t.id=o.getConfig().parentElementPrefix+e.toString())}function m(t){var e=t.getAttribute("data-language");return e||(e=o.getConfig().defaultLanguage),e}function b(t){var e=t.getAttribute("data-mirror-entities");return!(!e||"true"!==e)}function x(t){return t.getAttribute("data-named-style")||"basic"}function y(t){return t.getAttribute("data-regular-arc-text-vertical-alignment")||"middle"}function v(r,n){var o={};try{o="msgenny"===n?e.parse(r):"json"===n?JSON.parse(r):t.parse(r)}catch(t){return t}return o}function w(t,e,n,i,a,c,u){var s=document.getElementById(e);s.innerHTML="",!0===o.getConfig().clickable&&(s.appendChild(p(n,i,e)),e+="link"),r.clean(e,window),r.renderASTNew(t,window,e,{source:n,additionalTemplate:c,mirrorEntitiesOnBottom:a,regularArcTextVerticalAlignment:u})}var C="<span class='mscgen_js' {src} data-language='{lang}' data-named-style='{namedStyle}' data-regular-arc-text-vertical-alignment='{regularArcTextVerticalAlignment}' {mirrorEntities}>{msc}<span>",A="data-src='{src}' ",k="ERROR: Could not find or open the URL '{url}' specified in the <code>data-src</code> attribute.",_="ERROR: Won't load the chart specified in <code>data-src='{url}'</code>, because loading from separate files is switched off in the mscgen_js configuration. <br><br>See <a href='https://sverweij.github.io/mscgen_js/embed.html#loading-from-separate-files'>Loading charts from separate files</a> in the mscgen_js embedding guide how to enable it.",T={"text/x-mscgen":"mscgen","text/x-msgenny":"msgenny","text/x-xu":"xu"};!function(){u();var t=document.getElementsByClassName("mscgen_js");s(t,0),s(document.getElementsByTagName("mscgen"),t.length)}()}).apply(null,t)}).catch(r.oe)}]);